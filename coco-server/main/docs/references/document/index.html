<!doctype html><html lang=en><head><meta name=generator content="Hugo 0.79.1"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Document API #  Document API Reference #  Documents #  Below is the field description for the document.
   Field Type Description     source object The source of the document.   category string Primary category of the document, e.g., report.   subcategory string Secondary category of the document, e.g., 2024.   categories array[string] List of categories the document belongs to, e."><meta name=theme-color content="#FFFFFF"><meta property="og:title" content="Document"><meta property="og:description" content="Document API #  Document API Reference #  Documents #  Below is the field description for the document.
   Field Type Description     source object The source of the document.   category string Primary category of the document, e.g., report.   subcategory string Secondary category of the document, e.g., 2024.   categories array[string] List of categories the document belongs to, e."><meta property="og:type" content="article"><meta property="og:url" content="/coco-server/main/docs/references/document/"><title>Document | Coco Server</title><link rel=manifest href=/coco-server/main/manifest.json><link rel=icon href=/coco-server/main/favicon.png type=image/x-icon><link rel=stylesheet href=/coco-server/main/book.min.d80e87b12a4b49d9913d0bdd98bd83b7a44988be784760ba15522b377313dcf9.css integrity="sha256-2A6HsSpLSdmRPQvdmL2Dt6RJiL54R2C6FVIrN3MT3Pk="><script defer src=/coco-server/main/js/jquery-2.x.min.js></script><script defer src=/coco-server/main/js/doc.js></script></head><body><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><nav><h2 class=book-brand><a href=/coco-server/main><img src=/coco-server/main/img/logo-en.svg alt=Logo></a></h2><div id=searchbox style=margin-bottom:10px></div><div class=heading><select class=version-selector>
<option value>main (latest)</option>
<option value=v0.3.0>v0.3.0</option>
<option value=v0.2.2>v0.2.2</option></select></div><ul><li><input type=checkbox id=section-f1b7c1b2e5dd43526e77637c475d35b8 class=toggle>
<label for=section-f1b7c1b2e5dd43526e77637c475d35b8 class="flex justify-between"><a>Getting Started</a>
<span>▾</span></label><ul><li><a href=/coco-server/main/docs/getting-started/install/>Installation</a></li><li><a href=/coco-server/main/docs/getting-started/setup/>Setup Wizard</a></li></ul></li><li><input type=checkbox id=section-fb088f8a9be33f7f260ad2b140bb7bdc class=toggle checked>
<label for=section-fb088f8a9be33f7f260ad2b140bb7bdc class="flex justify-between"><a href=/coco-server/main/docs/references/>References</a>
<span>▾</span></label><ul><li><input type=checkbox id=section-97bb467845ddef2c28eba43b4c87ba98 class=toggle>
<label for=section-97bb467845ddef2c28eba43b4c87ba98 class="flex justify-between"><a>System</a>
<span>▾</span></label><ul><li><a href=/coco-server/main/docs/references/system/install/>System Initialization</a></li><li><a href=/coco-server/main/docs/references/system/settings/>System Settings</a></li></ul></li><li><input type=checkbox id=section-830be57e26216c4b31d75f7e80eea5a9 class=toggle>
<label for=section-830be57e26216c4b31d75f7e80eea5a9 class="flex justify-between"><a>Account</a>
<span>▾</span></label><ul><li><a href=/coco-server/main/docs/references/account/authentication/>Authentication</a></li><li><a href=/coco-server/main/docs/references/account/access_token/>API Token</a></li><li><a href=/coco-server/main/docs/references/account/password/>Modify Password</a></li><li><a href=/coco-server/main/docs/references/account/profile/>Profile</a></li><li><a href=/coco-server/main/docs/references/account/logout/>Logout</a></li></ul></li><li><a href=/coco-server/main/docs/references/assistant/>Assistant</a></li><li><a href=/coco-server/main/docs/references/document/ class=active>Document</a></li><li><a href=/coco-server/main/docs/references/search/>Search</a></li><li><a href=/coco-server/main/docs/references/datasource/>Datasource</a></li><li><a href=/coco-server/main/docs/references/integration/>Integration</a></li><li><a href=/coco-server/main/docs/references/attachment/>Attachment</a></li><li><input type=checkbox id=section-6163ea64c3eeec962ea0b7215fc64522 class=toggle>
<label for=section-6163ea64c3eeec962ea0b7215fc64522 class="flex justify-between"><a href=/coco-server/main/docs/references/connectors/>Connectors</a>
<span>▾</span></label><ul><li><a href=/coco-server/main/docs/references/connectors/google_drive/>Google Drive</a></li><li><a href=/coco-server/main/docs/references/connectors/hugo_site/>Hugo Site</a></li><li><a href=/coco-server/main/docs/references/connectors/notion/>Notion</a></li><li><a href=/coco-server/main/docs/references/connectors/yuque/>Yuque</a></li></ul></li></ul></li><li><input type=checkbox id=section-7dd85575c84e6825eb9419e748eb5977 class=toggle>
<label for=section-7dd85575c84e6825eb9419e748eb5977 class="flex justify-between"><a href=/coco-server/main/docs/tutorials/>Tutorials</a>
<span>▾</span></label><ul><li><a href=/coco-server/main/docs/tutorials/howto_create_your_own_datasource/>How to integrate Coco AI with your own datasource</a></li></ul></li><li><a href=/coco-server/main/docs/release-notes/>Release Notes</a><ul></ul></li></ul><ul><li><a href=https://github.com/infinilabs/coco-server target=_blank rel=noopener>Github</a></li></ul></nav><script>(function(){var menu=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(event){localStorage.setItem("menu.scrollTop",menu.scrollTop);});menu.scrollTop=localStorage.getItem("menu.scrollTop");})();</script></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/coco-server/main/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Document</strong>
<label for=toc-control><img src=/coco-server/main/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#document-api>Document API</a><ul><li><a href=#document-api-reference>Document API Reference</a><ul><li><a href=#documents>Documents</a></li><li><a href=#index-a-document>Index a Document</a></li><li><a href=#get-a-document>Get a Document</a></li><li><a href=#update-a-document>Update a Document</a></li><li><a href=#delete-a-document>Delete a Document</a></li></ul></li></ul></li></ul></nav></aside></header><article class=markdown><h1 id=document-api>Document API
<a class=anchor href=#document-api>#</a></h1><h2 id=document-api-reference>Document API Reference
<a class=anchor href=#document-api-reference>#</a></h2><h3 id=documents>Documents
<a class=anchor href=#documents>#</a></h3><p>Below is the field description for the document.</p><table><thead><tr><th><strong>Field</strong></th><th><strong>Type</strong></th><th><strong>Description</strong></th></tr></thead><tbody><tr><td><code>source</code></td><td><code>object</code></td><td>The source of the document.</td></tr><tr><td><code>category</code></td><td><code>string</code></td><td>Primary category of the document, e.g., <code>report</code>.</td></tr><tr><td><code>subcategory</code></td><td><code>string</code></td><td>Secondary category of the document, e.g., <code>2024</code>.</td></tr><tr><td><code>categories</code></td><td><code>array[string]</code></td><td>List of categories the document belongs to, e.g., <code>["business", "quarterly_reports"]</code>.</td></tr><tr><td><code>cover</code></td><td><code>string</code> (URL)</td><td>URL to the cover image of the document.</td></tr><tr><td><code>title</code></td><td><code>string</code></td><td>Title of the document, e.g., <code>Q3 Business Report</code>.</td></tr><tr><td><code>summary</code></td><td><code>string</code></td><td>A brief summary of the document content.</td></tr><tr><td><code>type</code></td><td><code>string</code></td><td>Type of the document, e.g., <code>PDF</code>.</td></tr><tr><td><code>lang</code></td><td><code>string</code></td><td>Language of the document, e.g., <code>en</code>.</td></tr><tr><td><code>content</code></td><td><code>string</code></td><td>The main content or body of the document.</td></tr><tr><td><code>icon</code></td><td><code>string</code> (URL)</td><td>URL to the document&rsquo;s icon.</td></tr><tr><td><code>thumbnail</code></td><td><code>string</code> (URL)</td><td>URL to the document&rsquo;s thumbnail image.</td></tr><tr><td><code>tags</code></td><td><code>array[string]</code></td><td>Tags associated with the document, e.g., <code>["finance", "quarterly", "business", "report"]</code>.</td></tr><tr><td><code>url</code></td><td><code>string</code> (URL)</td><td>URL link to the document, e.g., a Google Drive link.</td></tr><tr><td><code>size</code></td><td><code>integer</code></td><td>Size of the document in bytes, e.g., <code>1048576</code> for 1 MB.</td></tr><tr><td><code>owner</code></td><td><code>object</code></td><td>Information about the document&rsquo;s owner.</td></tr><tr><td><code>owner.avatar</code></td><td><code>string</code> (URL)</td><td>URL to the owner&rsquo;s avatar image.</td></tr><tr><td><code>owner.username</code></td><td><code>string</code></td><td>Username of the owner, e.g., <code>jdoe</code>.</td></tr><tr><td><code>owner.userid</code></td><td><code>string</code></td><td>User ID of the owner, e.g., <code>user123</code>.</td></tr><tr><td><code>metadata</code></td><td><code>object</code></td><td>Additional accessible metadata (e.g., file version, permissions).</td></tr><tr><td><code>payload</code></td><td><code>object</code></td><td>Additional store-only metadata (e.g., file binary data).</td></tr><tr><td><code>last_updated_by</code></td><td><code>object</code></td><td>Information about the last user who updated the document.</td></tr><tr><td><code>last_updated_by.user</code></td><td><code>object</code></td><td>Details about the user who last updated the document.</td></tr><tr><td><code>last_updated_by.user.avatar</code></td><td><code>string</code> (URL)</td><td>URL to the avatar of the last editor.</td></tr><tr><td><code>last_updated_by.user.username</code></td><td><code>string</code></td><td>Username of the last editor, e.g., <code>editor123</code>.</td></tr><tr><td><code>last_updated_by.user.userid</code></td><td><code>string</code></td><td>User ID of the last editor, e.g., <code>editor123@example.com</code>.</td></tr><tr><td><code>last_updated_by.timestamp</code></td><td><code>string</code> (datetime)</td><td>Timestamp of the last update, e.g., <code>2024-11-01T15:30:00Z</code>.</td></tr></tbody></table><h3 id=index-a-document>Index a Document
<a class=anchor href=#index-a-document>#</a></h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>//request
curl -H <span style=color:#e6db74>&#39;Content-Type: application/json&#39;</span> -XPOST http://localhost:9000/document/ -d <span style=color:#e6db74>&#39;{
</span><span style=color:#e6db74>  &#34;source&#34;: {
</span><span style=color:#e6db74>    &#34;type&#34;:&#34;connector&#34;,
</span><span style=color:#e6db74>    &#34;name&#34;:&#34;My Hugo Site&#34;,
</span><span style=color:#e6db74>    &#34;id&#34;:&#34;e806831dacc3&#34;,
</span><span style=color:#e6db74>  },
</span><span style=color:#e6db74>  &#34;category&#34;: &#34;report&#34;,
</span><span style=color:#e6db74>  &#34;categories&#34;: [&#34;business&#34;, &#34;quarterly_reports&#34;],
</span><span style=color:#e6db74>  &#34;cover&#34;: &#34;https://example.com/images/report_cover.jpg&#34;,
</span><span style=color:#e6db74>  &#34;title&#34;: &#34;Q3 Business Report&#34;,
</span><span style=color:#e6db74>  &#34;summary&#34;: &#34;An overview of the company financial performance for Q3.&#34;,
</span><span style=color:#e6db74>  &#34;type&#34;: &#34;PDF&#34;,
</span><span style=color:#e6db74>  &#34;lang&#34;: &#34;en&#34;,
</span><span style=color:#e6db74>  &#34;content&#34;: &#34;This quarters revenue increased by 15%, driven by strong sales in the APAC region...&#34;,
</span><span style=color:#e6db74>  &#34;icon&#34;: &#34;https://example.com/images/icon.png&#34;,
</span><span style=color:#e6db74>  &#34;thumbnail&#34;: &#34;https://example.com/images/report_thumbnail.jpg&#34;,
</span><span style=color:#e6db74>  &#34;tags&#34;: [&#34;finance&#34;, &#34;quarterly&#34;, &#34;business&#34;, &#34;report&#34;],
</span><span style=color:#e6db74>  &#34;url&#34;: &#34;https://drive.google.com/file/d/abc123/view&#34;,
</span><span style=color:#e6db74>  &#34;size&#34;: 1048576,
</span><span style=color:#e6db74>  &#34;owner&#34;: {
</span><span style=color:#e6db74>    &#34;avatar&#34;: &#34;https://example.com/images/user_avatar.jpg&#34;,
</span><span style=color:#e6db74>    &#34;username&#34;: &#34;jdoe&#34;,
</span><span style=color:#e6db74>    &#34;userid&#34;: &#34;user123&#34;
</span><span style=color:#e6db74>  },
</span><span style=color:#e6db74>  &#34;metadata&#34;: {
</span><span style=color:#e6db74>    &#34;version&#34;: &#34;1.2&#34;,
</span><span style=color:#e6db74>    &#34;department&#34;: &#34;Finance&#34;,
</span><span style=color:#e6db74>    &#34;last_reviewed&#34;: &#34;2024-10-20&#34;,
</span><span style=color:#e6db74>    &#34;file_extension&#34;: &#34;pdf&#34;,
</span><span style=color:#e6db74>    &#34;icon_link&#34;: &#34;https://example.com/images/file_icon.png&#34;,
</span><span style=color:#e6db74>    &#34;has_thumbnail&#34;: true,
</span><span style=color:#e6db74>    &#34;kind&#34;: &#34;drive#file&#34;,
</span><span style=color:#e6db74>    &#34;parents&#34;: [&#34;folder123&#34;],
</span><span style=color:#e6db74>    &#34;properties&#34;: { &#34;shared&#34;: &#34;true&#34; },
</span><span style=color:#e6db74>    &#34;spaces&#34;: [&#34;drive&#34;],
</span><span style=color:#e6db74>    &#34;starred&#34;: false,
</span><span style=color:#e6db74>    &#34;driveId&#34;: &#34;drive123&#34;,
</span><span style=color:#e6db74>    &#34;thumbnail_link&#34;: &#34;https://example.com/images/file_thumbnail.jpg&#34;,
</span><span style=color:#e6db74>    &#34;video_media_metadata&#34;: { &#34;durationMillis&#34;: &#34;60000&#34;, &#34;width&#34;: 1920, &#34;height&#34;: 1080 },
</span><span style=color:#e6db74>    &#34;image_media_metadata&#34;: { &#34;width&#34;: 1024, &#34;height&#34;: 768 }
</span><span style=color:#e6db74>  },
</span><span style=color:#e6db74>  &#34;last_updated_by&#34;: {
</span><span style=color:#e6db74>    &#34;user&#34;: {
</span><span style=color:#e6db74>      &#34;avatar&#34;: &#34;https://example.com/images/editor_avatar.jpg&#34;,
</span><span style=color:#e6db74>      &#34;username&#34;: &#34;editor123&#34;,
</span><span style=color:#e6db74>      &#34;userid&#34;: &#34;editor123@example.com&#34;
</span><span style=color:#e6db74>    },
</span><span style=color:#e6db74>    &#34;timestamp&#34;: &#34;2024-11-01T15:30:00Z&#34;
</span><span style=color:#e6db74>  }
</span><span style=color:#e6db74>}&#39;</span>

//response
<span style=color:#f92672>{</span>
  <span style=color:#e6db74>&#34;_id&#34;</span>: <span style=color:#e6db74>&#34;cso9vr3q50k38nobvmcg&#34;</span>,
  <span style=color:#e6db74>&#34;result&#34;</span>: <span style=color:#e6db74>&#34;created&#34;</span>
<span style=color:#f92672>}</span>
</code></pre></div><h3 id=get-a-document>Get a Document
<a class=anchor href=#get-a-document>#</a></h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>//request
curl   -XGET http://localhost:9000/document/cso9vr3q50k38nobvmcg

//response
<span style=color:#f92672>{</span>
  <span style=color:#e6db74>&#34;_id&#34;</span>: <span style=color:#e6db74>&#34;cso9vr3q50k38nobvmcg&#34;</span>,
  <span style=color:#e6db74>&#34;_source&#34;</span>: <span style=color:#f92672>{</span>
    <span style=color:#e6db74>&#34;id&#34;</span>: <span style=color:#e6db74>&#34;cso9vr3q50k38nobvmcg&#34;</span>,
    <span style=color:#e6db74>&#34;created&#34;</span>: <span style=color:#e6db74>&#34;2024-11-10T19:58:36.009086+08:00&#34;</span>,
    <span style=color:#e6db74>&#34;updated&#34;</span>: <span style=color:#e6db74>&#34;2024-11-10T19:58:36.009092+08:00&#34;</span>,
     <span style=color:#e6db74>&#34;source&#34;</span>: <span style=color:#f92672>{</span>
        <span style=color:#e6db74>&#34;type&#34;</span>:<span style=color:#e6db74>&#34;connector&#34;</span>,
        <span style=color:#e6db74>&#34;name&#34;</span>:<span style=color:#e6db74>&#34;My Hugo Site&#34;</span>,
        <span style=color:#e6db74>&#34;id&#34;</span>:<span style=color:#e6db74>&#34;e806831dacc3&#34;</span>,
      <span style=color:#f92672>}</span>
    ...OMITTED...
   ,
  <span style=color:#e6db74>&#34;found&#34;</span>: true
<span style=color:#f92672>}</span>
</code></pre></div><h3 id=update-a-document>Update a Document
<a class=anchor href=#update-a-document>#</a></h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>//request
curl  -H <span style=color:#e6db74>&#39;Content-Type: application/json&#39;</span>   -XPUT http://localhost:9000/document/cso9vr3q50k38nobvmcg -d<span style=color:#e6db74>&#39;{ &#34;source&#34;: &#34;google_drive&#34;, ...OMITTED... , &#34;timestamp&#34;: &#34;2024-11-01T15:30:00Z&#34; } }&#39;</span>

//response
<span style=color:#f92672>{</span>
  <span style=color:#e6db74>&#34;_id&#34;</span>: <span style=color:#e6db74>&#34;cso9vr3q50k38nobvmcg&#34;</span>,
  <span style=color:#e6db74>&#34;result&#34;</span>: <span style=color:#e6db74>&#34;updated&#34;</span>
<span style=color:#f92672>}</span>
</code></pre></div><h3 id=delete-a-document>Delete a Document
<a class=anchor href=#delete-a-document>#</a></h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>//request
curl  -XDELETE http://localhost:9000/document/cso9vr3q50k38nobvmcg

//response
<span style=color:#f92672>{</span>
  <span style=color:#e6db74>&#34;_id&#34;</span>: <span style=color:#e6db74>&#34;cso9vr3q50k38nobvmcg&#34;</span>,
  <span style=color:#e6db74>&#34;result&#34;</span>: <span style=color:#e6db74>&#34;deleted&#34;</span>
<span style=color:#f92672>}</span>
</code></pre></div></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/infinilabs/coco-server/edit/main/docs/content.en/docs/references/document.md target=_blank rel=noopener><img src=/coco-server/main/svg/edit.svg class=book-icon alt=Edit>
<span>Edit this page</span></a></div><div class="flex align-center footer">©INFINI.LTD, All Rights Reserved.</div><script>(function(h,o,t,j,a,r){h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};h._hjSettings={hjid:2567416,hjsv:6};a=o.getElementsByTagName('head')[0];r=o.createElement('script');r.async=1;r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;a.appendChild(r);})(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-RJPTVP614C"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}
gtag('js',new Date());gtag('config','G-RJPTVP614C');</script><script type=text/javascript>var _smartsupp=_smartsupp||{};_smartsupp.key='691ff544d18a237005a011a7290b839d8fe811a4';window.smartsupp||(function(d){var s,c,o=smartsupp=function(){o._.push(arguments)};o._=[];s=d.getElementsByTagName('script')[0];c=d.createElement('script');c.type='text/javascript';c.charset='utf-8';c.async=true;c.src='https://www.smartsuppchat.com/loader.js?';s.parentNode.insertBefore(c,s);})(document);</script></div><script type=module>
    import { searchbox } from "https://coco.infini.cloud/integration/cvn0g9ehpcehvsthrakg/widget";
    searchbox({container: "#searchbox"});
</script></footer><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><nav id=TableOfContents><ul><li><a href=#document-api>Document API</a><ul><li><a href=#document-api-reference>Document API Reference</a><ul><li><a href=#documents>Documents</a></li><li><a href=#index-a-document>Index a Document</a></li><li><a href=#get-a-document>Get a Document</a></li><li><a href=#update-a-document>Update a Document</a></li><li><a href=#delete-a-document>Delete a Document</a></li></ul></li></ul></li></ul></nav></aside></main></body></html>