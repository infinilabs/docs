[{"category":null,"content":"logs_processor #  描述 #  logs_processor 处理器可采集任意日志。\n配置示例 #  以 elasticsearch 日志为例。\npipeline: - name: log_collect auto_start: true keep_running: true retry_delay_in_ms: 3000 processor: - logs_processor: queue_name: \u0026#34;logs\u0026#34; logs_path: \u0026#34;/opt/es/elasticsearch-7.7.1/logs\u0026#34; # metadata for all log items metadata: category: elasticsearch patterns: - pattern: \u0026#34;.*_server.json$\u0026#34; type: json metadata: name: server timestamp_fields: [\u0026#34;timestamp\u0026#34;, \u0026#34;@timestamp\u0026#34;] remove_fields: [ \u0026#34;type\u0026#34;, \u0026#34;cluster.name\u0026#34;, \u0026#34;cluster.uuid\u0026#34;, \u0026#34;node.name\u0026#34;, \u0026#34;node.id\u0026#34;, \u0026#34;timestamp\u0026#34;, \u0026#34;@timestamp\u0026#34;, ] - pattern: \u0026#34;gc.log$\u0026#34; type: text metadata: name: gc timestamp_patterns: - \u0026#34;\\\\d{4}-\\\\d{1,2}-\\\\d{1,2}T\\\\d{1,2}:\\\\d{1,2}:\\\\d{1,2}.\\\\d{3}\\\\+\\\\d{4}\u0026#34; - \u0026#34;\\\\d{4}-\\\\d{1,2}-\\\\d{1,2} \\\\d{1,2}:\\\\d{1,2}:\\\\d{1,2},\\\\d{3}\u0026#34; - \u0026#34;\\\\d{4}-\\\\d{1,2}-\\\\d{1,2}T\\\\d{1,2}:\\\\d{1,2}:\\\\d{1,2},\\\\d{3}\u0026#34; - pattern: \u0026#34;.*.log$\u0026#34; type: multiline line_pattern: \u0026#39;^\\[\u0026#39; metadata: name: server timestamp_patterns: - \u0026#34;\\\\d{4}-\\\\d{1,2}-\\\\d{1,2}T\\\\d{1,2}:\\\\d{1,2}:\\\\d{1,2}.\\\\d{3}\\\\+\\\\d{4}\u0026#34; - \u0026#34;\\\\d{4}-\\\\d{1,2}-\\\\d{1,2} \\\\d{1,2}:\\\\d{1,2}:\\\\d{1,2},\\\\d{3}\u0026#34; - \u0026#34;\\\\d{4}-\\\\d{1,2}-\\\\d{1,2}T\\\\d{1,2}:\\\\d{1,2}:\\\\d{1,2},\\\\d{3}\u0026#34; 参数说明 #     名称 类型 说明     queue_name string 日志采集队列名称   logs_path string 日志路径   metadata map 指定日志的相关元数据   patterns object 具体日志文件的相关匹配配置，按顺序执行   patterns.pattern string 日志文件匹配规则   patterns.metadata map 日志文件相关元数据配置   patterns.type string 日志类型，支持 json，text，multiline   patterns.line_pattern string 日志类型为 multiline 时，对于新的一行的匹配规则   patterns.remove_fields []string 日志文件中需要移除的字段（当日志类型为 json 时可用）   patterns.timestamp_fields []string 日志数据中时间戳的字段名（当日志类型为 json 时可用）   patterns.timestamp_patterns []string 日志数据中时间戳的匹配规则（当日志类型为 text，multiline 时可用）    ","subcategory":null,"summary":"","tags":null,"title":"logs_processor","url":"/agent/v1.29.3/zh/docs/configuration/processors/logs_processor/"},{"category":null,"content":"es_node_stats #  描述 #  采集集群节点 stats 指标。\n配置示例 #  pipeline - name: collect_default_es_node_stats auto_start: true keep_running: true retry_delay_in_ms: 3000 processor: - es_node_stats: elasticsearch: default 参数说明 #     名称 类型 说明     elasticsearch string 集群实例名称（请参考 elasticsearch 的 name 参数）   level string 指标级别，可选 cluster，indices，shards，默认 shards。   labels map 自定义标签    ","subcategory":null,"summary":"","tags":null,"title":"es_node_stats","url":"/agent/v1.29.3/zh/docs/configuration/processors/es_node_stats/"},{"category":null,"content":"es_logs_processor #  描述 #  采集集群日志。\n配置示例 #  pipeline - name: collect_default_es_logs auto_start: true keep_running: true retry_delay_in_ms: 3000 processor: - es_logs_processor: elasticsearch: default logs_path: \u0026#34;/opt/dev-environment/ecloud/logs\u0026#34; queue_name: logs 参数说明 #     名称 类型 说明     queue_name string 日志采集队列名称   elasticsearch string 集群实例名称（请参考 elasticsearch 的 name 参数）   logs_path string 集群日志存储路径   labels map 自定义标签    ","subcategory":null,"summary":"","tags":null,"title":"es_logs_processor","url":"/agent/v1.29.3/zh/docs/configuration/processors/es_logs_processor/"},{"category":null,"content":"es_index_stats #  描述 #  采集集群索引 stats 指标。\n配置示例 #  pipeline - name: collect_default_es_index_stats auto_start: true keep_running: true retry_delay_in_ms: 3000 processor: - es_index_stats: elasticsearch: default 参数说明 #     名称 类型 说明     elasticsearch string 集群实例名称（请参考 elasticsearch 的 name 参数）   all_index_stats bool 是否开启所有索引指标的采集，默认 true   index_primary_stats bool 是否开启索引主分片指标的采集，默认 true   labels map 自定义标签    ","subcategory":null,"summary":"","tags":null,"title":"es_index_stats","url":"/agent/v1.29.3/zh/docs/configuration/processors/es_index_stats/"},{"category":null,"content":"es_cluster_stats #  描述 #  采集集群 stats 指标。\n配置示例 #  pipeline - name: collect_default_es_cluster_stats auto_start: true keep_running: true retry_delay_in_ms: 3000 processor: - es_cluster_stats: elasticsearch: default 参数说明 #     名称 类型 说明     elasticsearch string 集群实例名称（请参考 elasticsearch 的 name 参数）   labels map 自定义标签    ","subcategory":null,"summary":"","tags":null,"title":"es_cluster_stats","url":"/agent/v1.29.3/zh/docs/configuration/processors/es_cluster_stats/"},{"category":null,"content":"es_cluster_health #  描述 #  采集集群健康指标。\n配置示例 #  pipeline - name: collect_default_es_cluster_health auto_start: true keep_running: true retry_delay_in_ms: 3000 processor: - es_cluster_health: elasticsearch: default 参数说明 #     名称 类型 说明     elasticsearch string 集群实例名称（请参考 elasticsearch 的 name 参数）   labels map 自定义标签    ","subcategory":null,"summary":"","tags":null,"title":"es_cluster_health","url":"/agent/v1.29.3/zh/docs/configuration/processors/es_cluster_health/"},{"category":null,"content":"安装 INFINI Agent #  INFINI Agent 支持主流的操作系统和平台，程序包很小，没有任何额外的外部依赖，安装起来应该是很快的 ：）\n下载安装 #  自动安装\ncurl -sSL http://get.infini.cloud | bash -s -- -p agent  通过以上脚本可自动下载相应平台的 agent 最新版本并解压到/opt/agent\n  脚本的可选参数如下：\n   -v [版本号]（默认采用最新版本号）\n   -d [安装目录]（默认安装到/opt/agent）\n 手动安装\n根据您所在的操作系统和平台选择下面相应的下载地址：\n https://release.infinilabs.com/agent/\n配置服务后台运行 #  如果希望将 INFINI Agent 以后台服务任务的方式运行，如下：\n➜ ./agent -service install Success ➜ ./agent -service start Success 卸载服务也很简单，如下：\n➜ ./agent -service stop Success ➜ ./agent -service uninstall Success ","subcategory":null,"summary":"","tags":null,"title":"下载安装","url":"/agent/v1.29.3/zh/docs/getting-started/install/"}]