<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>参数配置 on INFINI Easysearch</title><link>/easysearch/main/docs/deployment/config/</link><description>Recent content in 参数配置 on INFINI Easysearch</description><generator>Hugo -- gohugo.io</generator><atom:link href="/easysearch/main/docs/deployment/config/index.xml" rel="self" type="application/rss+xml"/><item><title>配置说明</title><link>/easysearch/main/docs/deployment/config/configuration_file/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/main/docs/deployment/config/configuration_file/</guid><description>配置文件 # 可以在每个 Easysearch 节点上找到 easysearch.yml ，通常位于 Easysearch 安装目录下 config/easysearch.yml。
配置文件一览 # Easysearch 主要有以下几类配置文件：
easysearch.yml：节点与集群配置的主文件，包括网络、发现、角色、路径等。 只放“本机相关”和“集群引导”类配置（如 cluster.name、node.name、network.host、discovery.seed_hosts 等）更易维护。 jvm.options：JVM 启动参数，如堆大小（-Xms/-Xmx）、GC 设置等。 log4j2.properties：日志配置，控制日志级别、输出格式与输出位置。 config/security/*.yml：安全模块本地配置，用于内置用户、角色等，详见 安全配置。 配置目录位置 # 默认情况下，配置目录位于 $ES_HOME/config。 你可以通过环境变量 ES_PATH_CONF 指定一个自定义配置目录，例如： ES_PATH_CONF=/path/to/my/config ./bin/easysearch 在使用 systemd、Docker 或自带脚本运行服务时，通常需要在对应的服务配置里设置 ES_PATH_CONF，而不是只在当前 shell 里导出。
配置文件格式要点（YAML） # Easysearch 的配置文件使用 YAML 格式，几个常用规则：
缩进代表层级： path: data: /var/lib/easysearch logs: /var/log/easysearch 同样的内容也可以写成“扁平 key”： path.data: /var/lib/easysearch path.</description></item><item><title>系统调优</title><link>/easysearch/main/docs/deployment/config/settings/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/main/docs/deployment/config/settings/</guid><description>系统调优 # 芯片及操作系统兼容性 # 目前已在国产主流芯片及操作系统上进行了验证，分别为 openEuler、统信 UOS、麒麟、龙芯、申威、兆芯。同样也兼容 Windows、 MacOS、 CentOS、 Ubuntu、 RedHat 等常用操作系统。
Java 兼容性 # 默认情况下 Easysearch 并不包含 JDK, 推荐使用 Java 15.0.1+9 或 Java 17.0.6+10, 最低版本要求为 Java 11, 要使用不同的 Java 安装，请将 JAVA_HOME 环境变量设置为 Java 安装位置或将 JDK 软链接到 Easysearch 安装目录下取名为 jdk。
例如：
#设置 JAVA_HOME 环境变量，可放入 ~/.bashrc 或 /etc/profile export JAVA_HOME=/usr/local/jdk #软链接 sudo ln -s /usr/local/jdk /data/easysearch/jdk 网络要求 # Easysearch 需要打开以下端口:
端口 模块说明 9200 REST API 9300 节点间通信 系统参数 # 要保证 Easysearch 运行在最佳状态，其所在服务器的操作系统也需要进行相应的调优，以 Linux 为例。</description></item><item><title>硬件配置</title><link>/easysearch/main/docs/deployment/config/hardware/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/main/docs/deployment/config/hardware/</guid><description>生产环境硬件配置推荐 # 在生产环境部署 Easysearch 时，高可用性（HA）是必须满足的核心要求。为实现完整的 HA 保障，您至少需要部署 3 个节点组成 Easysearch 集群。为获得最佳运维体验，建议配合使用 INFINI Console 和 Gateway，它们提供集群监控、告警和运维管理等完整功能，可大幅提升日常运维效率。
推荐配置 # 产品 CPU 内存 JVM 堆 磁盘 高可用实例数 Easysearch 16 核+ 64 GB+ 31 GB SSD ≥ 3 INFINI Console 8 核 16 GB — ≥ 50 GB (HDD/SSD) 1 INFINI Gateway 8 核 16 GB — ≥ 50 GB (HDD/SSD) ≥ 2 对于低负载集群或测试环境，可适当降低配置标准，但需确保满足基础性能需求。测试环境最低配置参见 测试环境部署。</description></item><item><title>集群配置</title><link>/easysearch/main/docs/deployment/config/configuration/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/main/docs/deployment/config/configuration/</guid><description>集群配置 # 本文介绍通过集群设置 API 管理 Easysearch 集群级别配置的方式，包括动态设置的查看、修改、重置，以及可通过 API 调整的全部动态配置项参考。
节点级别的静态配置（需要写在 easysearch.yml 中、重启后生效的配置）请参见 节点配置。
集群设置 API # 大多数集群级调优参数都可以通过集群设置 API 在运行时更改，无需重启节点。
查看设置 # # 查看所有设置（包含默认值） GET _cluster/settings?include_defaults=true # 仅查看用户自定义设置 GET _cluster/settings 设置优先级 # 集群设置 API 中存在三类设置：持久（Persistent）、临时（Transient）和默认（Default）。
优先级从高到低：
Transient 设置 — 临时，集群重启后丢失 Persistent 设置 — 持久，跨重启保留 配置文件 easysearch.yml 默认值 推荐做法：节点相关配置放 easysearch.yml，集群范围的调优通过 API 以 persistent 方式修改，避免每个节点单独改配置文件。
修改设置 # // 持久化修改（推荐用于集群调优） PUT /_cluster/settings { &amp;#34;persistent&amp;#34;: { &amp;#34;action.</description></item><item><title>命令行工具参考</title><link>/easysearch/main/docs/deployment/config/cli-reference/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/main/docs/deployment/config/cli-reference/</guid><description>命令行工具参考 # Easysearch 提供了一组命令行工具，位于安装目录的 bin/ 目录下，用于启动服务、管理安全设置和安装插件等。
bin/easysearch — 启动服务 # 启动 Easysearch 节点。
语法 # bin/easysearch [选项] 命令行选项 # 选项 说明 -d 以守护进程（后台）模式启动。不能与 --pidfile 单独使用时不写 PID 文件 -p &amp;lt;路径&amp;gt; 启动时将进程 ID (PID) 写入指定文件，便于通过 PID 管理进程 -q 关闭标准输出和标准错误的控制台日志输出。日志仍会写入日志文件 -E &amp;lt;设置&amp;gt;=&amp;lt;值&amp;gt; 覆盖配置文件中的设置。可多次使用以覆盖多个设置 -V 显示 Easysearch 版本信息并退出 -h, --help 显示帮助信息 -v, --verbose 显示详细输出 -s, --silent 只显示错误信息 使用示例 # 前台启动（适合开发调试）：</description></item><item><title>环境变量参考</title><link>/easysearch/main/docs/deployment/config/environment-variables/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/main/docs/deployment/config/environment-variables/</guid><description>环境变量参考 # Easysearch 支持通过环境变量控制启动行为、JVM 设置和运行路径等。本页提供所有支持的环境变量的完整参考。
核心环境变量 # 变量 说明 默认值 ES_HOME Easysearch 安装根目录 从启动脚本位置自动推断 ES_PATH_CONF 配置文件目录路径 $ES_HOME/config ES_JAVA_HOME 自定义 Java 安装路径（推荐使用此变量） 未设置（优先使用内置 JDK） JAVA_HOME Java 安装路径（后备方案，ES_JAVA_HOME 优先） 系统默认 ES_JAVA_OPTS 附加 JVM 选项，如堆大小 空 ES_TMPDIR 临时文件目录 自动创建 ES_STARTUP_SLEEP_TIME 后台启动后的等待时间（秒） 未设置 JDK 选择优先级 # Easysearch 按以下优先级选择 Java 运行环境：</description></item><item><title>Keystore 安全设置</title><link>/easysearch/main/docs/deployment/config/keystore/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/main/docs/deployment/config/keystore/</guid><description>Keystore 安全设置 # Easysearch 的 keystore 是一个加密的安全存储，用于保存敏感配置项（如密码、密钥、凭据等）。使用 keystore 可以避免将敏感信息以明文形式写在 easysearch.yml 配置文件中。
为什么使用 Keystore # 方式 安全性 说明 easysearch.yml ⚠️ 明文 配置文件中的密码任何有文件读取权限的用户都能看到 环境变量 ⚠️ 明文 环境变量可能在进程列表、日志中暴露 Keystore ✅ 加密 AES-GCM 加密存储，可选密码保护 适合存入 keystore 的设置示例：
S3 快照仓库的 access_key 和 secret_key LDAP 绑定密码 安全插件的管理员密码 任何包含密码或密钥的配置项 Keystore 文件 # keystore 文件名为 easysearch.keystore，存放在配置目录（$ES_PATH_CONF）下。文件权限自动设置为 rw-rw----（660）。
创建 Keystore # bin/easysearch-keystore create 创建带密码保护的 keystore：</description></item></channel></rss>