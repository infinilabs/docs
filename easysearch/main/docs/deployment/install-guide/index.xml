<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>安装指南 on INFINI Easysearch (main)</title><link>/easysearch/main/docs/deployment/install-guide/</link><description>Recent content in 安装指南 on INFINI Easysearch (main)</description><generator>Hugo -- gohugo.io</generator><atom:link href="/easysearch/main/docs/deployment/install-guide/index.xml" rel="self" type="application/rss+xml"/><item><title>测试环境部署</title><link>/easysearch/main/docs/deployment/install-guide/test-env/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/main/docs/deployment/install-guide/test-env/</guid><description>测试环境部署指南 # 用最少资源快速搭建一个可运行的 Easysearch 实例，适合功能验证、开发联调和学习使用。
最低硬件要求 # 项目 最低配置 建议配置 CPU 2 核 4 核 内存 4 GB 8 GB 磁盘 20 GB 50 GB SSD JDK 11+ 17+ 测试环境可使用 HDD，但 SSD 体验更佳。
一键安装（推荐） # # 使用一键安装脚本 curl -sSL http://get.infini.cloud | bash -s -- -p easysearch # 调小 JVM 堆（测试环境 512MB 即可） sed -i &amp;#39;s/1g/512m/g&amp;#39; /data/easysearch/config/jvm.</description></item><item><title>Linux</title><link>/easysearch/main/docs/deployment/install-guide/linux/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/main/docs/deployment/install-guide/linux/</guid><description>Linux 环境下使用 Easysearch # 为了安全起见，Easysearch 不支持通过 root 身份来运行，需要新建普通用户，如 easysearch 用户来快速运行 Easysearch。
一键安装 # 通过我们提供的自动安装脚本可自动下载最新版本的 easysearch 进行解压安装，默认解压到 /data/easysearch
curl -sSL http://get.infini.cloud | bash -s -- -p easysearch 脚本的可选参数如下：
-v [版本号]（默认采用最新版本号）
-d [安装目录]（默认安装到/data/easysearch）
bundle 包运行 # bundle 是内置 JDK 的安装包，不需要额外下载 JDK，可直接解压运行。
# 创建 easysearch 用户 groupadd -g 602 easysearch useradd -u 602 -g easysearch -m -d /home/easysearch -c &amp;#39;easysearch&amp;#39; -s /bin/bash easysearch # 创建 easysearch 安装目录 mkdir -p /data/easysearch # 下载 bundle 包并解压到安装目录 wget -O - https://release.</description></item><item><title>macOS</title><link>/easysearch/main/docs/deployment/install-guide/macos/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/main/docs/deployment/install-guide/macos/</guid><description>MacOS 环境下使用 Easysearch # 目前，有多种方案可以在 MacOS 下体验 Easysearch。可以选择使用 Docker 方式安装，或者使用本地安装包进行安装。
前置要求 # macOS 10.15 (Catalina) 或更高版本 JDK 11+（推荐 JDK 17）。Bundle 包已内置 JDK，无需单独安装。 至少 4 GB 可用内存 方案一：Docker 安装（推荐） # 如果您的 MacOS 环境上有 Docker（Docker Desktop、OrbStack 等），可以用最简单的方式启动 Easysearch：
docker run -d --name easysearch \ -p 9200:9200 \ -e &amp;#34;EASYSEARCH_INITIAL_ADMIN_PASSWORD=MyTest@2024&amp;#34; \ -e &amp;#34;ES_JAVA_OPTS=-Xms512m -Xmx512m&amp;#34; \ infinilabs/easysearch:latest 详细 Docker 配置请参考 Docker 环境下使用 Easysearch。
方案二：本地安装 # 使用一键安装脚本进行安装，请按照以下步骤操作：</description></item><item><title>Windows</title><link>/easysearch/main/docs/deployment/install-guide/windows/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/main/docs/deployment/install-guide/windows/</guid><description>Windows 环境下使用 Easysearch # 目前，有多种方案可以在 Windows 下体验 Easysearch。
前置要求 # Windows 10 / Windows Server 2016 或更高版本 至少 4 GB 可用内存 JDK 11+（推荐 JDK 17+，2.0.3 及以上版本要求 JDK 21+）。Bundle 包已内置 JDK，无需单独安装。 方案一：Docker 安装（推荐） # 如果您的 Windows 环境上有 Docker Desktop，可以用最简单的方式启动：
docker run -d --name easysearch ` -p 9200:9200 ` -e &amp;#34;EASYSEARCH_INITIAL_ADMIN_PASSWORD=MyTest@2024&amp;#34; ` -e &amp;#34;ES_JAVA_OPTS=-Xms512m -Xmx512m&amp;#34; ` infinilabs/easysearch:latest 详细 Docker 配置请参考 Docker 环境下使用 Easysearch。
方案二：手工安装（无 HTTPS） # 由于 Windows 环境下默认没有 OpenSSL，生成证书不太方便。如果仅用于开发测试，可以先关闭安全模块快速体验。生产环境请务必启用安全功能（参见方案三）。</description></item><item><title>Docker</title><link>/easysearch/main/docs/deployment/install-guide/docker/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/main/docs/deployment/install-guide/docker/</guid><description>Docker 环境下使用 Easysearch # 在使用 Docker 运行 Easysearch 之前，请确保已进行 系统调优并安装好 Docker 服务，且 Docker 服务正常运行。
最快方式：启动临时的 docker 容器，可以从前台查看到 admin 随机生成的初始密码
注： Docker 环境一般用于临时验证，如需要长期使用请务必进行数据持久化 # 直接运行镜像使用随机密码（数据及配置未持久化） docker run --name easysearch --ulimit memlock=-1:-1 -p 9200:9200 infinilabs/easysearch:2.0.3-2534 # 使用自定义密码，可以使用环境变量配置 （需要 1.8.2 及以后的版本才支持） echo &amp;#34;EASYSEARCH_INITIAL_ADMIN_PASSWORD=$(openssl rand -hex 10)&amp;#34; | tee .env # 通过从环境变量文件设置初始密码（数据及配置未持久化） docker run --name easysearch --env-file ./.env --ulimit memlock=-1:-1 -p 9200:9200 infinilabs/easysearch:2.0.3-2534 # 使用自定义密码及命名卷 (数据持久化到命名卷) docker run -d --name easysearch \ --ulimit memlock=-1:-1 \ --env-file .</description></item><item><title>Docker Compose</title><link>/easysearch/main/docs/deployment/install-guide/docker-compose/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/main/docs/deployment/install-guide/docker-compose/</guid><description>Docker Compose 环境下使用 Easysearch # 在使用 docker-compose 运行 Easysearch 集群之前，请确保已进行 系统调优并安装好 Docker 服务，且 Docker 服务正常运行。
# 安装docker-compose curl -L &amp;#34;https://github.com/docker/compose/releases/download/v2.6.1/docker-compose-$(uname -s)-$(uname -m)&amp;#34; -o /usr/local/bin/docker-compose # 增加执行权限 chmod +x /usr/local/bin/docker-compose # 检查版本信息 docker-compose -v 运行 2 节点 docker compose 项目 # 从官网下载文件并解压，然后运行初始化脚本，最后运行启动脚本。
在宿主机上创建工作目录 # 创建操作目录 sudo mkdir -p /data/docker/compose 下载文件并解压 如需测试 3 节点，只需把下面的下载文件名改为 3node.tar.gz 即可。
curl -sSL https://release.infinilabs.com/easysearch/archive/compose/2node.tar.gz | sudo tar -xzC /data/docker/compose --strip-components=1 # 调整目录权限 sudo chown -R ${USER} /data/docker/compose 注意：解压之后，请把镜像的 latest 版本手工更新成具体的版本，可参考下面的命令</description></item><item><title>Helm Chart</title><link>/easysearch/main/docs/deployment/install-guide/helm/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/main/docs/deployment/install-guide/helm/</guid><description>Helm Chart 部署 # INFINI Easysearch 从 1.5.0 版本开始支持 Helm Chart 方式部署。
仓库信息 # INFINI Easysearch Helm Chart 仓库地址: https://helm.infinilabs.com。
可以使用以下命令添加仓库
helm repo add infinilabs https://helm.infinilabs.com 依赖项 # StorageClass INFINI Easysearch Helm Chart 包中默认使用 local-path 进行数据持久化存储，可参考 local-path官方文档进行安装。
如果使用其他 StorageClass，请修改 Chart 包中的 storageClassName: local-path配置项。
Secret INFINI Easysearch Helm Chart 默认使用 cert-manager 进行自签 CA 证书创建及分发, 可参考 cert-manager 官方文档进行安装。
安装示例 # cat &amp;lt;&amp;lt; EOF | kubectl apply -n &amp;lt;namespace&amp;gt; -f - apiVersion: cert-manager.</description></item><item><title>分布式集群</title><link>/easysearch/main/docs/deployment/install-guide/cluster/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/main/docs/deployment/install-guide/cluster/</guid><description>分布式集群安装 # 本文档介绍如何使用 initialize-cluster.sh 脚本快速搭建 Easysearch 分布式集群。该脚本支持伪分布式（单机多节点）和真分布式（多服务器）两种部署模式。
要求 Easysearch 版本 &amp;gt;= 2.0.3。
前置要求 # 已完成 系统调优 JDK 21 或更高版本（脚本可自动下载） 已安装 OpenSSL 真分布式部署需要： 服务器间网络互通 已配置 SSH 互信（无密码登录） 目标路径有写入权限 快速开始 # 交互式安装（推荐） # 交互式模式会引导您输入集群配置信息：
cd /data/easysearch bin/initialize-cluster.sh 脚本会依次提示您输入：
集群名称：默认为 easysearch-cluster 证书域名：默认为 infini.cloud 节点数量：默认为 3 每个节点的配置：IP 地址、HTTP 端口、节点名称、节点角色 协议选择：HTTP 或 HTTPS（默认 HTTPS） API 兼容性：是否启用 Elasticsearch API 兼容模式 证书信息：国家、省份、城市、组织、有效期等（可选） 输入示例：
====================================== Easysearch Cluster Initialization ====================================== Enter cluster name [easysearch-cluster]: my-cluster Enter domain for certificates [infini.</description></item><item><title>离线安装</title><link>/easysearch/main/docs/deployment/install-guide/offline-install/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/main/docs/deployment/install-guide/offline-install/</guid><description>离线安装 Easysearch # 本文档介绍如何在没有网络连接的环境中安装 Easysearch。离线安装常见于内网、政务、金融等对网络隔离有严格要求的场景。
准备工作（在有网络的环境中） # 在可联网的机器上提前下载所有需要的安装包：
必需文件 # 文件 用途 下载地址 Easysearch Bundle 包 包含 Easysearch + 内置 JDK Linux AMD64 插件包（按需） IK 分词、Pinyin、KNN 等 插件列表 Bundle 包内置了 JDK，是离线安装的最简方式，无需单独准备 JDK。
可选文件 # 文件 用途 INFINI Console 安装包 集群管理和监控 INFINI Gateway 安装包 查询代理和网关 Linux 环境离线安装 # 步骤 1：系统调优 # 在安装 Easysearch 之前，先完成操作系统调优（此步骤不需要网络）：</description></item><item><title>一键安装 Console 和 Easysearch</title><link>/easysearch/main/docs/deployment/install-guide/console/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/main/docs/deployment/install-guide/console/</guid><description>一键安装 Console 和 Easysearch # 目前，Easysearch 已提供内置的 Console UI 来管理当前集群，如果您有多个集群需要管理，建议使用 INFINI Console 来统一管理多个 Easysearch 集群。INFINI Console 也可以通过一键安装脚本进行安装，以下是安装步骤：
# 启动默认配置 (Console + 1 个 Easysearch 节点) curl -fsSL http://get.infini.cloud/start-local | sh -s # 想要更丰富的体验？试试这个： # 启动 3 个 Easysearch 节点，设置密码，并开启 Agent 指标采集 curl -fsSL http://get.infini.cloud/start-local | sh -s -- up --nodes 3 --password &amp;#34;MyDevPass123.&amp;#34; --metrics-agent 具体参数说明请参考博客文章 一键启动：使用 start-local 脚本轻松管理 INFINI Console 与 Easysearch 本地环境。</description></item><item><title>生产环境部署</title><link>/easysearch/main/docs/deployment/install-guide/production-env/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/main/docs/deployment/install-guide/production-env/</guid><description>生产环境部署指南 # 本文提供 Easysearch 生产环境部署的完整建议，涵盖硬件选型、节点规划、高可用架构与上线前检查清单。
硬件推荐 # 组件 CPU 内存 JVM 堆 磁盘 高可用实例数 Easysearch 16 核+ 64 GB+ 31 GB SSD ≥ 3 INFINI Console 8 核 16 GB — ≥ 50 GB 1 INFINI Gateway 8 核 16 GB — ≥ 50 GB ≥ 2 详见 硬件配置。
磁盘选型 # 生产环境：强烈建议使用本地 SSD（NVMe 优先）。随机 IOPS 和吞吐量直接影响索引写入与查询延迟。 避免网络存储：NFS / CIFS 不适用于 Easysearch 数据目录。云环境可使用高性能云盘（如阿里云 ESSD、AWS gp3/io2）。 容量估算：原始数据量 × (1 + 副本数) × 1.</description></item><item><title>阿里云部署</title><link>/easysearch/main/docs/deployment/install-guide/aliyun/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/main/docs/deployment/install-guide/aliyun/</guid><description>阿里云部署指南 # 本文介绍在阿里云 ECS 上部署 Easysearch 集群的推荐配置与实践。
推荐实例规格 # 节点角色 实例族 规格示例 说明 Master（专用） 通用型 g7 ecs.g7.xlarge (4C16G) 轻量计算，稳定即可 Data 存储增强型 i3 / 本地 SSD 型 ecs.i3.2xlarge (8C64G) 本地 NVMe SSD，高 IOPS Data（云盘方案） 通用型 g7 ecs.g7.4xlarge (16C64G) 搭配 ESSD PL1/PL2 Coordinating 计算型 c7 ecs.c7.2xlarge (8C16G) 按查询并发酌情添加 生产环境至少 3 节点，跨可用区部署以实现高可用。
存储选择 # 存储类型 IOPS 适用场景 本地 NVMe SSD (i 系列) 极高 高写入吞吐、大数据量 ESSD PL1 50,000 通用生产环境 ESSD PL2 100,000 高性能搜索场景 高效云盘 5,000 测试环境 / 冷数据 建议：</description></item><item><title>AWS 部署</title><link>/easysearch/main/docs/deployment/install-guide/aws/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/main/docs/deployment/install-guide/aws/</guid><description>AWS 部署指南 # 本文介绍在 AWS EC2 上部署 Easysearch 集群的推荐配置与实践。
推荐实例类型 # 节点角色 实例族 规格示例 说明 Master（专用） m6i / m7i m6i.xlarge (4C16G) 轻量计算 Data i3 / i3en i3.2xlarge (8C61G) 本地 NVMe SSD Data（EBS 方案） r6i / r7i r6i.4xlarge (16C128G) 搭配 gp3/io2 Coordinating c6i / c7i c6i.2xlarge (8C16G) 按查询并发酌情添加 生产环境至少 3 节点，跨 AZ 部署。</description></item><item><title>腾讯云部署</title><link>/easysearch/main/docs/deployment/install-guide/tencent-cloud/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/main/docs/deployment/install-guide/tencent-cloud/</guid><description>腾讯云部署指南 # 本文介绍在腾讯云 CVM 上部署 Easysearch 集群的推荐配置与实践。
推荐实例规格 # 节点角色 实例族 规格示例 说明 Master（专用） 标准型 S6 S6.LARGE16 (4C16G) 轻量计算 Data 高 IO 型 IT5 IT5.4XLARGE64 (16C64G) 本地 NVMe SSD Data（云盘方案） 内存型 M6 M6.4XLARGE64 (16C64G) 搭配增强型 SSD Coordinating 计算型 C6 C6.2XLARGE16 (8C16G) 按查询并发酌情添加 存储选择 # 存储类型 IOPS 适用场景 本地 NVMe SSD (IT5) 极高 高性能搜索 增强型 SSD 50,000 通用生产环境 SSD 云硬盘 26,000 标准场景 高性能云硬盘 6,000 测试环境 网络配置 # VPC 与安全组 # VPC CIDR: 10.</description></item><item><title>IPv6 支持</title><link>/easysearch/main/docs/deployment/install-guide/ipv6/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/main/docs/deployment/install-guide/ipv6/</guid><description>Easysearch 的 IPv6 配置 # 配置 # Easysearch 支持运行在 IPv6 模式，以下是具体操作：
假设本机 IPv6 地址为：fe80::18df:9883:1e27:b040%en0
修改 config/easysearch.yml 将 ip 相关的参数修改为 IPv6 对应的格式:
network.host: [&amp;#34;::1&amp;#34;, &amp;#34;fe80::18df:9883:1e27:b040%en0&amp;#34;] http.port: 9200 transport.port: 9300 discovery.seed_hosts: [&amp;#34;[::1]:9300&amp;#34;, &amp;#34;[fe80::18df:9883:1e27:b040%en0]:9300&amp;#34;] cluster.initial_master_nodes: [&amp;#34;[fe80::18df:9883:1e27:b040%en0]:9300&amp;#34;] 这个配置表示节点使用 IPv6 地址加入集群的配置，监听本地回环地址和一个特定的链路本地地址。
验证 # 启动 Easysearch，即可使用 curl 工具进行测试：
% curl -6 -v -ku &amp;#34;admin:=juNrz?BY4SeSlL%Tm29OfP5&amp;#34; &amp;#34;https://[fe80::18df:9883:1e27:b040%en0]:9200&amp;#34; * Trying fe80::18df:9883:1e27:b040:9200... * Connected to fe80::18df:9883:1e27:b040 (fe80::18df:9883:1e27:b040) port 9200 (#0) * ALPN, offering h2 * ALPN, offering http/1.</description></item></channel></rss>