<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>映射参数 on INFINI Easysearch (main)</title><link>/easysearch/main/docs/features/mapping-and-analysis/mapping-parameters/</link><description>Recent content in 映射参数 on INFINI Easysearch (main)</description><generator>Hugo -- gohugo.io</generator><atom:link href="/easysearch/main/docs/features/mapping-and-analysis/mapping-parameters/index.xml" rel="self" type="application/rss+xml"/><item><title>位置增量间隔参数（Position Increment Gap）</title><link>/easysearch/main/docs/features/mapping-and-analysis/mapping-parameters/position_increment_gap/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/main/docs/features/mapping-and-analysis/mapping-parameters/position_increment_gap/</guid><description>Position Increment Gap 参数 # position_increment_gap 参数控制数组中相邻文本值之间的位置间隔。该参数影响短语查询（match_phrase）在跨数组元素时的匹配行为。
相关指南 # 全文搜索 analyzer 参数 默认值 # 默认值为 100。
为什么需要 position_increment_gap # 当一个 text 字段接受数组值时，各元素的文本会被拼接分析。例如：
PUT my-index/_doc/1 { &amp;#34;tags&amp;#34;: [&amp;#34;quick brown&amp;#34;, &amp;#34;fox jumps&amp;#34;] } 分析后的词条位置：
词条 位置 quick 0 brown 1 fox 102 （1 + 100 + 1） jumps 103 默认间隔 100 使得 match_phrase 查询 &amp;quot;brown fox&amp;quot; 不会匹配该文档，因为 brown（位置 1）和 fox（位置 102）之间有 100 个位置的间隔，远大于短语查询允许的 slop。</description></item><item><title>元数据参数（Meta）</title><link>/easysearch/main/docs/features/mapping-and-analysis/mapping-parameters/meta/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/main/docs/features/mapping-and-analysis/mapping-parameters/meta/</guid><description>Meta 参数 # meta 参数允许为字段附加自定义元数据。这些元数据不影响搜索或索引行为，仅用于记录字段的业务含义或管理信息。
相关指南 # 映射基础 示例 # PUT my-index { &amp;#34;mappings&amp;#34;: { &amp;#34;properties&amp;#34;: { &amp;#34;latency&amp;#34;: { &amp;#34;type&amp;#34;: &amp;#34;long&amp;#34;, &amp;#34;meta&amp;#34;: { &amp;#34;unit&amp;#34;: &amp;#34;ms&amp;#34;, &amp;#34;description&amp;#34;: &amp;#34;接口响应延迟&amp;#34; } }, &amp;#34;cpu_usage&amp;#34;: { &amp;#34;type&amp;#34;: &amp;#34;float&amp;#34;, &amp;#34;meta&amp;#34;: { &amp;#34;unit&amp;#34;: &amp;#34;percent&amp;#34;, &amp;#34;metric_type&amp;#34;: &amp;#34;gauge&amp;#34; } } } } } 典型用途 # 场景 示例 meta 键值 标注计量单位 &amp;quot;unit&amp;quot;: &amp;quot;ms&amp;quot;, &amp;quot;unit&amp;quot;: &amp;quot;bytes&amp;quot; 标记指标类型 &amp;quot;metric_type&amp;quot;: &amp;quot;counter&amp;quot;, &amp;quot;metric_type&amp;quot;: &amp;quot;gauge&amp;quot; 记录字段用途 &amp;quot;description&amp;quot;: &amp;quot;用户最后登录时间&amp;quot; 标记数据来源 &amp;quot;source&amp;quot;: &amp;quot;nginx_access_log&amp;quot; 团队归属信息 &amp;quot;owner&amp;quot;: &amp;quot;data-team&amp;quot; 通过 API 查看 # 字段元数据会在 Get Mapping API 的响应中返回：</description></item><item><title>分析器参数（Analyzer）</title><link>/easysearch/main/docs/features/mapping-and-analysis/mapping-parameters/analyzer/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/main/docs/features/mapping-and-analysis/mapping-parameters/analyzer/</guid><description>Analyzer 参数 # analyzer 映射参数用于定义在索引和搜索期间应用于文本字段的文本分析过程。
相关指南（先读这些） # 映射基础 文本分析基础 代码样例 # 以下示例配置定义了一个名为 my_custom_analyzer 的自定义分词器：
PUT my_index { &amp;#34;settings&amp;#34;: { &amp;#34;analysis&amp;#34;: { &amp;#34;analyzer&amp;#34;: { &amp;#34;my_custom_analyzer&amp;#34;: { &amp;#34;type&amp;#34;: &amp;#34;custom&amp;#34;, &amp;#34;tokenizer&amp;#34;: &amp;#34;standard&amp;#34;, &amp;#34;filter&amp;#34;: [ &amp;#34;lowercase&amp;#34;, &amp;#34;my_stop_filter&amp;#34;, &amp;#34;my_stemmer&amp;#34; ] } }, &amp;#34;filter&amp;#34;: { &amp;#34;my_stop_filter&amp;#34;: { &amp;#34;type&amp;#34;: &amp;#34;stop&amp;#34;, &amp;#34;stopwords&amp;#34;: [&amp;#34;the&amp;#34;, &amp;#34;a&amp;#34;, &amp;#34;and&amp;#34;, &amp;#34;or&amp;#34;] }, &amp;#34;my_stemmer&amp;#34;: { &amp;#34;type&amp;#34;: &amp;#34;stemmer&amp;#34;, &amp;#34;language&amp;#34;: &amp;#34;english&amp;#34; } } } }, &amp;#34;mappings&amp;#34;: { &amp;#34;properties&amp;#34;: { &amp;#34;my_text_field&amp;#34;: { &amp;#34;type&amp;#34;: &amp;#34;text&amp;#34;, &amp;#34;analyzer&amp;#34;: &amp;#34;my_custom_analyzer&amp;#34;, &amp;#34;search_analyzer&amp;#34;: &amp;#34;standard&amp;#34;, &amp;#34;search_quote_analyzer&amp;#34;: &amp;#34;my_custom_analyzer&amp;#34; } } } } 在此示例中，my_custom_analyzer 使用标准分词器，将所有标记转换为小写，应用自定义停用词过滤器，并应用英语词干提取器。</description></item><item><title>加权参数（Boost）</title><link>/easysearch/main/docs/features/mapping-and-analysis/mapping-parameters/boost/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/main/docs/features/mapping-and-analysis/mapping-parameters/boost/</guid><description>Boost 参数 # ⚠️ 已弃用：映射级别的 boost 参数已被弃用，将在未来版本中移除。请改为在查询时通过 boost 参数控制字段权重。
boost 映射参数用于在搜索查询期间增加或减少字段的相关性分数。它允许你在计算文档的整体相关性分数时，对特定字段应用更多或更少的权重。默认值为 1.0。
boost 参数作为字段分数的乘数应用。例如，如果一个字段的 boost 值为 2，则该字段的分数的权重将翻倍。相反，boost 值为 0.5 将使该字段的分数的权重减半。
相关指南（先读这些） # 映射基础 相关性：加权与调参 代码样例 # 以下是在 Easysearch 映射中使用 boost 参数的示例：
PUT my-index1 { &amp;#34;mappings&amp;#34;: { &amp;#34;properties&amp;#34;: { &amp;#34;title&amp;#34;: { &amp;#34;type&amp;#34;: &amp;#34;text&amp;#34;, &amp;#34;boost&amp;#34;: 2 }, &amp;#34;description&amp;#34;: { &amp;#34;type&amp;#34;: &amp;#34;text&amp;#34;, &amp;#34;boost&amp;#34;: 1 }, &amp;#34;tags&amp;#34;: { &amp;#34;type&amp;#34;: &amp;#34;keyword&amp;#34;, &amp;#34;boost&amp;#34;: 1.5 } } } } 在此示例中，title 字段的提升值为 2，这意味着它对整体相关性分数的权重是描述字段（提升值为 1）的两倍。tags 字段的提升值为 1.</description></item><item><title>动态映射参数（Dynamic）</title><link>/easysearch/main/docs/features/mapping-and-analysis/mapping-parameters/dynamic/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/main/docs/features/mapping-and-analysis/mapping-parameters/dynamic/</guid><description>Dynamic 参数 # dynamic 参数指定是否可以动态地将新检测到的字段添加到映射中。它接受下表中列出的参数。
参数 描述 true 指定可以动态地将新字段添加到映射中。默认值为 true。 false 指定不能动态地将新字段添加到映射中。如果检测到新字段，则不会对其进行索引或搜索，但可以从 _source 字段中检索。 strict 当检测到文档中有新字段时，索引操作失败，抛出异常。 相关指南（先读这些） # 映射基础 映射模式 示例：创建 dynamic 设置为 true 的索引 # 通过以下命令创建一个 dynamic 设置为 true 的索引：
PUT testindex1 { &amp;#34;mappings&amp;#34;: { &amp;#34;dynamic&amp;#34;: true } } 通过以下命令，索引一个包含两个字符串字段的对象字段 patient 的文档：
PUT testindex1/_doc/1 { &amp;#34;patient&amp;#34;: { &amp;#34;name&amp;#34; : &amp;#34;John Doe&amp;#34;, &amp;#34;id&amp;#34; : &amp;#34;123456&amp;#34; } } 通过以下命令确认映射按预期工作：</description></item><item><title>启用参数（Enabled）</title><link>/easysearch/main/docs/features/mapping-and-analysis/mapping-parameters/enabled/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/main/docs/features/mapping-and-analysis/mapping-parameters/enabled/</guid><description>Enabled 参数 # enabled 参数允许您控制 Easysearch 是否解析字段的内容。此参数可以应用于顶级映射定义和对象字段。
enabled 参数接受以下值：
参数 描述 true 字段被解析和索引。默认值为 true。 false 字段不被解析或索引，但仍可从 _source 字段中检索。当 enabled 设置为 false 时，Easysearch 将字段的值存储在 _source 字段中，但不索引或解析其内容。这对于您想要存储但不需要搜索、排序或聚合的字段很有用。 相关指南（先读这些） # 映射基础 映射模式 示例：使用 enabled 参数 # 在以下示例请求中，session_data 字段被禁用。Easysearch 将其内容存储在 _source 字段中，但不对其进行索引或解析：
PUT my-index-002 { &amp;#34;mappings&amp;#34;: { &amp;#34;properties&amp;#34;: { &amp;#34;user_id&amp;#34;: { &amp;#34;type&amp;#34;: &amp;#34;keyword&amp;#34; }, &amp;#34;last_updated&amp;#34;: { &amp;#34;type&amp;#34;: &amp;#34;date&amp;#34; }, &amp;#34;session_data&amp;#34;: { &amp;#34;type&amp;#34;: &amp;#34;object&amp;#34;, &amp;#34;enabled&amp;#34;: false } } } } 使用场景 # 存储原始 JSON 但不索引 # enabled: false 非常适合那些需要随文档一起返回但不需要被搜索的数据：</description></item><item><title>复制到参数（Copy To）</title><link>/easysearch/main/docs/features/mapping-and-analysis/mapping-parameters/copy_to/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/main/docs/features/mapping-and-analysis/mapping-parameters/copy_to/</guid><description>Copy To 参数 # copy_to 参数允许您将多个字段的值复制到单个字段中。如果您经常跨多个字段搜索，此参数会很有用，因为这样可以达到搜索一组字段的效果。
只有字段值被复制，而不是分析器产生的词项。原始的 _source 字段保持不变，并且可以使用 copy_to 参数将相同的值复制到多个字段。但是，字段间不支持递归复制；相反，应该直接使用 copy_to 从源字段复制到多个目标字段。
相关指南（先读这些） # 映射基础 多字段搜索 代码样例 # 以下示例使用 copy_to 参数通过产品的名称和描述进行搜索，并将这些值复制到单个字段中：
PUT my-products-index { &amp;#34;mappings&amp;#34;: { &amp;#34;properties&amp;#34;: { &amp;#34;name&amp;#34;: { &amp;#34;type&amp;#34;: &amp;#34;text&amp;#34;, &amp;#34;copy_to&amp;#34;: &amp;#34;product_info&amp;#34; }, &amp;#34;description&amp;#34;: { &amp;#34;type&amp;#34;: &amp;#34;text&amp;#34;, &amp;#34;copy_to&amp;#34;: &amp;#34;product_info&amp;#34; }, &amp;#34;product_info&amp;#34;: { &amp;#34;type&amp;#34;: &amp;#34;text&amp;#34; }, &amp;#34;price&amp;#34;: { &amp;#34;type&amp;#34;: &amp;#34;float&amp;#34; } } } } PUT my-products-index/_doc/1 { &amp;#34;name&amp;#34;: &amp;#34;Wireless Headphones&amp;#34;, &amp;#34;description&amp;#34;: &amp;#34;High-quality wireless headphones with noise cancellation&amp;#34;, &amp;#34;price&amp;#34;: 99.</description></item><item><title>多字段参数（Fields）</title><link>/easysearch/main/docs/features/mapping-and-analysis/mapping-parameters/fields/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/main/docs/features/mapping-and-analysis/mapping-parameters/fields/</guid><description>Fields 参数（Multi-fields） # fields 参数允许你对同一个字段以多种方式进行索引。这是 Easysearch 中最常用的映射技巧之一，典型场景是：一个字段同时需要全文搜索（text）和精确匹配/排序/聚合（keyword）。
相关指南（先读这些） # 映射基础 映射模式与最佳实践 基本语法 # PUT my-index { &amp;#34;mappings&amp;#34;: { &amp;#34;properties&amp;#34;: { &amp;#34;title&amp;#34;: { &amp;#34;type&amp;#34;: &amp;#34;text&amp;#34;, &amp;#34;fields&amp;#34;: { &amp;#34;raw&amp;#34;: { &amp;#34;type&amp;#34;: &amp;#34;keyword&amp;#34; } } } } } } 上面的映射中，title 字段被索引为 text（用于全文搜索），同时通过 fields.raw 创建了一个 keyword 子字段（用于精确匹配、排序和聚合）。
查询时使用方式：
全文搜索：&amp;quot;match&amp;quot;: { &amp;quot;title&amp;quot;: &amp;quot;搜索引擎&amp;quot; } 精确匹配：&amp;quot;term&amp;quot;: { &amp;quot;title.raw&amp;quot;: &amp;quot;Easysearch 分布式搜索引擎&amp;quot; } 排序：&amp;quot;sort&amp;quot;: [{ &amp;quot;title.raw&amp;quot;: &amp;quot;asc&amp;quot; }] 聚合：&amp;quot;aggs&amp;quot;: { &amp;quot;titles&amp;quot;: { &amp;quot;terms&amp;quot;: { &amp;quot;field&amp;quot;: &amp;quot;title.</description></item><item><title>字段数据参数（Fielddata）</title><link>/easysearch/main/docs/features/mapping-and-analysis/mapping-parameters/fielddata/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/main/docs/features/mapping-and-analysis/mapping-parameters/fielddata/</guid><description>Fielddata 参数 # fielddata 参数控制 text 字段是否可以用于排序、聚合和脚本。
默认情况下，text 字段不支持排序和聚合——因为 text 字段使用倒排索引，按词项而非完整值存储，无法高效地做正排查找。fielddata 通过将整个倒排索引加载到 JVM 堆内存来实现这一功能，但这 非常消耗内存，通常不推荐使用。
相关指南（先读这些） # 映射基础 映射模式与最佳实践 Doc Values 参数 参数选项 # 值 说明 false 禁用 fielddata。对 text 字段执行排序/聚合会报错。默认值。 true 启用 fielddata。允许对 text 字段排序和聚合，但会大量消耗堆内存。 示例 # PUT my-index { &amp;#34;mappings&amp;#34;: { &amp;#34;properties&amp;#34;: { &amp;#34;content&amp;#34;: { &amp;#34;type&amp;#34;: &amp;#34;text&amp;#34;, &amp;#34;fielddata&amp;#34;: true } } } } ⚠️ 警告：在生产环境中启用 fielddata 可能导致大量内存消耗，甚至触发断路器（circuit breaker）或 OOM。</description></item><item><title>存储参数（Store）</title><link>/easysearch/main/docs/features/mapping-and-analysis/mapping-parameters/store/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/main/docs/features/mapping-and-analysis/mapping-parameters/store/</guid><description>Store 参数 # store 参数指定字段值是否应被独立存储，以便可以脱离 _source 单独检索。
默认情况下，字段值在 _source 中存储，但不会被独立存储。当你需要检索某个字段的值时，Easysearch 会加载整个 _source 文档并提取该字段。如果一个文档非常大，而你只需要获取其中一两个小字段的值，使用 store: true 可能更高效。
相关指南（先读这些） # _source 与字段存储 映射基础 参数选项 # 值 说明 true 字段值被独立存储，可通过 stored_fields 参数单独检索。 false 字段值不独立存储。默认值。 示例 # PUT my-index { &amp;#34;mappings&amp;#34;: { &amp;#34;properties&amp;#34;: { &amp;#34;title&amp;#34;: { &amp;#34;type&amp;#34;: &amp;#34;text&amp;#34;, &amp;#34;store&amp;#34;: true }, &amp;#34;content&amp;#34;: { &amp;#34;type&amp;#34;: &amp;#34;text&amp;#34; }, &amp;#34;created_at&amp;#34;: { &amp;#34;type&amp;#34;: &amp;#34;date&amp;#34;, &amp;#34;store&amp;#34;: true } } } } 检索独立存储的字段：</description></item><item><title>属性参数（Properties）</title><link>/easysearch/main/docs/features/mapping-and-analysis/mapping-parameters/properties/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/main/docs/features/mapping-and-analysis/mapping-parameters/properties/</guid><description>Properties 参数 # properties 参数用于定义对象（object）和嵌套（nested）类型字段的子字段映射。它是构建层级文档结构的核心参数。
相关指南 # 映射基础 dynamic 参数 使用位置 # properties 出现在三个层级：
层级 说明 mappings.properties 顶层字段定义 mappings.properties.&amp;lt;object&amp;gt;.properties 对象字段的子字段 mappings.properties.&amp;lt;nested&amp;gt;.properties 嵌套字段的子字段 示例 # 基本层级结构 # PUT my-index { &amp;#34;mappings&amp;#34;: { &amp;#34;properties&amp;#34;: { &amp;#34;name&amp;#34;: { &amp;#34;type&amp;#34;: &amp;#34;text&amp;#34; }, &amp;#34;address&amp;#34;: { &amp;#34;type&amp;#34;: &amp;#34;object&amp;#34;, &amp;#34;properties&amp;#34;: { &amp;#34;city&amp;#34;: { &amp;#34;type&amp;#34;: &amp;#34;keyword&amp;#34; }, &amp;#34;zip&amp;#34;: { &amp;#34;type&amp;#34;: &amp;#34;keyword&amp;#34; } } } } } } 嵌套类型 # PUT my-index { &amp;#34;mappings&amp;#34;: { &amp;#34;properties&amp;#34;: { &amp;#34;comments&amp;#34;: { &amp;#34;type&amp;#34;: &amp;#34;nested&amp;#34;, &amp;#34;properties&amp;#34;: { &amp;#34;author&amp;#34;: { &amp;#34;type&amp;#34;: &amp;#34;keyword&amp;#34; }, &amp;#34;content&amp;#34;: { &amp;#34;type&amp;#34;: &amp;#34;text&amp;#34; }, &amp;#34;date&amp;#34;: { &amp;#34;type&amp;#34;: &amp;#34;date&amp;#34; } } } } } } 多层嵌套 # PUT my-index { &amp;#34;mappings&amp;#34;: { &amp;#34;properties&amp;#34;: { &amp;#34;department&amp;#34;: { &amp;#34;properties&amp;#34;: { &amp;#34;name&amp;#34;: { &amp;#34;type&amp;#34;: &amp;#34;keyword&amp;#34; }, &amp;#34;manager&amp;#34;: { &amp;#34;properties&amp;#34;: { &amp;#34;name&amp;#34;: { &amp;#34;type&amp;#34;: &amp;#34;text&amp;#34; }, &amp;#34;email&amp;#34;: { &amp;#34;type&amp;#34;: &amp;#34;keyword&amp;#34; } } } } } } } } 对应的文档字段以 .</description></item><item><title>强制类型转换参数（Coerce）</title><link>/easysearch/main/docs/features/mapping-and-analysis/mapping-parameters/coerce/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/main/docs/features/mapping-and-analysis/mapping-parameters/coerce/</guid><description>Coerce 参数 # coerce 映射参数控制数据在索引期间如何将其值转换为预期的字段数据类型。此参数让您可以验证数据是否按照预期的字段类型正确格式化和索引。这提高了搜索结果的准确性。
相关指南（先读这些） # 映射基础 映射模式 代码样例 # 以下示例演示如何使用 coerce 映射参数。
启用 coerce 去索引文档 # PUT products { &amp;#34;mappings&amp;#34;: { &amp;#34;properties&amp;#34;: { &amp;#34;price&amp;#34;: { &amp;#34;type&amp;#34;: &amp;#34;integer&amp;#34;, &amp;#34;coerce&amp;#34;: true } } } } PUT products/_doc/1 { &amp;#34;name&amp;#34;: &amp;#34;Product A&amp;#34;, &amp;#34;price&amp;#34;: &amp;#34;19.99&amp;#34; } 在此示例中，price 字段被定义为 integer 类型，且 coerce 设置为 true。在索引文档时，字符串值 19.99 被强制转换为整数 19。
禁用 coerce 的文档索引 # PUT orders { &amp;#34;mappings&amp;#34;: { &amp;#34;properties&amp;#34;: { &amp;#34;quantity&amp;#34;: { &amp;#34;type&amp;#34;: &amp;#34;integer&amp;#34;, &amp;#34;coerce&amp;#34;: false } } } } PUT orders/_doc/1 { &amp;#34;item&amp;#34;: &amp;#34;Widget&amp;#34;, &amp;#34;quantity&amp;#34;: &amp;#34;10&amp;#34; } 在此示例中，quantity 字段被定义为 integer 类型，且 coerce 设置为 false。在索引文档时，字符串值 10 不会被强制转换，由于类型不匹配，文档写入会被拒绝。</description></item><item><title>忽略格式错误参数（Ignore Malformed）</title><link>/easysearch/main/docs/features/mapping-and-analysis/mapping-parameters/ignore_malformed/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/main/docs/features/mapping-and-analysis/mapping-parameters/ignore_malformed/</guid><description>Ignore Malformed 参数 # ignore_malformed 参数控制在写入格式错误的数据时，是否忽略该值而不是拒绝整个文档。
默认情况下，写入一个类型不匹配的值（如向数值字段写入字符串）会导致整个文档被拒绝。启用 ignore_malformed 后，格式错误的值会被静默忽略，文档的其他字段仍然正常索引。
相关指南（先读这些） # 映射基础 Index API 参数选项 # 值 说明 false 格式错误的值导致整个文档被拒绝。默认值。 true 格式错误的值被忽略，文档其余部分正常索引。 字段级示例 # PUT my-index { &amp;#34;mappings&amp;#34;: { &amp;#34;properties&amp;#34;: { &amp;#34;price&amp;#34;: { &amp;#34;type&amp;#34;: &amp;#34;integer&amp;#34;, &amp;#34;ignore_malformed&amp;#34;: true }, &amp;#34;name&amp;#34;: { &amp;#34;type&amp;#34;: &amp;#34;keyword&amp;#34; } } } } PUT my-index/_doc/1 { &amp;#34;price&amp;#34;: &amp;#34;not_a_number&amp;#34;, &amp;#34;name&amp;#34;: &amp;#34;测试产品&amp;#34; } 文档 1 会被成功写入：</description></item><item><title>忽略超长参数（Ignore Above）</title><link>/easysearch/main/docs/features/mapping-and-analysis/mapping-parameters/ignore_above/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/main/docs/features/mapping-and-analysis/mapping-parameters/ignore_above/</guid><description>Ignore Above 参数 # ignore_above 参数指定字符串的最大长度限制。超过此长度的字符串不会被索引或存储在 doc_values 中，但仍会出现在 _source 中。
该参数主要用于 keyword 字段类型，防止超长字符串占用过多索引空间。
相关指南（先读这些） # 映射基础 Keyword 字段类型 参数选项 # 值 说明 正整数 超过此字符数的值不被索引。 默认值 2147483647（几乎不限制）。动态映射创建的 keyword 子字段默认为 256。 示例 # PUT my-index { &amp;#34;mappings&amp;#34;: { &amp;#34;properties&amp;#34;: { &amp;#34;tag&amp;#34;: { &amp;#34;type&amp;#34;: &amp;#34;keyword&amp;#34;, &amp;#34;ignore_above&amp;#34;: 100 } } } } 写入测试：
PUT my-index/_doc/1 { &amp;#34;tag&amp;#34;: &amp;#34;short_tag&amp;#34; } PUT my-index/_doc/2 { &amp;#34;tag&amp;#34;: &amp;#34;this_is_a_very_long_tag_value_that_exceeds_one_hundred_characters_and_therefore_should_not_be_indexed_at_all_in_the_inverted_index&amp;#34; } 文档 1 的 tag 会被正常索引，可以搜索和聚合 文档 2 的 tag 不会被索引，无法通过 term 查询找到，也不会出现在聚合结果中，但仍然存在于 _source 中 动态映射的默认行为 # 当 Easysearch 动态检测到字符串字段时，会自动创建如下映射：</description></item><item><title>搜索分析器参数（Search Analyzer）</title><link>/easysearch/main/docs/features/mapping-and-analysis/mapping-parameters/search_analyzer/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/main/docs/features/mapping-and-analysis/mapping-parameters/search_analyzer/</guid><description>Search Analyzer 参数 # search_analyzer 参数指定查询时使用的分析器，可以与索引时的 analyzer 不同。这允许在写入和查询时使用不同的文本分析策略。
相关指南（先读这些） # Analyzer 参数 文本分析 映射基础 分析器选择优先级 # Easysearch 按以下优先级选择查询时分析器：
查询中指定的 analyzer 参数（如 match 查询的 analyzer 字段） 映射中字段的 search_analyzer 索引设置 analysis.analyzer.default_search 映射中字段的 analyzer standard 分析器 示例 # 写入时最大化召回，查询时精确匹配 # PUT my-index { &amp;#34;settings&amp;#34;: { &amp;#34;analysis&amp;#34;: { &amp;#34;analyzer&amp;#34;: { &amp;#34;ik_smart_search&amp;#34;: { &amp;#34;type&amp;#34;: &amp;#34;custom&amp;#34;, &amp;#34;tokenizer&amp;#34;: &amp;#34;ik_smart&amp;#34; } } } }, &amp;#34;mappings&amp;#34;: { &amp;#34;properties&amp;#34;: { &amp;#34;content&amp;#34;: { &amp;#34;type&amp;#34;: &amp;#34;text&amp;#34;, &amp;#34;analyzer&amp;#34;: &amp;#34;ik_max_word&amp;#34;, &amp;#34;search_analyzer&amp;#34;: &amp;#34;ik_smart&amp;#34; } } } } 阶段 分析器 策略 索引时 ik_max_word 最细粒度分词，生成更多词项，最大化召回 查询时 ik_smart 智能分词，生成更少词项，提高精确度 同义词扩展只在查询时生效 # &amp;#34;title&amp;#34;: { &amp;#34;type&amp;#34;: &amp;#34;text&amp;#34;, &amp;#34;analyzer&amp;#34;: &amp;#34;standard&amp;#34;, &amp;#34;search_analyzer&amp;#34;: &amp;#34;synonym_analyzer&amp;#34; } 这样索引时不扩展同义词（节省空间），查询时通过同义词分析器扩展查询词。</description></item><item><title>文档值参数（Doc Values）</title><link>/easysearch/main/docs/features/mapping-and-analysis/mapping-parameters/doc_values/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/main/docs/features/mapping-and-analysis/mapping-parameters/doc_values/</guid><description>Doc Values 参数 # 默认情况下，Easysearch 会为搜索目的索引大多数字段的字段值。doc_values 参数启用文档到词项的正排查找，用于排序、聚合和脚本等操作。
doc_values 参数接受以下选项：
选项 描述 true 启用字段的 doc_values。默认值为 true。 false 禁用字段的 doc_values。 相关指南（先读这些） # 映射基础 映射模式 示例：创建启用和禁用 doc_values 的索引 # 以下示例请求创建一个索引，其中一个字段启用 doc_values，另一个字段禁用：
PUT my-index-001 { &amp;#34;mappings&amp;#34;: { &amp;#34;properties&amp;#34;: { &amp;#34;status_code&amp;#34;: { &amp;#34;type&amp;#34;: &amp;#34;keyword&amp;#34; }, &amp;#34;session_id&amp;#34;: { &amp;#34;type&amp;#34;: &amp;#34;keyword&amp;#34;, &amp;#34;doc_values&amp;#34;: false } } } } 工作原理 # doc_values 是一种列式存储结构，与倒排索引互补：</description></item><item><title>格式参数（Format）</title><link>/easysearch/main/docs/features/mapping-and-analysis/mapping-parameters/format/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/main/docs/features/mapping-and-analysis/mapping-parameters/format/</guid><description>Format 参数 # format 参数指定日期字段的解析格式。Easysearch 内置了多种日期格式，也支持自定义格式字符串。
相关指南（先读这些） # 映射基础 Date 字段类型 基本用法 # PUT my-index { &amp;#34;mappings&amp;#34;: { &amp;#34;properties&amp;#34;: { &amp;#34;created_at&amp;#34;: { &amp;#34;type&amp;#34;: &amp;#34;date&amp;#34;, &amp;#34;format&amp;#34;: &amp;#34;yyyy-MM-dd HH:mm:ss&amp;#34; } } } } 多格式支持 # 使用 || 分隔符可以指定多个格式，Easysearch 会依次尝试每种格式进行解析：
&amp;#34;created_at&amp;#34;: { &amp;#34;type&amp;#34;: &amp;#34;date&amp;#34;, &amp;#34;format&amp;#34;: &amp;#34;yyyy-MM-dd HH:mm:ss||yyyy-MM-dd||epoch_millis&amp;#34; } 内置日期格式 # 格式 说明 示例 epoch_millis 毫秒时间戳 1618000000000 epoch_second 秒时间戳 1618000000 date_optional_time / strict_date_optional_time ISO 8601 日期，时间部分可选 2021-04-10T08:00:00Z basic_date yyyyMMdd 20210410 basic_date_time yyyyMMdd&amp;rsquo;T&amp;rsquo;HHmmss.</description></item><item><title>相似度算法参数（Similarity）</title><link>/easysearch/main/docs/features/mapping-and-analysis/mapping-parameters/similarity/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/main/docs/features/mapping-and-analysis/mapping-parameters/similarity/</guid><description>Similarity 参数 # similarity 参数指定字段使用的相关性评分算法。不同的算法适合不同类型的数据和搜索场景。
相关指南（先读这些） # 评分基础 映射基础 内置算法 # 值 算法 说明 BM25 Okapi BM25 默认值。适合大多数全文搜索场景。 boolean 布尔模型 不计算相关性分数，匹配的文档得分为查询的 boost 值。适合不需要相关性排序的过滤场景。 DFR Divergence from Randomness 基于随机性散度模型的评分算法。 DFI Divergence from Independence 基于独立性散度模型的评分算法。 IB Information Based 基于信息论的评分算法。 LMDirichlet Dirichlet 语言模型 使用 Dirichlet 先验的语言模型平滑方法。 LMJelinekMercer Jelinek-Mercer 语言模型 使用线性插值的语言模型平滑方法。 自定义名称 自定义相似度 在索引 settings 中定义的自定义评分算法。 示例 # PUT my-index { &amp;#34;mappings&amp;#34;: { &amp;#34;properties&amp;#34;: { &amp;#34;content&amp;#34;: { &amp;#34;type&amp;#34;: &amp;#34;text&amp;#34;, &amp;#34;similarity&amp;#34;: &amp;#34;BM25&amp;#34; }, &amp;#34;status&amp;#34;: { &amp;#34;type&amp;#34;: &amp;#34;text&amp;#34;, &amp;#34;similarity&amp;#34;: &amp;#34;boolean&amp;#34; } } } } BM25 参数调优 # BM25 的行为可以通过索引 settings 自定义：</description></item><item><title>空值参数（Null Value）</title><link>/easysearch/main/docs/features/mapping-and-analysis/mapping-parameters/null_value/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/main/docs/features/mapping-and-analysis/mapping-parameters/null_value/</guid><description>Null Value 参数 # null_value 参数指定一个替代值，用于在字段值为 null 或缺失时代替索引。这使得 null 值可以被搜索和聚合。
相关指南（先读这些） # 映射基础 结构化搜索 基本用法 # PUT my-index { &amp;#34;mappings&amp;#34;: { &amp;#34;properties&amp;#34;: { &amp;#34;status&amp;#34;: { &amp;#34;type&amp;#34;: &amp;#34;keyword&amp;#34;, &amp;#34;null_value&amp;#34;: &amp;#34;UNKNOWN&amp;#34; } } } } 写入和查询：
PUT my-index/_doc/1 { &amp;#34;status&amp;#34;: null } PUT my-index/_doc/2 { &amp;#34;status&amp;#34;: &amp;#34;active&amp;#34; } # 搜索 null 值的文档 GET my-index/_search { &amp;#34;query&amp;#34;: { &amp;#34;term&amp;#34;: { &amp;#34;status&amp;#34;: &amp;#34;UNKNOWN&amp;#34; } } } 文档 1 会被上面的查询找到，因为 null 被替换为 &amp;quot;UNKNOWN&amp;quot; 进行索引。</description></item><item><title>索引参数（Index）</title><link>/easysearch/main/docs/features/mapping-and-analysis/mapping-parameters/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/main/docs/features/mapping-and-analysis/mapping-parameters/</guid><description>Index 参数 # index 参数控制字段值是否被索引（写入倒排索引）。未被索引的字段无法被搜索，但仍然会存储在 _source 中，且如果启用了 doc_values，仍可用于排序和聚合。
相关指南（先读这些） # 映射基础 映射模式与最佳实践 参数选项 # 值 说明 true 字段被索引，可搜索。默认值。 false 字段不被索引，无法搜索。减少磁盘空间和索引时间。 示例 # PUT my-index { &amp;#34;mappings&amp;#34;: { &amp;#34;properties&amp;#34;: { &amp;#34;title&amp;#34;: { &amp;#34;type&amp;#34;: &amp;#34;text&amp;#34; }, &amp;#34;internal_code&amp;#34;: { &amp;#34;type&amp;#34;: &amp;#34;keyword&amp;#34;, &amp;#34;index&amp;#34;: false } } } } 上面的映射中，internal_code 字段不被索引，无法用于搜索查询，但：
仍然出现在 _source 中（可被返回） 如果 doc_values 为 true（keyword 默认），仍可用于排序和聚合 适用场景 # 场景 建议 字段仅用于展示，不需要搜索 &amp;quot;index&amp;quot;: false 字段用于排序/聚合，不需要搜索 &amp;quot;index&amp;quot;: false（保持 doc_values: true） 字段需要搜索 &amp;quot;index&amp;quot;: true（默认） 仅存储原始值，不搜索不聚合 &amp;quot;index&amp;quot;: false, &amp;quot;doc_values&amp;quot;: false 注意事项 # index 参数在索引创建后无法修改，需要重建索引 对 index: false 的字段执行搜索查询会返回错误 与 enabled: false 不同：enabled: false 会完全跳过字段的解析，而 index: false 仍然会解析和存储字段值</description></item><item><title>规范化器参数（Normalizer）</title><link>/easysearch/main/docs/features/mapping-and-analysis/mapping-parameters/normalizer/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/main/docs/features/mapping-and-analysis/mapping-parameters/normalizer/</guid><description>Normalizer 参数 # normalizer 参数用于 keyword 字段，在索引和查询之前对值进行标准化处理（如转换为小写）。与 analyzer 不同，normalizer 不会对字符串进行分词，只做字符级别的变换。
完整指南 → 归一化与规范化器，包含概念介绍、自定义配置、兼容过滤器列表和最佳实践。
参数选项 # 值 说明 null 不使用 normalizer，值按原样索引。默认值。 自定义名称 使用在索引 settings 中定义的 normalizer。 使用示例 # keyword 字段默认区分大小写。使用内置的 lowercase normalizer 可忽略大小写：
&amp;#34;status&amp;#34;: { &amp;#34;type&amp;#34;: &amp;#34;keyword&amp;#34;, &amp;#34;normalizer&amp;#34;: &amp;#34;lowercase&amp;#34; } 或自定义 normalizer：
PUT my-index { &amp;#34;settings&amp;#34;: { &amp;#34;analysis&amp;#34;: { &amp;#34;normalizer&amp;#34;: { &amp;#34;lowercase_normalizer&amp;#34;: { &amp;#34;type&amp;#34;: &amp;#34;custom&amp;#34;, &amp;#34;filter&amp;#34;: [&amp;#34;lowercase&amp;#34;] } } } }, &amp;#34;mappings&amp;#34;: { &amp;#34;properties&amp;#34;: { &amp;#34;status&amp;#34;: { &amp;#34;type&amp;#34;: &amp;#34;keyword&amp;#34;, &amp;#34;normalizer&amp;#34;: &amp;#34;lowercase_normalizer&amp;#34; } } } } 写入 &amp;quot;OK&amp;quot; 后，使用 &amp;quot;ok&amp;quot; 可以查到，因为两者在索引时都被标准化为 &amp;quot;ok&amp;quot;。</description></item><item><title>评分规范参数（Norms）</title><link>/easysearch/main/docs/features/mapping-and-analysis/mapping-parameters/norms/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/main/docs/features/mapping-and-analysis/mapping-parameters/norms/</guid><description>Norms 参数 # norms 参数控制是否存储字段长度归一化因子，用于相关性评分计算。
在 BM25 评分算法中，字段长度是一个重要因素：短字段中的匹配通常比长字段中的匹配更相关。norms 存储的就是这个字段长度信息。
相关指南（先读这些） # 映射基础 评分基础 参数选项 # 字段类型 默认值 说明 text true 默认启用，用于全文搜索评分 keyword false 默认禁用，keyword 通常用于过滤/聚合 示例 # 禁用 text 字段的 norms：
PUT my-index { &amp;#34;mappings&amp;#34;: { &amp;#34;properties&amp;#34;: { &amp;#34;tags&amp;#34;: { &amp;#34;type&amp;#34;: &amp;#34;text&amp;#34;, &amp;#34;norms&amp;#34;: false } } } } 何时禁用 norms # 场景 建议 字段用于全文搜索，需要相关性排序 保持启用 字段仅用于过滤（filter context） 可禁用，节省空间 字段是日志/标签等，不关心评分 可禁用 多个字段的评分权重由 boost 控制 保持启用 注意事项 # 禁用 norms 可以节省磁盘空间（每个文档每个字段约 1 byte） norms 一旦禁用后无法重新启用，需要重建索引 对于不需要评分的字段（如纯过滤用途），禁用 norms 是安全的优化</description></item><item><title>词向量参数（Term Vector）</title><link>/easysearch/main/docs/features/mapping-and-analysis/mapping-parameters/term_vector/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/main/docs/features/mapping-and-analysis/mapping-parameters/term_vector/</guid><description>Term Vector 参数 # term_vector 参数控制是否为字段存储词条向量（Term Vector）信息。词条向量包含词条及其位置、偏移量等信息，供高亮和 More Like This 查询使用。
相关指南 # 全文搜索 analyzer 参数 可选值 # 值 说明 no 默认值。不存储词条向量。 yes 仅存储词条，不含位置和偏移量。 with_positions 存储词条和位置信息。 with_offsets 存储词条和字符偏移量。 with_positions_offsets 存储词条、位置和偏移量。推荐用于快速高亮。 with_positions_payloads 存储词条、位置和有效载荷。 with_positions_offsets_payloads 存储所有信息。 示例 # 为高亮优化 # PUT my-index { &amp;#34;mappings&amp;#34;: { &amp;#34;properties&amp;#34;: { &amp;#34;content&amp;#34;: { &amp;#34;type&amp;#34;: &amp;#34;text&amp;#34;, &amp;#34;term_vector&amp;#34;: &amp;#34;with_positions_offsets&amp;#34; } } } } 使用 with_positions_offsets 可以让 fast vector highlighter（FVH）高亮器直接从词条向量中提取数据，而无需重新分析文档，显著提高高亮性能。</description></item><item><title>预加载全局序数参数（Eager Global Ordinals）</title><link>/easysearch/main/docs/features/mapping-and-analysis/mapping-parameters/eager_global_ordinals/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/main/docs/features/mapping-and-analysis/mapping-parameters/eager_global_ordinals/</guid><description>Eager Global Ordinals 参数 # eager_global_ordinals 参数控制是否在索引刷新时提前构建全局序数（Global Ordinals）。全局序数是 keyword、ip 等字段执行聚合和排序时使用的内部数据结构。
相关指南 # doc_values 参数 fielddata 参数 参数选项 # 值 说明 false 默认值。全局序数在首次查询（聚合/排序）时惰性构建。 true 在索引刷新（refresh）时立即构建全局序数。 默认行为 # 默认情况下，全局序数采用惰性加载策略：第一次聚合或排序请求会触发构建，后续请求直接使用缓存。当索引发生变更并刷新后，缓存失效，下次查询时重新构建。
示例 # PUT my-index { &amp;#34;mappings&amp;#34;: { &amp;#34;properties&amp;#34;: { &amp;#34;category&amp;#34;: { &amp;#34;type&amp;#34;: &amp;#34;keyword&amp;#34;, &amp;#34;eager_global_ordinals&amp;#34;: true } } } } 何时启用 # 场景 建议 高频聚合字段，要求低延迟 设为 true，将构建开销转移到索引阶段 普通聚合字段 保持默认 false，惰性构建已足够 很少聚合的字段 保持默认 false，避免浪费资源 写入量远大于查询量 保持默认 false，频繁刷新会导致频繁重建 注意事项 # 启用后会增加索引刷新时间，因为每次 refresh 都需要重新构建全局序数 全局序数存储在堆内存中，高基数字段会占用较多内存 可通过 _stats API 查看全局序数占用的内存大小 对于时序数据等写入密集场景，建议保持默认值以避免刷新延迟增加</description></item><item><title>位置增量保留（Preserve Position Increments）</title><link>/easysearch/main/docs/features/mapping-and-analysis/mapping-parameters/preserve_position_increments/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/main/docs/features/mapping-and-analysis/mapping-parameters/preserve_position_increments/</guid><description>位置增量保留（Preserve Position Increments） # 确定是否在自动完成建议中保留位置增量。
基本用法 # PUT my-index { &amp;#34;mappings&amp;#34;: { &amp;#34;properties&amp;#34;: { &amp;#34;suggest&amp;#34;: { &amp;#34;type&amp;#34;: &amp;#34;completion&amp;#34;, &amp;#34;preserve_position_increments&amp;#34;: true } } } } 适用的字段类型 # completion 默认值 # true 说明 # 当启用时，停用词等被移除的术语所创建的位置间隙被保留。这会影响自动完成建议的精确性和性能。
相关参数 # 分隔符保留（Preserve Separators）</description></item><item><title>位置增量启用（Enable Position Increments）</title><link>/easysearch/main/docs/features/mapping-and-analysis/mapping-parameters/enable_position_increments/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/main/docs/features/mapping-and-analysis/mapping-parameters/enable_position_increments/</guid><description>位置增量启用（Enable Position Increments） # 确定是否在令牌计数中包含位置增量。
基本用法 # PUT my-index { &amp;#34;mappings&amp;#34;: { &amp;#34;properties&amp;#34;: { &amp;#34;content&amp;#34;: { &amp;#34;type&amp;#34;: &amp;#34;token_count&amp;#34;, &amp;#34;analyzer&amp;#34;: &amp;#34;standard&amp;#34;, &amp;#34;enable_position_increments&amp;#34;: true } } } } 适用的字段类型 # token_count（mapper-extras 模块） 默认值 # true 说明 # 当启用时，停用词等被移除的令牌所创建的位置间隙被计入令牌计数。当禁用时，只计算实际产生的令牌。
相关参数 # 分析器参数（Analyzer）</description></item><item><title>分隔符保留（Preserve Separators）</title><link>/easysearch/main/docs/features/mapping-and-analysis/mapping-parameters/preserve_separators/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/main/docs/features/mapping-and-analysis/mapping-parameters/preserve_separators/</guid><description>分隔符保留（Preserve Separators） # 确定在自动完成建议中是否保留分隔符。
基本用法 # PUT my-index { &amp;#34;mappings&amp;#34;: { &amp;#34;properties&amp;#34;: { &amp;#34;suggest&amp;#34;: { &amp;#34;type&amp;#34;: &amp;#34;completion&amp;#34;, &amp;#34;preserve_separators&amp;#34;: true } } } } 适用的字段类型 # completion 默认值 # true 说明 # 当启用时，分隔符（如空格、连字符和斜杠）被保留为单独的项。这有助于匹配在分隔符边界处开始的建议。
相关参数 # 位置增量保留（Preserve Position Increments）</description></item><item><title>前缀索引（Index Prefixes）</title><link>/easysearch/main/docs/features/mapping-and-analysis/mapping-parameters/index_prefixes/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/main/docs/features/mapping-and-analysis/mapping-parameters/index_prefixes/</guid><description>前缀索引（Index Prefixes） # 启用前缀查询的优化。当启用此参数时，Easysearch 会为前缀查询构建额外的索引结构。
基本用法 # PUT my-index { &amp;#34;mappings&amp;#34;: { &amp;#34;properties&amp;#34;: { &amp;#34;username&amp;#34;: { &amp;#34;type&amp;#34;: &amp;#34;text&amp;#34;, &amp;#34;index_prefixes&amp;#34;: {} } } } } 适用的字段类型 # text match_only_text 参数选项 # { &amp;#34;min_chars&amp;#34;: 0, &amp;#34;max_chars&amp;#34;: 20 } min_chars: 最小前缀长度（默认值：0） max_chars: 最大前缀长度（默认值：20） 说明 # 启用 index_prefixes 后，通配符查询和前缀查询的性能会显著提高。但会增加索引大小。较小的 min_chars 和 max_chars 值会使索引更大。
相关参数 # 短语索引（Index Phrases） 索引参数（Index）</description></item><item><title>区域设置（Locale）</title><link>/easysearch/main/docs/features/mapping-and-analysis/mapping-parameters/locale/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/main/docs/features/mapping-and-analysis/mapping-parameters/locale/</guid><description>区域设置（Locale） # 用于解析日期或范围值的区域设置。
基本用法 # PUT my-index { &amp;#34;mappings&amp;#34;: { &amp;#34;properties&amp;#34;: { &amp;#34;publish_date&amp;#34;: { &amp;#34;type&amp;#34;: &amp;#34;date&amp;#34;, &amp;#34;format&amp;#34;: &amp;#34;dd/MM/yyyy&amp;#34;, &amp;#34;locale&amp;#34;: &amp;#34;fr_FR&amp;#34; } } } } 适用的字段类型 # date date_nanos date_range integer_range float_range long_range double_range 说明 # 某些日期格式取决于特定的区域设置（例如月份名称）。使用此参数指定应用于解析的区域设置。
常见区域设置值 # en_US - 美国英语 fr_FR - 法语（法国） de_DE - 德语（德国） es_ES - 西班牙语（西班牙） zh_CN - 中文（中国） 相关参数 # 格式参数（Format）</description></item><item><title>字段数据频率过滤（Fielddata Frequency Filter）</title><link>/easysearch/main/docs/features/mapping-and-analysis/mapping-parameters/fielddata_frequency_filter/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/main/docs/features/mapping-and-analysis/mapping-parameters/fielddata_frequency_filter/</guid><description>字段数据频率过滤（Fielddata Frequency Filter） # 为了减少内存占用，可以配置字段数据过滤器来移除低频率的项。
基本用法 # PUT my-index { &amp;#34;mappings&amp;#34;: { &amp;#34;properties&amp;#34;: { &amp;#34;tags&amp;#34;: { &amp;#34;type&amp;#34;: &amp;#34;text&amp;#34;, &amp;#34;fielddata&amp;#34;: true, &amp;#34;fielddata_frequency_filter&amp;#34;: { &amp;#34;min&amp;#34;: 2, &amp;#34;min_segment_size&amp;#34;: 50 } } } } } 适用的字段类型 # text（启用 fielddata 时） 参数选项 # min: 项必须出现的最少次数（默认值：0） max: 项可能出现的最多次数（无上限） min_segment_size: 仅在至少有这么多文档的段中应用过滤器（默认值：0） 说明 # 当启用字段数据用于聚合或排序时，此参数可以降低内存占用。低频项会被从内存中移除。
相关参数 # 字段数据参数（Fielddata）</description></item><item><title>完成上下文（Contexts）</title><link>/easysearch/main/docs/features/mapping-and-analysis/mapping-parameters/contexts/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/main/docs/features/mapping-and-analysis/mapping-parameters/contexts/</guid><description>完成上下文（Contexts） # 定义用于过滤自动完成建议的上下文。
基本用法 # PUT my-index { &amp;#34;mappings&amp;#34;: { &amp;#34;properties&amp;#34;: { &amp;#34;suggest&amp;#34;: { &amp;#34;type&amp;#34;: &amp;#34;completion&amp;#34;, &amp;#34;contexts&amp;#34;: [ { &amp;#34;name&amp;#34;: &amp;#34;category&amp;#34;, &amp;#34;type&amp;#34;: &amp;#34;category&amp;#34; }, { &amp;#34;name&amp;#34;: &amp;#34;location&amp;#34;, &amp;#34;type&amp;#34;: &amp;#34;geo&amp;#34;, &amp;#34;precision&amp;#34;: &amp;#34;5km&amp;#34; } ] } } } } 适用的字段类型 # completion 上下文类型 # category: 按类别过滤建议 geo: 按地理位置过滤建议 说明 # 上下文允许根据多个维度（如类别或地理位置）对完成建议进行分类和过滤。这在需要基于上下文的自动完成的应用中很有用。
相关参数 # 分隔符保留（Preserve Separators） 位置增量保留（Preserve Position Increments）</description></item><item><title>忽略Z坐标（Ignore Z Value）</title><link>/easysearch/main/docs/features/mapping-and-analysis/mapping-parameters/ignore_z_value/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/main/docs/features/mapping-and-analysis/mapping-parameters/ignore_z_value/</guid><description>忽略Z坐标（Ignore Z Value） # 确定是否忽略地理空间数据中的 Z 坐标（高度）。
基本用法 # PUT my-index { &amp;#34;mappings&amp;#34;: { &amp;#34;properties&amp;#34;: { &amp;#34;location&amp;#34;: { &amp;#34;type&amp;#34;: &amp;#34;geo_point&amp;#34;, &amp;#34;ignore_z_value&amp;#34;: true } } } } 适用的字段类型 # geo_point geo_shape 默认值 # true 说明 # 地理坐标通常是二维的（经度和纬度）。某些输入格式可能包括 Z 坐标（如 GeoJSON 中的高度）。启用此参数时，Z 坐标会被忽略。禁用时，包含 Z 坐标会导致错误。
示例 # POST my-index/_doc/1 { &amp;#34;location&amp;#34;: { &amp;#34;lat&amp;#34;: 40.7128, &amp;#34;lon&amp;#34;: -74.0060, &amp;#34;z&amp;#34;: 100 } } 相关参数 # 索引参数（Index）</description></item><item><title>最大短语大小（Max Shingle Size）</title><link>/easysearch/main/docs/features/mapping-and-analysis/mapping-parameters/max_shingle_size/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/main/docs/features/mapping-and-analysis/mapping-parameters/max_shingle_size/</guid><description>最大短语大小（Max Shingle Size） # 搜索自动完成时使用的最大 shingle 大小。
基本用法 # PUT my-index { &amp;#34;mappings&amp;#34;: { &amp;#34;properties&amp;#34;: { &amp;#34;text&amp;#34;: { &amp;#34;type&amp;#34;: &amp;#34;search_as_you_type&amp;#34;, &amp;#34;max_shingle_size&amp;#34;: 3 } } } } 适用的字段类型 # search_as_you_type（mapper-extras 模块） 默认值 # 3 说明 # search_as_you_type 字段类型生成额外的子字段以支持即时搜索。max_shingle_size 参数控制用于前缀查询的 shingle 的最大大小。值越大，索引越大，但查询越快。
相关参数 # 分析器参数（Analyzer） 搜索分析器参数（Search Analyzer）</description></item><item><title>最大输入长度（Max Input Length）</title><link>/easysearch/main/docs/features/mapping-and-analysis/mapping-parameters/max_input_length/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/main/docs/features/mapping-and-analysis/mapping-parameters/max_input_length/</guid><description>最大输入长度（Max Input Length） # 限制自动完成建议的最大输入长度。
基本用法 # PUT my-index { &amp;#34;mappings&amp;#34;: { &amp;#34;properties&amp;#34;: { &amp;#34;suggest&amp;#34;: { &amp;#34;type&amp;#34;: &amp;#34;completion&amp;#34;, &amp;#34;max_input_length&amp;#34;: 50 } } } } 适用的字段类型 # completion 默认值 # 50 说明 # 当输入超过指定的长度时，将被截断。这用于限制自动完成索引的大小和内存使用。
相关参数 # 完成上下文（Contexts）</description></item><item><title>短语搜索分析器（Search Quote Analyzer）</title><link>/easysearch/main/docs/features/mapping-and-analysis/mapping-parameters/search_quote_analyzer/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/main/docs/features/mapping-and-analysis/mapping-parameters/search_quote_analyzer/</guid><description>短语搜索分析器（Search Quote Analyzer） # 指定在处理带引号的短语查询时使用的分析器。
基本用法 # PUT my-index { &amp;#34;mappings&amp;#34;: { &amp;#34;properties&amp;#34;: { &amp;#34;title&amp;#34;: { &amp;#34;type&amp;#34;: &amp;#34;text&amp;#34;, &amp;#34;analyzer&amp;#34;: &amp;#34;standard&amp;#34;, &amp;#34;search_quote_analyzer&amp;#34;: &amp;#34;keyword&amp;#34; } } } } 适用的字段类型 # text 默认值 # 如果未指定，使用 search_analyzer 的值 如果 search_analyzer 也未指定，使用 analyzer 的值 说明 # 在执行带引号短语查询时，可以使用不同的分析器来改进相关性。例如，可以禁用停用词移除以获得更精确的短语匹配。
相关参数 # 分析器参数（Analyzer） 搜索分析器参数（Search Analyzer）</description></item><item><title>短语索引（Index Phrases）</title><link>/easysearch/main/docs/features/mapping-and-analysis/mapping-parameters/index_phrases/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/main/docs/features/mapping-and-analysis/mapping-parameters/index_phrases/</guid><description>短语索引（Index Phrases） # 启用短语查询的优化。当启用此参数时，Easysearch 会为短语查询构建额外的索引结构。
基本用法 # PUT my-index { &amp;#34;mappings&amp;#34;: { &amp;#34;properties&amp;#34;: { &amp;#34;content&amp;#34;: { &amp;#34;type&amp;#34;: &amp;#34;text&amp;#34;, &amp;#34;index_phrases&amp;#34;: true } } } } 适用的字段类型 # text match_only_text 默认值 # false 说明 # 启用 index_phrases 后，短语查询的性能会显著提高，但会增加索引大小。
相关参数 # 前缀索引（Index Prefixes） 索引参数（Index）</description></item><item><title>空白符拆分查询（Split Queries on Whitespace）</title><link>/easysearch/main/docs/features/mapping-and-analysis/mapping-parameters/split_queries_on_whitespace/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/main/docs/features/mapping-and-analysis/mapping-parameters/split_queries_on_whitespace/</guid><description>空白符拆分查询（Split Queries on Whitespace） # 确定查询是否在空白处拆分。
基本用法 # PUT my-index { &amp;#34;mappings&amp;#34;: { &amp;#34;properties&amp;#34;: { &amp;#34;status&amp;#34;: { &amp;#34;type&amp;#34;: &amp;#34;keyword&amp;#34;, &amp;#34;split_queries_on_whitespace&amp;#34;: true } } } } 适用的字段类型 # keyword wildcard 默认值 # false 说明 # 当设置为 true 时，查询字符串在空白处拆分成多个术语。这在索引短语（如空格分隔的标签）的关键字字段中很有用。
相关参数 # 分析器参数（Analyzer）</description></item><item><title>缩放因子（Scaling Factor）</title><link>/easysearch/main/docs/features/mapping-and-analysis/mapping-parameters/scaling_factor/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/main/docs/features/mapping-and-analysis/mapping-parameters/scaling_factor/</guid><description>缩放因子（Scaling Factor） # 缩放比因子用于将浮点值转换为长整数以获得更高的精度。
基本用法 # PUT my-index { &amp;#34;mappings&amp;#34;: { &amp;#34;properties&amp;#34;: { &amp;#34;price&amp;#34;: { &amp;#34;type&amp;#34;: &amp;#34;scaled_float&amp;#34;, &amp;#34;scaling_factor&amp;#34;: 100 } } } } 适用的字段类型 # scaled_float（mapper-extras 模块） 说明 # scaled_float 字段通过将浮点值乘以缩放比因子来将其存储为长整数。这可以节省磁盘空间并提高聚合性能。例如，使用 scaling_factor: 100，值 10.5 被存储为 1050。
缩放比因子必须是正数。常见值包括：
10 - 一位小数 100 - 两位小数 1000 - 三位小数 示例 # POST my-index/_doc/1 { &amp;#34;price&amp;#34;: 10.50 } 相关参数 # 索引参数（Index） 文档值参数（Doc Values）</description></item><item><title>评分影响方向（Positive Score Impact）</title><link>/easysearch/main/docs/features/mapping-and-analysis/mapping-parameters/positive_score_impact/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/main/docs/features/mapping-and-analysis/mapping-parameters/positive_score_impact/</guid><description>评分影响方向（Positive Score Impact） # 指示排名特性对得分的影响方向。
基本用法 # PUT my-index { &amp;#34;mappings&amp;#34;: { &amp;#34;properties&amp;#34;: { &amp;#34;boost&amp;#34;: { &amp;#34;type&amp;#34;: &amp;#34;rank_feature&amp;#34;, &amp;#34;positive_score_impact&amp;#34;: true } } } } 适用的字段类型 # rank_feature（mapper-extras 模块） 默认值 # true 说明 # true: 特性值越高，文档得分越高（正相关） false: 特性值越高，文档得分越低（负相关） 此参数告知搜索引擎如何使用排名特性来影响文档评分。
相关参数 # 索引参数（Index）</description></item></channel></rss>