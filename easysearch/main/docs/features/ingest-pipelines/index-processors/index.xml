<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>摄取处理器 on INFINI Easysearch (main)</title><link>/easysearch/main/docs/features/ingest-pipelines/index-processors/</link><description>Recent content in 摄取处理器 on INFINI Easysearch (main)</description><generator>Hugo -- gohugo.io</generator><atom:link href="/easysearch/main/docs/features/ingest-pipelines/index-processors/index.xml" rel="self" type="application/rss+xml"/><item><title>添加处理器</title><link>/easysearch/main/docs/features/ingest-pipelines/index-processors/append/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/main/docs/features/ingest-pipelines/index-processors/append/</guid><description>添加处理器 # append 处理器用于向字段添加值：
如果该字段是数组， append 处理器会将指定的值追加到该数组中。 如果该字段是标量字段， append 处理器将其转换为数组，并将指定的值追加到该数组中。 如果该字段不存在， append 处理器会创建一个包含指定值的数组。 语法 # 以下是为 append 处理器提供的语法：
{ &amp;#34;append&amp;#34;: { &amp;#34;field&amp;#34;: &amp;#34;your_target_field&amp;#34;, &amp;#34;value&amp;#34;: [&amp;#34;your_appended_value&amp;#34;] } } 配置参数 # 下表列出了 append 处理器所需的和可选参数。
参数 是否必填 描述 field 必填 包含要附加数据的字段名称。支持模板使用。 value 必填 要附加的值。这可以是一个静态值或从现有字段派生的动态值。支持模板使用。 description 可选 处理器的一个简要描述。 if 可选 处理器运行的条件。 ignore_failure 可选 指定处理器是否在遇到错误时继续执行。如果设置为 true ，则忽略失败。默认为 false 。 allow_duplicates 可选 指定是否将字段中已存在的值附加。如果为 true ，则附加重复值。否则，将跳过。 on_failure 可选 在处理器失败时运行的处理器列表。 tag 可选 处理器的标识标签。在调试中区分同一类型的处理器很有用。 如何使用 # 按照以下步骤在管道中使用处理器。</description></item><item><title>字节处理器</title><link>/easysearch/main/docs/features/ingest-pipelines/index-processors/bytes/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/main/docs/features/ingest-pipelines/index-processors/bytes/</guid><description>字节处理器 # bytes 处理器将可读的字节值转换为等效的字节数值。字段可以是标量或数组。如果字段是标量，则值将被转换并存储在该字段中。如果字段是数组，则转换数组中的所有值。
语法 # 以下是为 bytes 处理器提供的语法：
{ &amp;#34;bytes&amp;#34;: { &amp;#34;field&amp;#34;: &amp;#34;your_field_name&amp;#34; } } 配置参数 # 下表列出了 bytes 处理器所需的和可选参数。
参数 是否必填 描述 field 必填 包含要转换的数据的字段名称。支持模板使用。 description 可选 处理器的一个简要描述。 if 可选 处理器运行的条件。 ignore_failure 可选 指定处理器是否在遇到错误时继续执行。如果设置为 true ，则忽略失败。默认为 false 。 ignore_missing 可选 指定处理器是否应忽略不包含指定字段的文档。如果设置为 true ，则处理器在字段不存在或为 null 时不会修改文档。默认为 false 。 on_failure 可选 在处理器失败时运行的处理器列表。 tag 可选 处理器的标识标签。在调试中区分同一类型的处理器很有用。 target_field 可选 指定存储解析数据的字段名称。如果没有指定，则值将存储在 field 字段中。默认为 field 。 如何使用 # 按照以下步骤在管道中使用处理器。</description></item><item><title>转换处理器</title><link>/easysearch/main/docs/features/ingest-pipelines/index-processors/convert/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/main/docs/features/ingest-pipelines/index-processors/convert/</guid><description>转换处理器 # convert 处理器将文档中的字段转换为不同的类型，例如，将字符串转换为整数或将整数转换为字符串。对于数组字段，数组中的所有值都会被转换。
语法 # 以下是为 convert 处理器提供的语法：
{ &amp;#34;convert&amp;#34;: { &amp;#34;field&amp;#34;: &amp;#34;field_name&amp;#34;, &amp;#34;type&amp;#34;: &amp;#34;type-value&amp;#34; } } 配置参数 # 下表列出了 convert 处理器所需的和可选参数。
参数 是否必填 描述 field 必填 包含要转换的数据的字段名称。支持模板使用。 type 必填 要将字段值转换为的类型。支持的类型有 integer 、 long 、 float 、 double 、 string 、 boolean 、 ip 和 auto 。如果 type 是 boolean ，则如果字段值是字符串 true （忽略大小写），则将其设置为 true ；如果字段值是字符串 false （忽略大小写），则将其设置为 false 。如果类型设置为 ip ，则此处理器将验证字段值是否遵循 IPv4 或 IPv6 地址的正确格式；如果值无效，将引发错误。如果值不是允许的值之一，将发生错误。 description 可选 处理器的一个简要描述。 if 可选 处理器运行的条件。 ignore_failure 可选 指定处理器是否在遇到错误时继续执行。如果设置为 true ，则忽略失败。默认为 false 。 ignore_missing 可选 指定处理器是否应忽略不包含指定字段的文档。如果设置为 true ，则处理器在字段不存在或为 null 时不会修改文档。默认为 false 。 on_failure 可选 在处理器失败时运行的处理器列表。 tag 可选 处理器的标识标签。在调试中区分同一类型的处理器很有用。 target_field 可选 字段名称，用于存储解析后的数据。如果未指定，值将存储在 field 字段中。默认为 field 。 如何使用 # 按照以下步骤在管道中使用处理器。</description></item><item><title>CSV 处理器</title><link>/easysearch/main/docs/features/ingest-pipelines/index-processors/csv/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/main/docs/features/ingest-pipelines/index-processors/csv/</guid><description>CSV 处理器 # csv 处理器用于解析 CSV 文件并将它们作为单独的字段存储在文档中。该处理器会忽略空字段。
语法 # 以下是为 csv 处理器提供的语法：
{ &amp;#34;csv&amp;#34;: { &amp;#34;field&amp;#34;: &amp;#34;field_name&amp;#34;, &amp;#34;target_fields&amp;#34;: [&amp;#34;field1, field2, ...&amp;#34;] } } 配置参数 # 下表列出了 csv 处理器所需的和可选参数。
参数 是否必填 描述 field 必填 包含要转换的数据的字段名称。支持模板使用。 target_fields 必填 字段名称，用于存储解析后的数据。 description 可选 处理器的一个简要描述。 empty_value 可选 表示可选参数，这些参数不是必需的或不适用的。 if 可选 处理器运行的条件。 ignore_failure 可选 指定处理器是否在遇到错误时继续执行。如果设置为 true ，则忽略失败。默认为 false 。 ignore_missing 可选 指定处理器是否应忽略不包含指定字段的文档。如果设置为 true ，则处理器在字段不存在或为 null 时不会修改文档。默认为 false 。 on_failure 可选 在处理器失败时运行的处理器列表。 quote 可选 用于在 CSV 数据中引用字段的字符。默认为 &amp;quot; 。 separator 可选 用于在 CSV 数据中分隔字段的分隔符。默认为 , 。 tag 可选 处理器的标识标签。在调试中区分同一类型的处理器很有用。 trim 可选 如果设置为 true ，处理器将删除文本开头和结尾的空白字符。默认是 false 。 如何使用 # 按照以下步骤在管道中使用处理器。</description></item><item><title>日期索引名称处理器</title><link>/easysearch/main/docs/features/ingest-pipelines/index-processors/date-index-name/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/main/docs/features/ingest-pipelines/index-processors/date-index-name/</guid><description>日期索引名称处理器 # date_index_name 处理器用于根据文档中的日期或时间戳字段将文档指向正确的基于时间的索引。处理器将 _index 元数据字段设置为日期数学索引名称表达式。然后处理器从正在处理的文档的 field 字段中获取日期或时间戳并将其格式化为日期数学索引名称表达式。然后提取的日期、index_name_prefix 值和 date_rounding 值被组合以创建日期数学索引表达式。例如，如果 field 字段包含值 2023-10-30T12:43:29.000Z，且 index_name_prefix 设置为 week_index-，date_rounding 设置为 w，则日期数学索引名称表达式为 week_index-2023-10-30。您可以使用 date_formats 字段指定日期数学索引表达式中的日期应如何格式化。
以下是为 date_index_name 处理器提供的语法：
{ &amp;#34;date_index_name&amp;#34;: { &amp;#34;field&amp;#34;: &amp;#34;your_date_field or your_timestamp_field&amp;#34;, &amp;#34;date_rounding&amp;#34;: &amp;#34;rounding_value&amp;#34; } } 配置参数 # 下表列出了 date_index_name 处理器所需的和可选参数。
参数 是否必填 描述 field 必填 包含要附加数据的字段名称。支持模板使用。 date_rounding 必填 索引名称中的日期格式为圆整格式。有效值包括 y （年）、 M （月）、 w （周）、 d （日）、 h （小时）、 m （分钟）和 s （秒）。 date_formats 可选 用于解析日期或时间戳字段的日期格式数组。有效选项包括 Java 时间模式或以下格式之一：ISO8601、UNIX、UNIX_MS 或 TAI64N。默认为 yyyy-MM-dd'T'HH:mm:ss.</description></item><item><title>日期处理器</title><link>/easysearch/main/docs/features/ingest-pipelines/index-processors/date/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/main/docs/features/ingest-pipelines/index-processors/date/</guid><description>日期处理器 # date 处理器用于从文档字段中解析日期，并将解析后的数据添加到新字段中。默认情况下，解析后的数据存储在 @timestamp 字段中。
语法 # 以下是为 date 处理器提供的语法：
{ &amp;#34;date&amp;#34;: { &amp;#34;field&amp;#34;: &amp;#34;date_field&amp;#34;, &amp;#34;formats&amp;#34;: [&amp;#34;yyyy-MM-dd&amp;#39;T&amp;#39;HH:mm:ss.SSSZZ&amp;#34;] } } 配置参数 # 下表列出了 date 处理器所需的和可选参数。
参数 是否必填 描述 field 必填 包含要转换的数据的字段名称。支持模板使用。 formats 必填 期望的日期格式数组。可以是日期格式或以下格式之一：ISO8601、UNIX、UNIX_MS 或 TAI64N。 description 可选 处理器的一个简要描述。 if 可选 处理器运行的条件。 ignore_failure 可选 指定处理器是否在遇到错误时继续执行。如果设置为 true ，则忽略失败。默认为 false 。 locale 可选 解析日期时使用的区域设置。默认为 ENGLISH 。支持模板片段。 on_failure 可选 在处理器失败时运行的处理器列表。 output_format 可选 用于目标字段的日期格式。默认为 yyyy-MM-dd'T'HH:mm:ss.</description></item><item><title>解析处理器</title><link>/easysearch/main/docs/features/ingest-pipelines/index-processors/dissect/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/main/docs/features/ingest-pipelines/index-processors/dissect/</guid><description>解析处理器 # dissect 处理器从文档文本字段中提取值，并根据解析模式将它们映射到单个字段。该处理器非常适合从具有已知结构的日志消息中提取字段。与 grok 处理器不同，dissect 不使用正则表达式，语法更简单。
语法 # 以下是为 dissect 处理器提供的语法：
{ &amp;#34;dissect&amp;#34;: { &amp;#34;field&amp;#34;: &amp;#34;source_field&amp;#34;, &amp;#34;pattern&amp;#34;: &amp;#34;%{dissect_pattern}&amp;#34; } } 配置参数 # 下表列出了 dissect 处理器所需的和可选参数。
参数 是否必填 描述 field 必填 要解析的数据所包含的字段名称。支持模板使用。 pattern 必填 用于从指定字段提取数据的 dissect 模式。 append_separator 可选 分隔字符或字符串，用于分隔附加字段。默认为 &amp;quot;&amp;quot; （空字符串）。 description 可选 处理器的一个简要描述。 if 可选 处理器运行的条件。 ignore_failure 可选 指定处理器是否在遇到错误时继续执行。如果设置为 true ，则忽略失败。默认为 false 。 ignore_missing 可选 指定处理器是否应忽略不包含指定字段的文档。如果设置为 true ，则处理器在字段不存在或为 null 时不会修改文档。默认为 false 。 on_failure 可选 在处理器失败时运行的处理器列表。 tag 可选 处理器的标识标签。在调试中区分同一类型的处理器很有用。 如何使用 # 按照以下步骤在管道中使用处理器。</description></item><item><title>点展开器</title><link>/easysearch/main/docs/features/ingest-pipelines/index-processors/dot-expander/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/main/docs/features/ingest-pipelines/index-processors/dot-expander/</guid><description>点展开器 # dot_expander 处理器是一个帮助你处理层次化数据的工具。它将包含点的字段转换为对象字段，使它们能够被管道中的其他处理器访问。如果没有这种转换，包含点的字段将无法被处理。
以下是为 dot_expander 处理器提供的语法：
{ &amp;#34;dot_expander&amp;#34;: { &amp;#34;field&amp;#34;: &amp;#34;field.to.expand&amp;#34; } } 配置参数 # 下表列出了 dot_expander 处理器所需的和可选参数。
参数 是否必填 描述 field 必填 要展开成对象字段的字段。支持模板使用。 path 可选 此字段仅在要展开的字段嵌套在其他对象字段内时才需要。这是因为 field 参数仅识别叶字段。 description 可选 处理器的一个简要描述。 if 可选 处理器运行的条件。 ignore_failure 可选 指定处理器是否在遇到错误时继续执行。如果设置为 true ，则忽略失败。默认为 false 。 on_failure 可选 在处理器失败时运行的处理器列表。 tag 可选 处理器的标识标签。在调试中区分同一类型的处理器很有用。 如何使用 # 按照以下步骤在管道中使用处理器。</description></item><item><title>Drop 处理器</title><link>/easysearch/main/docs/features/ingest-pipelines/index-processors/drop/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/main/docs/features/ingest-pipelines/index-processors/drop/</guid><description>Drop 处理器 # drop 处理器用于丢弃不进行索引的文档。这可以用于根据某些条件防止文档被索引。例如，您可能使用 drop 处理器来防止缺少重要字段或包含敏感信息的文档被索引。
当 drop 处理器丢弃文档时，它不会引发任何错误，这使得它对于防止索引问题而不会在您的 Easysearch 日志中充斥错误消息非常有用。
语法 # 以下是为 drop 处理器提供的语法：
{ &amp;#34;drop&amp;#34;: { &amp;#34;if&amp;#34;: &amp;#34;ctx.foo == &amp;#39;bar&amp;#39;&amp;#34; } } 配置参数 # 下表列出了 drop 处理器所需的和可选参数。
参数 是否必填 描述 description 可选 处理器的一个简要描述。 if 可选 处理器运行的条件。 ignore_failure 可选 指定处理器是否在遇到错误时继续执行。如果设置为 true ，则忽略失败。默认为 false 。 on_failure 可选 在处理器失败时运行的处理器列表。 tag 可选 处理器的标识标签。在调试中区分同一类型的处理器很有用。 如何使用 # 按照以下步骤在管道中使用处理器。</description></item><item><title>Fail 处理器</title><link>/easysearch/main/docs/features/ingest-pipelines/index-processors/fail/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/main/docs/features/ingest-pipelines/index-processors/fail/</guid><description>Fail 处理器 # fail 处理器在索引过程中执行数据转换和丰富化非常有用。fail 处理器的主要用例是在满足某些条件时失败索引操作。
以下是为 fail 处理器提供的语法：
&amp;#34;fail&amp;#34;: { &amp;#34;if&amp;#34;: &amp;#34;ctx.foo == &amp;#39;bar&amp;#39;&amp;#34;, &amp;#34;message&amp;#34;: &amp;#34;Custom error message&amp;#34; } 配置参数 # 下表列出了 fail 处理器所需的和可选参数。
参数 是否必填 描述 message 必填 要包含在失败响应中的自定义错误消息。 description 可选 处理器的一个简要描述。 if 可选 处理器运行的条件。 ignore_failure 可选 指定处理器是否在遇到错误时继续执行。如果设置为 true ，则忽略失败。默认为 false 。 on_failure 可选 在处理器失败时运行的处理器列表。 tag 可选 处理器的标识标签。在调试中区分同一类型的处理器很有用。 如何使用 # 按照以下步骤在管道中使用处理器。</description></item><item><title>遍历处理器</title><link>/easysearch/main/docs/features/ingest-pipelines/index-processors/foreach/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/main/docs/features/ingest-pipelines/index-processors/foreach/</guid><description>遍历处理器 # foreach 处理器用于遍历输入文档中的值列表并对每个值应用转换。这可以用于处理数组中的所有元素，例如将字符串中的所有元素转换为小写或大写等任务。
以下是为 foreach 处理器提供的语法：
{ &amp;#34;foreach&amp;#34;: { &amp;#34;field&amp;#34;: &amp;#34;&amp;lt;field_name&amp;gt;&amp;#34;, &amp;#34;processor&amp;#34;: { &amp;#34;&amp;lt;processor_type&amp;gt;&amp;#34;: { &amp;#34;&amp;lt;processor_config&amp;gt;&amp;#34;: &amp;#34;&amp;lt;processor_value&amp;gt;&amp;#34; } } } } 配置参数 # 下表列出了 foreach 处理器所需的和可选参数。
参数 是否必填 描述 field 必填 要遍历的数组字段。 processor 必填 处理器用于对每个字段执行操作。 ignore_missing 可选 如果 true 指定的字段不存在或为 null，则处理器将静默退出，不会修改文档。 description 可选 处理器的一个简要描述。 if 可选 处理器运行的条件。 ignore_failure 可选 指定处理器是否在遇到错误时继续执行。如果设置为 true ，则忽略失败。默认为 false 。 on_failure 可选 在处理器失败时运行的处理器列表。 tag 可选 处理器的标识标签。在调试中区分同一类型的处理器很有用。 如何使用 # 按照以下步骤在管道中使用处理器。</description></item><item><title>Grok 处理器</title><link>/easysearch/main/docs/features/ingest-pipelines/index-processors/grok/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/main/docs/features/ingest-pipelines/index-processors/grok/</guid><description>Grok 处理器 # grok 处理器用于通过模式匹配解析和结构化非结构化数据。您可以使用 grok 处理器从日志消息、Web 服务器访问日志、应用程序日志和其他遵循一致格式的日志数据中提取字段。
Grok 基础 # grok 处理器使用一组预定义的模式来匹配输入文本的部分。每个模式由一个名称和一个正则表达式组成。例如，模式 %{IP:ip_address} 匹配 IP 地址并将其分配给字段 ip_address 。您可以将多个模式组合起来创建更复杂的表达式。例如，模式 %{IP:client} %{WORD:method} %{URIPATHPARM:request} %{NUMBER:bytes %NUMBER:duration} 匹配来自 Web 服务器访问日志的一行，并提取客户端 IP 地址、HTTP 方法、请求 URI、发送的字节数和请求持续时间。
有关可用预定义模式的列表，请参阅 Grok 模式。
grok 处理器基于 Oniguruma 正则表达式库构建，并支持该库中的所有模式。您可以使用 Grok 调试器工具测试和调试您的 grok 表达式。
请注意，模式不是锚定的。为了性能和可靠性，请在您的模式中包含行首锚点（ ^ ）。
语法 # 以下是为 grok 处理器的基本语法：
{ &amp;#34;grok&amp;#34;: { &amp;#34;field&amp;#34;: &amp;#34;your_message&amp;#34;, &amp;#34;patterns&amp;#34;: [&amp;#34;your_patterns&amp;#34;] } } 配置参数 # 要配置 grok 处理器，您有多种选项，允许您定义模式、匹配特定键和控制处理器的行为。下表列出了 grok 处理器的必选和可选参数。</description></item><item><title>Gsub 处理器</title><link>/easysearch/main/docs/features/ingest-pipelines/index-processors/gsub/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/main/docs/features/ingest-pipelines/index-processors/gsub/</guid><description>Gsub 处理器 # gsub 处理器在传入的文档中对字符串字段执行正则表达式搜索和替换操作。如果字段包含字符串数组，则操作应用于数组中的所有元素。然而，如果字段包含非字符串值，处理器将抛出异常。gsub 处理器的用例包括从日志消息或用户生成的内容中删除敏感信息、规范化数据格式或约定（例如，转换日期格式、删除特殊字符），以及从字段值中提取或转换子字符串以进行进一步处理或分析。
以下是为 gsub 处理器提供的语法：
&amp;#34;gsub&amp;#34;: { &amp;#34;field&amp;#34;: &amp;#34;field_name&amp;#34;, &amp;#34;pattern&amp;#34;: &amp;#34;regex_pattern&amp;#34;, &amp;#34;replacement&amp;#34;: &amp;#34;replacement_string&amp;#34; } 配置参数 # 下表列出了 gsub 处理器所需的和可选参数。
参数 是否必填 描述 field 必填 要应用替换的字段。 pattern 必填 要替换的模式。 replacement 必填 将替换匹配模式的字符串。 target_field 可选 要存储解析数据的字段名称。如果未指定 target_field ，则解析数据将替换 field 字段中的原始数据。默认为 field 。 if 可选 处理器运行的条件。 ignore_missing 可选 指定处理器是否应忽略不包含指定字段的文档。默认为 false 。 ignore_failure 可选 指定处理器是否在遇到错误时继续执行。如果设置为 true ，则忽略失败。默认为 false 。 on_failure 可选 在处理器失败时运行的处理器列表。 tag 可选 处理器的标识标签。在调试中区分同一类型的处理器很有用。 如何使用 # 按照以下步骤在管道中使用处理器。</description></item><item><title>HTML 清理处理器</title><link>/easysearch/main/docs/features/ingest-pipelines/index-processors/html-strip/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/main/docs/features/ingest-pipelines/index-processors/html-strip/</guid><description>HTML 清理处理器 # html_strip 处理器从传入文档的字符串字段中移除 HTML 标签。当从网页或其他可能包含 HTML 标记的来源索引数据时，此处理器非常有用。HTML 标签被替换为换行符（\n）。
以下是为 html_strip 处理器提供的语法：
{ &amp;#34;html_strip&amp;#34;: { &amp;#34;field&amp;#34;: &amp;#34;webpage&amp;#34; } } 配置参数 # 下表列出了 html_strip 处理器所需的和可选参数。
参数 是否必填 描述 field 必填 要从中移除 HTML 标签的字符串字段。 target_field 可选 接收去除 HTML 标签后的纯文本版本的字段。如果未指定，则字段将就地更新。 ignore_missing 可选 指定处理器是否应忽略不包含指定字段的文档。默认为 false 。 description 可选 处理器的一个简要描述。 if 可选 处理器运行的条件。 ignore_failure 可选 指定处理器是否在遇到错误时继续执行。如果设置为 true ，则忽略失败。默认为 false 。 on_failure 可选 在处理器失败时运行的处理器列表。 tag 可选 处理器的标识标签。在调试中区分同一类型的处理器很有用。 如何使用 # 按照以下步骤在管道中使用处理器。</description></item><item><title>连接处理器</title><link>/easysearch/main/docs/features/ingest-pipelines/index-processors/join/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/main/docs/features/ingest-pipelines/index-processors/join/</guid><description>连接处理器 # join 处理器将数组中的元素连接成一个单独的字符串值，每个元素之间使用指定的分隔符。如果提供的输入不是数组，则抛出异常。
以下是为 join 处理器提供的语法：
{ &amp;#34;join&amp;#34;: { &amp;#34;field&amp;#34;: &amp;#34;field_name&amp;#34;, &amp;#34;separator&amp;#34;: &amp;#34;separator_string&amp;#34; } } 配置参数 # 下表列出了 join 处理器所需的和可选参数。
参数 是否必填 描述 field 必填 应用连接操作符的字段名称。必须是数组。 separator 必填 字段值连接时使用的字符串分隔符。如果未指定，则值将无分隔符地连接。 target_field 可选 将清理后的值分配给的字段。如果未指定，则字段将就地更新。 description 可选 处理器的一个简要描述。 if 可选 处理器运行的条件。 ignore_failure 可选 指定处理器是否在遇到错误时继续执行。如果设置为 true ，则忽略失败。默认为 false 。 on_failure 可选 在处理器失败时运行的处理器列表。 tag 可选 处理器的标识标签。在调试中区分同一类型的处理器很有用。 如何使用 # 按照以下步骤在管道中使用处理器。</description></item><item><title>JSON 处理器</title><link>/easysearch/main/docs/features/ingest-pipelines/index-processors/json/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/main/docs/features/ingest-pipelines/index-processors/json/</guid><description>JSON 处理器 # json 处理器将字符串值字段序列化为一个嵌套的映射，这对于各种数据处理和丰富任务可能很有用。
以下是为 json 处理器提供的语法：
{ &amp;#34;processor&amp;#34;: { &amp;#34;json&amp;#34;: { &amp;#34;field&amp;#34;: &amp;#34;&amp;lt;field_name&amp;gt;&amp;#34;, &amp;#34;target_field&amp;#34;: &amp;#34;&amp;lt;target_field_name&amp;gt;&amp;#34;, &amp;#34;add_to_root&amp;#34;: &amp;lt;boolean&amp;gt; } } } 配置参数 # 下表列出了 json 处理器所需的和可选参数。
参数 是否必填 描述 field 必填 包含要反序列化的 JSON 格式字符串的字段名称。 target_field 可选 字段名称，用于存储反序列化的 JSON 数据。如果未提供，数据将存储在 field 字段中。如果 target_field 存在，其现有值将被新的 JSON 数据覆盖。 add_to_root 可选 一个布尔标志，用于确定是否将反序列化的 JSON 数据添加到文档的根（ true ）或存储在目标字段（ false ）中。如果 add_to_root 是 true ，则 target-field 无效。默认值是 false 。 description 可选 处理器的一个简要描述。 if 可选 处理器运行的条件。 ignore_failure 可选 指定处理器是否在遇到错误时继续执行。如果设置为 true ，则忽略失败。默认为 false 。 on_failure 可选 在处理器失败时运行的处理器列表。 tag 可选 处理器的标识标签。在调试中区分同一类型的处理器很有用。 如何使用 # 按照以下步骤在管道中使用处理器。</description></item><item><title>KV 处理器</title><link>/easysearch/main/docs/features/ingest-pipelines/index-processors/kv/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/main/docs/features/ingest-pipelines/index-processors/kv/</guid><description>KV 处理器 # kv 处理器会自动提取特定事件字段或消息，这些字段或消息以 key=value 格式存在。这种结构化格式通过将数据根据键和值分组来组织您的数据。这对于分析、可视化和使用数据非常有帮助，例如用户行为分析、性能优化或安全调查。
以下是为 kv 处理器提供的语法：
{ &amp;#34;kv&amp;#34;: { &amp;#34;field&amp;#34;: &amp;#34;message&amp;#34;, &amp;#34;field_split&amp;#34;: &amp;#34; &amp;#34;, &amp;#34;value_split&amp;#34;: &amp;#34; &amp;#34; } } 配置参数 # 下表列出了 kv 处理器所需的和可选参数。
参数 是否必填 描述 field 必填 包含要解析的数据的字段名称。 field_split 必填 键值对分割的正则表达式模式。 value_split 必填 从键值对中分割键和值的正则表达式模式，例如，等号 = 或冒号 : 。 exclude_keys 可选 要排除的文档中的键。默认为 null 。 include_keys 可选 用于过滤和插入的键。默认为包含所有键。 prefix 可选 添加到提取键的前缀。默认为 null 。 strip_brackets 可选 如果设置为 true ，则从提取的值中去除括号（ () 、 &amp;lt;&amp;gt;, 或 [] ）和引号（ ' 或 &amp;quot; ）。默认为 false 。 trim_key 可选 从提取键中修剪的字符字符串。 trim_value 可选 从提取值中修剪的字符字符串。 description 可选 处理器的一个简要描述。 if 可选 处理器运行的条件。 ignore_failure 可选 指定处理器是否在遇到错误时继续执行。如果设置为 true ，则忽略失败。默认为 false 。 on_failure 可选 在处理器失败时运行的处理器列表。 ignore_missing 可选 指定处理器是否应忽略不包含指定字段的文档。默认为 false 。 target_field 可选 要插入提取的键的字段名称。默认为 null 。 tag 可选 处理器的标识标签。在调试中区分同一类型的处理器很有用。 如何使用 # 按照以下步骤在管道中使用处理器。</description></item><item><title>小写处理器</title><link>/easysearch/main/docs/features/ingest-pipelines/index-processors/lowercase/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/main/docs/features/ingest-pipelines/index-processors/lowercase/</guid><description>小写处理器 # lowercase 处理器将特定字段中的所有文本转换为小写字母。
语法 # 以下是为 lowercase 处理器提供的语法：
{ &amp;#34;lowercase&amp;#34;: { &amp;#34;field&amp;#34;: &amp;#34;field_name&amp;#34; } } 配置参数 # 下表列出了 lowercase 处理器所需的和可选参数。
参数 是否必填 描述 field 必填 包含要转换的数据的字段名称。支持模板使用。 description 可选 处理器的一个简要描述。 if 可选 处理器运行的条件。 ignore_failure 可选 指定处理器是否在遇到错误时继续执行。如果设置为 true ，则忽略失败。默认为 false 。 on_failure 可选 在处理器失败时运行的处理器列表。 ignore_missing 可选 指定处理器是否应忽略不包含指定字段的文档。如果设置为 true ，则处理器在字段不存在或为 null 时不会修改文档。默认为 false 。 tag 可选 处理器的标识标签。在调试中区分同一类型的处理器很有用。 target_field 可选 要存储解析数据的字段名称。默认为 field 。默认情况下， field 将就地更新。 如何使用 # 按照以下步骤在管道中使用处理器。</description></item><item><title>管道处理器</title><link>/easysearch/main/docs/features/ingest-pipelines/index-processors/pipeline/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/main/docs/features/ingest-pipelines/index-processors/pipeline/</guid><description>管道处理器 # pipeline 处理器允许管道引用和包含另一个预定义的管道。当您有一组需要在多个管道之间共享的常见处理器时，这非常有用。您不必在每个管道中重新定义这些常见处理器，而是可以创建一个包含共享处理器的单独基础管道，然后使用管道处理器从其他管道中引用该基础管道。
以下是为 pipeline 处理器提供的语法：
{ &amp;#34;pipeline&amp;#34;: { &amp;#34;name&amp;#34;: &amp;#34;general-pipeline&amp;#34; } } 配置参数 # 下表列出了 pipeline 处理器所需的和可选参数。
参数 是否必填 描述 name 必填 要执行的管道的名称。 description 可选 处理器的一个简要描述。 if 可选 处理器运行的条件。 ignore_failure 可选 指定处理器是否在遇到错误时继续执行。如果设置为 true ，则忽略失败。默认为 false 。 on_failure 可选 在处理器失败时运行的处理器列表。 tag 可选 处理器的标识标签。在调试中区分同一类型的处理器很有用。 如何使用 # 步骤 1：创建一个管道 # 以下查询创建了一个名为 general-pipeline 的一般管道，然后创建了一个名为 outer-pipeline 的新管道，该管道引用了 general-pipeline :</description></item><item><title>移除处理器</title><link>/easysearch/main/docs/features/ingest-pipelines/index-processors/remove/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/main/docs/features/ingest-pipelines/index-processors/remove/</guid><description>移除处理器 # remove 处理器用于从文档中移除一个字段。
语法 # 以下是为 remove 处理器提供的语法：
{ &amp;#34;remove&amp;#34;: { &amp;#34;field&amp;#34;: &amp;#34;field_name&amp;#34; } } 配置参数 # 下表列出了 remove 处理器所需的和可选参数。
参数 是否必填 描述 field 必填 包含要移除的数据的字段名称。支持模板片段。 _index 、 _version 、 _version_type 和 _id 元数据字段不能被移除。如果指定了 version ，则不能从摄取文档中移除 _id 。 exclude_field 必填 要保留的字段名称。除元数据字段外，所有其他字段都将被删除。 exclude_field 和 field 选项互斥。支持模板片段。 description 可选 处理器的一个简要描述。 if 可选 处理器运行的条件。 ignore_failure 可选 指定处理器是否在遇到错误时继续执行。如果设置为 true ，则忽略失败。默认为 false 。 on_failure 可选 在处理器失败时运行的处理器列表。 tag 可选 处理器的标识标签。在调试中区分同一类型的处理器很有用。 如何使用 # 按照以下步骤在管道中使用处理器。</description></item><item><title>重命名处理器</title><link>/easysearch/main/docs/features/ingest-pipelines/index-processors/rename/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/main/docs/features/ingest-pipelines/index-processors/rename/</guid><description>重命名处理器 # rename 处理器用于重命名现有字段，也可以用来将字段从一个对象移动到另一个对象或根级别。
语法 # 以下是为 rename 处理器提供的语法：
{ &amp;#34;rename&amp;#34;: { &amp;#34;field&amp;#34;: &amp;#34;field_name&amp;#34;, &amp;#34;target_field&amp;#34; : &amp;#34;target_field_name&amp;#34; } } 配置参数 # 下表列出了 rename 处理器所需的和可选参数。
参数 是否必填 描述 field 必填 包含要重命名的数据的字段名称。支持模板使用。 target_field 必填 字段的新名称。支持模板使用。 ignore_missing 可选 指定处理器是否应忽略不包含指定 field 的文档。如果设置为 true ，则处理器在 field 不存在时不会修改文档。默认为 false 。 override_target 可选 确定当 target_field 存在于文档中时会发生什么。如果设置为 true ，则处理器将现有的 target_field 值覆盖为新值。如果设置为 false ，则现有值保持不变，处理器不会覆盖它。默认为 false 。 description 可选 处理器的一个简要描述。 if 可选 处理器运行的条件。 ignore_failure 可选 指定处理器是否在遇到错误时继续执行。如果设置为 true ，则忽略失败。默认为 false 。 on_failure 可选 在处理器失败时运行的处理器列表。 tag 可选 处理器的标识标签。在调试中区分同一类型的处理器很有用。 如何使用 # 按照以下步骤在管道中使用处理器。</description></item><item><title>脚本处理器</title><link>/easysearch/main/docs/features/ingest-pipelines/index-processors/script/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/main/docs/features/ingest-pipelines/index-processors/script/</guid><description>脚本处理器 # script 处理器执行内联和存储的脚本，可以在数据导入过程中修改或转换 Easysearch 文档中的数据。由于脚本可能按文档重新编译，处理器使用脚本缓存以提高性能。有关在 Easysearch 中使用脚本的信息，请参阅脚本 API。
以下是为 script 处理器提供的语法：
{ &amp;#34;processor&amp;#34;: { &amp;#34;script&amp;#34;: { &amp;#34;source&amp;#34;: &amp;#34;&amp;lt;script_source&amp;gt;&amp;#34;, &amp;#34;lang&amp;#34;: &amp;#34;&amp;lt;script_language&amp;gt;&amp;#34;, &amp;#34;params&amp;#34;: { &amp;#34;&amp;lt;param_name&amp;gt;&amp;#34;: &amp;#34;&amp;lt;param_value&amp;gt;&amp;#34; } } } } 配置参数 # 下表列出了 script 处理器所需的和可选参数。
参数 是否必填 描述 source 可选 要执行的 Painless 脚本。必须指定 id 或 source ，但不能同时指定两者。如果指定了 source ，则使用提供的源代码执行脚本。 id 可选 存储脚本的 ID，之前使用 Create Stored Script API 创建的。必须指定 id 或 source ，但不能同时指定两者。如果指定了 id ，则从具有指定 ID 的存储脚本中检索脚本源。 lang 可选 脚本的编程语言。默认为 painless 。 params 可选 可以传递给脚本的参数。 description 可选 处理器的一个简要描述。 if 可选 处理器运行的条件。 ignore_failure 可选 指定处理器是否在遇到错误时继续执行。如果设置为 true ，则忽略失败。默认为 false 。 on_failure 可选 在处理器失败时运行的处理器列表。 tag 可选 处理器的标识标签。在调试中区分同一类型的处理器很有用。 如何使用 # 按照以下步骤在管道中使用处理器。</description></item><item><title>设置处理器</title><link>/easysearch/main/docs/features/ingest-pipelines/index-processors/set/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/main/docs/features/ingest-pipelines/index-processors/set/</guid><description>设置处理器 # set 处理器向文档中添加或更新字段。它设置一个字段并将其与指定的值关联。如果该字段已存在，则其值将被提供的值替换，除非设置了 override 参数为 false。当 override 为 false 且指定的字段存在时，该字段的值保持不变。
以下是为 set 处理器提供的语法：
{ &amp;#34;description&amp;#34;: &amp;#34;...&amp;#34;, &amp;#34;processors&amp;#34;: [ { &amp;#34;set&amp;#34;: { &amp;#34;field&amp;#34;: &amp;#34;new_field&amp;#34;, &amp;#34;value&amp;#34;: &amp;#34;some_value&amp;#34; } } ] } 配置参数 # 下表列出了 set 处理器所需的和可选参数。
参数 是否必填 描述 field 必填 要设置或更新的字段的名称。支持模板使用。 value 必填 字段分配的值。支持模板使用。 override 可选 一个布尔标志，用于确定处理器是否应覆盖字段的现有值。 ignore_empty_value 可选 一个布尔标志，用于确定处理器是否应忽略 null 值或空字符串。默认为 false 。 description 可选 处理器的一个简要描述。 if 可选 处理器运行的条件。 ignore_failure 可选 指定处理器是否在遇到错误时继续执行。如果设置为 true ，则忽略失败。默认为 false 。 on_failure 可选 在处理器失败时运行的处理器列表。 tag 可选 处理器的标识标签。在调试中区分同一类型的处理器很有用。 如何使用 # 按照以下步骤在管道中使用处理器。</description></item><item><title>Sort 处理器</title><link>/easysearch/main/docs/features/ingest-pipelines/index-processors/sort/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/main/docs/features/ingest-pipelines/index-processors/sort/</guid><description>Sort 处理器 # sort 处理器可以按升序或降序对项目数组进行排序。数值数组按数值排序，而字符串或混合数组（字符串和数字）按字典顺序排序。如果输入不是数组，处理器将抛出错误。
以下是为 sort 处理器提供的语法：
{ &amp;#34;description&amp;#34;: &amp;#34;Sort an array of items&amp;#34;, &amp;#34;processors&amp;#34;: [ { &amp;#34;sort&amp;#34;: { &amp;#34;field&amp;#34;: &amp;#34;my_array_field&amp;#34;, &amp;#34;order&amp;#34;: &amp;#34;desc&amp;#34; } } ] } 配置参数 # 下表列出了 sort 处理器所需的和可选参数。
参数 是否必填 描述 field 必填 要排序的字段。必须是数组。 order 可选 应用排序顺序。接受 asc 用于升序或 desc 用于降序。默认是 asc 。 target_field 可选 存储排序数组字段的名称。如果未指定，则排序数组将存储在原始数组（ field 变量）相同的字段中。 description 可选 处理器的一个简要描述。 if 可选 处理器运行的条件。 ignore_failure 可选 指定处理器是否在遇到错误时继续执行。如果设置为 true ，则忽略失败。默认为 false 。 on_failure 可选 在处理器失败时运行的处理器列表。 tag 可选 处理器的标识标签。在调试中区分同一类型的处理器很有用。 如何使用 # 按照以下步骤在管道中使用处理器。</description></item><item><title>分割处理器</title><link>/easysearch/main/docs/features/ingest-pipelines/index-processors/split/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/main/docs/features/ingest-pipelines/index-processors/split/</guid><description>分割处理器 # split 处理器用于根据指定的分隔符将字符串字段拆分为一个子字符串数组。
以下是为 split 处理器提供的语法：
{ &amp;#34;split&amp;#34;: { &amp;#34;field&amp;#34;: &amp;#34;field_to_split&amp;#34;, &amp;#34;separator&amp;#34;: &amp;#34;&amp;lt;delimiter&amp;gt;&amp;#34;, &amp;#34;target_field&amp;#34;: &amp;#34;split_field&amp;#34; } } 配置参数 # 下表列出了 split 处理器所需的和可选参数。
参数 是否必填 描述 field 必填 包含要拆分的字符串的字段。 separator 必填 字符串分割时使用的分隔符。这可以是一个正则表达式模式。 preserve_trailing 可选 如果设置为 true ，则保留结果数组中的空尾字段（例如， '' ）。如果设置为 false ，则从结果数组中删除空尾字段。默认为 false 。 target_field 可选 存储子字符串数组的字段。如果没有指定，则字段将就地更新。 ignore_missing 可选 指定处理器是否应忽略不包含指定字段的文档。如果设置为 true ，则处理器忽略字段中的缺失值，并保持 target_field 不变。默认为 false 。 description 可选 处理器的一个简要描述。 if 可选 处理器运行的条件。 ignore_failure 可选 指定处理器是否在遇到错误时继续执行。如果设置为 true ，则忽略失败。默认为 false 。 on_failure 可选 在处理器失败时运行的处理器列表。 tag 可选 处理器的标识标签。在调试中区分同一类型的处理器很有用。 如何使用 # 按照以下步骤在管道中使用处理器。</description></item><item><title>裁剪处理器</title><link>/easysearch/main/docs/features/ingest-pipelines/index-processors/trim/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/main/docs/features/ingest-pipelines/index-processors/trim/</guid><description>裁剪处理器 # trim 处理器用于从指定的字段中删除前导和尾随空白字符。
以下是为 trim 处理器提供的语法：
{ &amp;#34;trim&amp;#34;: { &amp;#34;field&amp;#34;: &amp;#34;field_to_trim&amp;#34;, &amp;#34;target_field&amp;#34;: &amp;#34;trimmed_field&amp;#34; } } 配置参数 # 下表列出了 trim 处理器所需的和可选参数。
参数 是否必填 描述 field 必填 包含要修剪文本的字段。 target_field 必填 存储被截断文本的字段。如果未指定，则字段将就地更新。 ignore_missing 可选 指定处理器是否应忽略不包含指定字段的文档。如果设置为 true ，则处理器忽略字段中的缺失值，并保持 target_field 不变。默认为 false 。 description 可选 处理器的一个简要描述。 if 可选 处理器运行的条件。 ignore_failure 可选 指定处理器是否在遇到错误时继续执行。如果设置为 true ，则忽略失败。默认为 false 。 on_failure 可选 在处理器失败时运行的处理器列表。 tag 可选 处理器的标识标签。在调试中区分同一类型的处理器很有用。 如何使用 # 按照以下步骤在管道中使用处理器。</description></item><item><title>大写处理器</title><link>/easysearch/main/docs/features/ingest-pipelines/index-processors/uppercase/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/main/docs/features/ingest-pipelines/index-processors/uppercase/</guid><description>大写处理器 # uppercase 处理器将特定字段中的所有文本转换为大写字母。
语法 # 以下是为 uppercase 处理器提供的语法：
{ &amp;#34;uppercase&amp;#34;: { &amp;#34;field&amp;#34;: &amp;#34;field_name&amp;#34; } } 配置参数 # 下表列出了 uppercase 处理器所需的和可选参数。
参数 是否必填 描述 field 必填 包含要附加数据的字段名称。支持模板使用。 description 可选 处理器的一个简要描述。 if 可选 处理器运行的条件。 ignore_failure 可选 指定处理器是否在遇到错误时继续执行。如果设置为 true ，则忽略失败。默认为 false 。 ignore_missing 可选 指定处理器是否应忽略不包含指定字段的文档。如果设置为 true ，则处理器在字段不存在或为 null 时不会修改文档。默认为 false 。 on_failure 可选 在处理器失败时运行的处理器列表。 tag 可选 处理器的标识标签。在调试中区分同一类型的处理器很有用。 target_field 可选 要存储解析数据的字段名称。默认为 field 。默认情况下， field 将就地更新。 如何使用 # 按照以下步骤在管道中使用处理器。</description></item><item><title>URL 解码处理器</title><link>/easysearch/main/docs/features/ingest-pipelines/index-processors/urldecode/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/main/docs/features/ingest-pipelines/index-processors/urldecode/</guid><description>URL 解码处理器 # urldecode 处理器在解码日志数据或其他文本字段中的 URL 编码字符串时非常有用。这可以使数据更易于阅读和分析，尤其是在处理包含特殊字符或空格的 URL 或查询参数时。
以下是为 urldecode 处理器提供的语法：
{ &amp;#34;urldecode&amp;#34;: { &amp;#34;field&amp;#34;: &amp;#34;field_to_decode&amp;#34;, &amp;#34;target_field&amp;#34;: &amp;#34;decoded_field&amp;#34; } } 配置参数 # 下表列出了 urldecode 处理器所需的和可选参数。
参数 是否必填 描述 field 必填 包含要解码的 URL 编码字符串的字段。 target_field 可选 存储解码字符串的字段。如果未指定，则解码字符串将存储在原始编码字符串相同的字段中。 ignore_missing 可选 指定处理器是否应忽略不包含指定 field 的文档。如果设置为 true ，则处理器忽略 field 中的缺失值并保持 target_field 不变。默认为 false 。 description 可选 处理器的一个简要描述。 if 可选 处理器运行的条件。 ignore_failure 可选 指定处理器是否在遇到错误时继续执行。如果设置为 true ，则忽略失败。默认为 false 。 on_failure 可选 在处理器失败时运行的处理器列表。 tag 可选 处理器的标识标签。在调试中区分同一类型的处理器很有用。 如何使用 # 按照以下步骤在管道中使用处理器。</description></item><item><title>用户代理处理器</title><link>/easysearch/main/docs/features/ingest-pipelines/index-processors/user-agent/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/main/docs/features/ingest-pipelines/index-processors/user-agent/</guid><description>用户代理处理器 # user_agent 处理器用于从用户代理字符串中提取信息，例如客户端使用的浏览器、设备和操作系统。user_agent 处理器特别适用于分析用户行为，并根据用户设备、操作系统和浏览器识别趋势。它还可以帮助解决特定用户代理配置的问题。
以下是为 user_agent 处理器提供的语法：
{ &amp;#34;processor&amp;#34;: { &amp;#34;user_agent&amp;#34;: { &amp;#34;field&amp;#34;: &amp;#34;user_agent&amp;#34;, &amp;#34;target_field&amp;#34;: &amp;#34;user_agent_info&amp;#34; } } } 配置参数 # 下表列出了 user_agent 处理器所需的和可选参数。
参数 是否必填 描述 field 必填 包含用户代理字符串的字段。 target_field 可选 存储提取的用户代理信息的字段。如果未指定，则信息存储在 user_agent 字段中。 ignore_missing 可选 指定处理器是否应忽略不包含指定 field 的文档。如果设置为 true ，则处理器在 field 不存在时不会修改文档。默认为 false 。 regex_file 可选 包含用于解析用户代理字符串的正则表达式模式的文件。此文件应位于 Easysearch 包中的 config/ingest-user-agent 目录下。如果未指定，则使用默认文件 regexes.yaml。 properties 可选 要从用户代理字符串中提取并添加到 target_field 的属性列表。如果未指定，则使用默认属性 name 、 major 、 minor 、 patch 、 build 、 os 、 os_name 、 os_major 、 os_minor 和 device 。 description 可选 处理器的一个简要描述。 if 可选 处理器运行的条件。 ignore_failure 可选 指定处理器是否在遇到错误时继续执行。如果设置为 true ，则忽略失败。默认为 false 。 on_failure 可选 在处理器失败时运行的处理器列表。 tag 可选 处理器的标识标签。在调试中区分同一类型的处理器很有用。 如何使用 # 按照以下步骤在管道中使用处理器。</description></item><item><title>GeoIP 处理器</title><link>/easysearch/main/docs/features/ingest-pipelines/index-processors/geoip/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/main/docs/features/ingest-pipelines/index-processors/geoip/</guid><description>GeoIP 处理器 # 需要 ingest-geoip 插件
geoip 处理器根据 IP 地址查询 MaxMind GeoLite2 数据库，为文档添加地理位置信息，包括国家、城市、经纬度、时区和 ASN 等。该处理器非常适合日志分析、流量审计和用户来源可视化等场景。
语法 # { &amp;#34;geoip&amp;#34;: { &amp;#34;field&amp;#34;: &amp;#34;ip&amp;#34; } } 配置参数 # 参数 是否必填 描述 field 必填 包含 IP 地址的源字段名。支持 IPv4 和 IPv6 target_field 可选 存储地理位置信息的目标字段。默认为 geoip database_file 可选 使用的 MaxMind 数据库文件名。默认为 GeoLite2-City.mmdb properties 可选 要提取的属性列表。未指定时根据数据库类型使用默认属性集（见下表） ignore_missing 可选 为 true 时，如果源字段缺失或为 null，则跳过处理不报错。默认为 false first_only 可选 当源字段为数组时，为 true 仅返回第一个匹配结果；为 false 返回所有匹配结果的列表。默认为 true description 可选 处理器的简要描述 if 可选 处理器运行的条件 ignore_failure 可选 为 true 时，处理器出错后忽略继续执行。默认为 false on_failure 可选 处理器失败时运行的处理器列表 tag 可选 处理器的标识标签 支持的数据库 # 处理器根据数据库类型后缀自动识别数据库格式：</description></item><item><title>规则匹配处理器</title><link>/easysearch/main/docs/features/ingest-pipelines/index-processors/check-match-rules/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/main/docs/features/ingest-pipelines/index-processors/check-match-rules/</guid><description>规则匹配处理器 # 需要 Rules 插件和有效许可证
check_match_rules 处理器将 规则引擎接入 Ingest Pipeline，在文档写入阶段执行规则匹配并自动打标。
语法 # { &amp;#34;check_match_rules&amp;#34;: { &amp;#34;id&amp;#34;: &amp;#34;my_ruleset&amp;#34; } } 配置参数 # 参数 是否必填 描述 id 必填 规则库 ID（对应已编译的 repo_id） target_field 可选 匹配结果写入字段，默认 tags fields 可选 文档字段白名单；指定后仅这些字段按原字段名参与匹配，其余字段内容汇总到 default_match_field default_match_field 可选 当配置了 fields 时，未包含字段会汇总到该字段名参与匹配，默认 content regex_start_at_word 可选 正则匹配是否从词边界开始，默认 true ignore_missing 可选 为 true 时，处理过程中遇到错误会跳过，默认 false description 可选 处理器描述 if 可选 处理器执行条件 ignore_failure 可选 为 true 时，处理器失败后忽略并继续执行，默认 false on_failure 可选 处理器失败时执行的处理器列表 tag 可选 处理器标识 工作原理 # 提取文档字段： 未配置 fields：提取所有非 _ 前缀字段（含嵌套展平） 配置 fields：白名单字段保留原名，其余字段值拼接到 default_match_field 执行规则匹配：传入底层规则匹配引擎 写入结果：命中后将标签数组写入 target_field 使用步骤 # 前置条件 # 先导入并编译规则库，详见 规则引擎文档：</description></item><item><title>文本向量化处理器</title><link>/easysearch/main/docs/features/ingest-pipelines/index-processors/text-embedding/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/main/docs/features/ingest-pipelines/index-processors/text-embedding/</guid><description>文本向量化处理器 # 需要 AI 插件和 KNN 插件
text_embedding 处理器在文档写入时自动调用外部 Embedding 模型服务，将文本字段转换为向量并存储到指定的向量字段中，实现&amp;quot;写入即向量化&amp;quot;。该处理器是构建语义搜索和混合搜索的基础组件。
语法 # { &amp;#34;text_embedding&amp;#34;: { &amp;#34;text_field&amp;#34;: &amp;#34;content&amp;#34;, &amp;#34;vector_field&amp;#34;: &amp;#34;content_vector&amp;#34;, &amp;#34;url&amp;#34;: &amp;#34;https://api.openai.com/v1/embeddings&amp;#34;, &amp;#34;vendor&amp;#34;: &amp;#34;openai&amp;#34;, &amp;#34;model_id&amp;#34;: &amp;#34;text-embedding-3-small&amp;#34;, &amp;#34;api_key&amp;#34;: &amp;#34;sk-xxxxxxxx&amp;#34; } } 配置参数 # 参数 是否必填 描述 text_field 必填 包含待向量化文本的源字段 vector_field 必填 存储生成的向量的目标字段。该字段应映射为 knn_vector 类型 url 必填 Embedding 模型服务的 API 端点 URL vendor 必填 模型提供商标识。openai 表示 OpenAI 兼容接口，其他值（如 ollama）使用 Ollama 兼容接口 model_id 必填 使用的 Embedding 模型 ID api_key 可选 API 密钥（使用 OpenAI 兼容接口时通常必填）。存储时会自动加密 dimensions 可选 期望的向量维度。未指定时使用模型默认维度 ignore_missing 可选 为 true 时，源字段缺失则跳过处理。默认为 false batch_size 可选 批量处理时每次 API 调用包含的文档数。默认为 1 description 可选 处理器的简要描述 if 可选 处理器运行的条件 ignore_failure 可选 为 true 时，处理器出错后忽略继续执行。默认为 false on_failure 可选 处理器失败时运行的处理器列表 tag 可选 处理器的标识标签 支持的模型服务 # 接口类型 vendor 值 认证方式 典型服务 OpenAI 兼容 openai Authorization: Bearer &amp;lt;api_key&amp;gt; 请求头 OpenAI、阿里云 DashScope、Azure OpenAI、DeepSeek 等 Ollama 兼容 其他任意值（如 ollama） 无认证 Ollama 本地部署 如何使用 # 步骤 1：创建向量索引 # 首先创建包含 KNN 向量字段的索引：</description></item></channel></rss>