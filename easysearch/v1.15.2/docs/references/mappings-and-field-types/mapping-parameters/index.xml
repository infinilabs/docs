<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>文档映射 on INFINI Easysearch</title><link>/easysearch/v1.15.2/docs/references/mappings-and-field-types/mapping-parameters/</link><description>Recent content in 文档映射 on INFINI Easysearch</description><generator>Hugo -- gohugo.io</generator><atom:link href="/easysearch/v1.15.2/docs/references/mappings-and-field-types/mapping-parameters/index.xml" rel="self" type="application/rss+xml"/><item><title>分词器参数</title><link>/easysearch/v1.15.2/docs/references/mappings-and-field-types/mapping-parameters/analyzer/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/v1.15.2/docs/references/mappings-and-field-types/mapping-parameters/analyzer/</guid><description>Analyzer 分词器参数 # 分析器 analyzer 映射参数用于定义在索引和搜索期间应用于文本字段的文本分析过程，即分词器的作用过程。
代码样例 # 以下示例配置定义了一个名为 my_custom_analyzer 的自定义分词器：
PUT my_index { &amp;quot;settings&amp;quot;: { &amp;quot;analysis&amp;quot;: { &amp;quot;analyzer&amp;quot;: { &amp;quot;my_custom_analyzer&amp;quot;: { &amp;quot;type&amp;quot;: &amp;quot;custom&amp;quot;, &amp;quot;tokenizer&amp;quot;: &amp;quot;standard&amp;quot;, &amp;quot;filter&amp;quot;: [ &amp;quot;lowercase&amp;quot;, &amp;quot;my_stop_filter&amp;quot;, &amp;quot;my_stemmer&amp;quot; ] } }, &amp;quot;filter&amp;quot;: { &amp;quot;my_stop_filter&amp;quot;: { &amp;quot;type&amp;quot;: &amp;quot;stop&amp;quot;, &amp;quot;stopwords&amp;quot;: [&amp;quot;the&amp;quot;, &amp;quot;a&amp;quot;, &amp;quot;and&amp;quot;, &amp;quot;or&amp;quot;] }, &amp;quot;my_stemmer&amp;quot;: { &amp;quot;type&amp;quot;: &amp;quot;stemmer&amp;quot;, &amp;quot;language&amp;quot;: &amp;quot;english&amp;quot; } } } }, &amp;quot;mappings&amp;quot;: { &amp;quot;properties&amp;quot;: { &amp;quot;my_text_field&amp;quot;: { &amp;quot;type&amp;quot;: &amp;quot;text&amp;quot;, &amp;quot;analyzer&amp;quot;: &amp;quot;my_custom_analyzer&amp;quot;, &amp;quot;search_analyzer&amp;quot;: &amp;quot;standard&amp;quot;, &amp;quot;search_quote_analyzer&amp;quot;: &amp;quot;my_custom_analyzer&amp;quot; } } } } 在此示例中，my_custom_analyzer 使用标准分词器，将所有标记转换为小写，应用自定义停用词过滤器，并应用英语词干提取器。</description></item><item><title>动态映射参数</title><link>/easysearch/v1.15.2/docs/references/mappings-and-field-types/mapping-parameters/dynamic/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/v1.15.2/docs/references/mappings-and-field-types/mapping-parameters/dynamic/</guid><description>Dynamic 动态映射参数 # dynamic 参数指定是否可以动态地将新检测到的字段添加到映射中。它接受下表中列出的参数。
参数 描述 true 指定可以动态地将新字段添加到映射中。默认值为 true。 false 指定不能动态地将新字段添加到映射中。如果检测到新字段，则不会对其进行索引或搜索，但可以从 _source 字段中检索。 strict 当检测到文档中有新字段时，索引操作失败，抛出异常。 strict_allow_templates 如果新字段匹配映射中预定义的动态模板，则添加新字段。 示例：创建 dynamic 设置为 true 的索引 # 通过以下命令创建一个 dynamic 设置为 true 的索引：
PUT testindex1 { &amp;#34;mappings&amp;#34;: { &amp;#34;dynamic&amp;#34;: true } } 通过以下命令，索引一个包含两个字符串字段的对象字段 patient 的文档：
PUT testindex1/_doc/1 { &amp;#34;patient&amp;#34;: { &amp;#34;name&amp;#34; : &amp;#34;John Doe&amp;#34;, &amp;#34;id&amp;#34; : &amp;#34;123456&amp;#34; } } 通过以下命令确认映射按预期工作：</description></item><item><title>字段复制参数</title><link>/easysearch/v1.15.2/docs/references/mappings-and-field-types/mapping-parameters/copy_to/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/v1.15.2/docs/references/mappings-and-field-types/mapping-parameters/copy_to/</guid><description>Copy_to 字段复制参数 # copy_to 参数允许您将多个字段的值复制到单个字段中。如果您经常跨多个字段搜索，此参数会很有用，因为这样可以达到搜索一组字段的效果。
只有字段值被复制，而不是分词器产生的词项。原始的 _source 字段保持不变，并且可以使用 copy_to 参数将相同的值复制到多个字段。但是，字段间不支持递归复制；相反，应该直接使用 copy_to 从源字段复制到多个目标字段。
代码样例 # 以下示例使用 copy_to 参数通过产品的名称和描述进行搜索，并将这些值复制到单个字段中：
PUT my-products-index { &amp;quot;mappings&amp;quot;: { &amp;quot;properties&amp;quot;: { &amp;quot;name&amp;quot;: { &amp;quot;type&amp;quot;: &amp;quot;text&amp;quot;, &amp;quot;copy_to&amp;quot;: &amp;quot;product_info&amp;quot; }, &amp;quot;description&amp;quot;: { &amp;quot;type&amp;quot;: &amp;quot;text&amp;quot;, &amp;quot;copy_to&amp;quot;: &amp;quot;product_info&amp;quot; }, &amp;quot;product_info&amp;quot;: { &amp;quot;type&amp;quot;: &amp;quot;text&amp;quot; }, &amp;quot;price&amp;quot;: { &amp;quot;type&amp;quot;: &amp;quot;float&amp;quot; } } } } PUT my-products-index/_doc/1 { &amp;quot;name&amp;quot;: &amp;quot;Wireless Headphones&amp;quot;, &amp;quot;description&amp;quot;: &amp;quot;High-quality wireless headphones with noise cancellation&amp;quot;, &amp;quot;price&amp;quot;: 99.99 } PUT my-products-index/_doc/2 { &amp;quot;name&amp;quot;: &amp;quot;Bluetooth Speaker&amp;quot;, &amp;quot;description&amp;quot;: &amp;quot;Portable Bluetooth speaker with long battery life&amp;quot;, &amp;quot;price&amp;quot;: 49.</description></item><item><title>强制类型转换参数</title><link>/easysearch/v1.15.2/docs/references/mappings-and-field-types/mapping-parameters/coerce/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/v1.15.2/docs/references/mappings-and-field-types/mapping-parameters/coerce/</guid><description>Coerce 强制类型转换参数 # coerce 映射参数控制数据在索引期间如何将其值转换为预期的字段数据类型。此参数让您可以验证数据是否按照预期的字段类型正确格式化和索引。这提高了搜索结果的准确性。
代码样例 # 以下示例演示如何使用 coerce 映射参数。
启用 coerce 去索引文档 # PUT products { &amp;quot;mappings&amp;quot;: { &amp;quot;properties&amp;quot;: { &amp;quot;price&amp;quot;: { &amp;quot;type&amp;quot;: &amp;quot;integer&amp;quot;, &amp;quot;coerce&amp;quot;: true } } } } PUT products/_doc/1 { &amp;quot;name&amp;quot;: &amp;quot;Product A&amp;quot;, &amp;quot;price&amp;quot;: &amp;quot;19.99&amp;quot; } 在此示例中，price 字段被定义为 integer 类型，且 coerce 设置为 true。在索引文档时，字符串值 19.99 被强制转换为整数 19。
禁用 coerce 的文档索引 # PUT orders { &amp;quot;mappings&amp;quot;: { &amp;quot;properties&amp;quot;: { &amp;quot;quantity&amp;quot;: { &amp;quot;type&amp;quot;: &amp;quot;integer&amp;quot;, &amp;quot;coerce&amp;quot;: false } } } } PUT orders/_doc/1 { &amp;quot;item&amp;quot;: &amp;quot;Widget&amp;quot;, &amp;quot;quantity&amp;quot;: &amp;quot;10&amp;quot; } 在此示例中，quantity 字段被定义为 integer 类型，且 coerce 设置为 false。在索引文档时，字符串值 10 不会被强制转换，由于类型不匹配，文档写入会被拒绝。</description></item><item><title>文档列值参数</title><link>/easysearch/v1.15.2/docs/references/mappings-and-field-types/mapping-parameters/doc_values/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/v1.15.2/docs/references/mappings-and-field-types/mapping-parameters/doc_values/</guid><description>doc_values 文档值参数 # 默认情况下，Easysearch 会为搜索目的索引大多数字段的字段值。doc_values 参数启用文档到词项的正排查找，用于排序、聚合和脚本等操作。
doc_values 参数接受以下选项。
选项 Option 描述 true true 启用字段的 doc_values。默认值为 true。 false false 禁用字段的 doc_values。 示例：创建启用和禁用 doc_values 的索引 # 以下示例请求创建一个索引，其中一个字段启用 doc_values，另一个字段禁用：
PUT my-index-001 { &amp;quot;mappings&amp;quot;: { &amp;quot;properties&amp;quot;: { &amp;quot;status_code&amp;quot;: { &amp;quot;type&amp;quot;: &amp;quot;keyword&amp;quot; }, &amp;quot;session_id&amp;quot;: { &amp;quot;type&amp;quot;: &amp;quot;keyword&amp;quot;, &amp;quot;doc_values&amp;quot;: false } } } }</description></item><item><title>是否启用参数</title><link>/easysearch/v1.15.2/docs/references/mappings-and-field-types/mapping-parameters/enabled/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/v1.15.2/docs/references/mappings-and-field-types/mapping-parameters/enabled/</guid><description>Enabled 启用参数 # enabled 参数允许您控制 Easysearch 是否解析字段的内容。此参数可以应用于顶级映射定义和对象字段。
enabled 参数接受以下值：
参数 描述 true 字段被解析和索引。默认值为 true。 false 字段不被解析或索引，但仍可从 _source 字段中检索。当 enabled 设置为 false 时，Easysearch 将字段的值存储在 _source 字段中，但不索引或解析其内容。这对于您想要存储但不需要搜索、排序或聚合的字段很有用。 示例：使用 enabled 参数 # 在以下示例请求中，session_data 字段被禁用。Easysearch 将其内容存储在 _source 字段中，但不对其进行索引或解析：
PUT my-index-002 { &amp;quot;mappings&amp;quot;: { &amp;quot;properties&amp;quot;: { &amp;quot;user_id&amp;quot;: { &amp;quot;type&amp;quot;: &amp;quot;keyword&amp;quot; }, &amp;quot;last_updated&amp;quot;: { &amp;quot;type&amp;quot;: &amp;quot;date&amp;quot; }, &amp;quot;session_data&amp;quot;: { &amp;quot;type&amp;quot;: &amp;quot;object&amp;quot;, &amp;quot;enabled&amp;quot;: false } } } }</description></item><item><title>权重参数设置</title><link>/easysearch/v1.15.2/docs/references/mappings-and-field-types/mapping-parameters/boost/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/easysearch/v1.15.2/docs/references/mappings-and-field-types/mapping-parameters/boost/</guid><description>Boost 权重参数 # boost 映射参数用于在搜索查询期间增加或减少字段的相关性分数。它允许您在计算文档的整体相关性分数时，对特定字段应用更多或更少的权重。
boost 参数作为字段分数的乘数应用。例如，如果一个字段的 boost 值为 2，则该字段的分数的权重将翻倍。相反，boost 值为 0.5 将使该字段的分数的权重减半。
代码样例 # 以下是在 Easysearch 映射中使用 boost 参数的示例：
PUT my-index1 { &amp;quot;mappings&amp;quot;: { &amp;quot;properties&amp;quot;: { &amp;quot;title&amp;quot;: { &amp;quot;type&amp;quot;: &amp;quot;text&amp;quot;, &amp;quot;boost&amp;quot;: 2 }, &amp;quot;description&amp;quot;: { &amp;quot;type&amp;quot;: &amp;quot;text&amp;quot;, &amp;quot;boost&amp;quot;: 1 }, &amp;quot;tags&amp;quot;: { &amp;quot;type&amp;quot;: &amp;quot;keyword&amp;quot;, &amp;quot;boost&amp;quot;: 1.5 } } } } 在此示例中，title 字段的提升值为 2，这意味着它对整体相关性分数的权重是描述字段（提升值为 1）的两倍。tags 字段的提升值为 1.5，因此它的权重是描述字段的一倍半。
当您想要对某些字段赋予更多权重时，boost 参数特别有用。例如，您可能想要将 title 字段的权重提升得比 description 字段更高，因为标题更能文档的相关性。
boost 参数是一个乘法因子，而不是加法因子。这意味着与具有较低权重值的字段相比，具有较高权重值的字段对整体相关性分数的影响将不成比例地大。在使用 boost 参数时，建议您从小值（1.5 或 2）开始，并测试其对搜索结果的影响。过高的权重值可能会扭曲相关性分数，并导致意外或不理想的搜索结果。</description></item></channel></rss>