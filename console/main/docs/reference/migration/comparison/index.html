<!doctype html><html lang=en><head><meta name=generator content="Hugo 0.79.1"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Data Comparison #  Create a Comparison Task #  Click on Data Tools in the left menu of the INFINI Console, then click on the New button to create a comparison task, as shown in the following image:
 Configure Comparison Clusters #  Next, select the cluster opensearch-v1.0 from the source cluster list, and select the cluster sy_cluster from the target cluster list:
 Configure Comparison Indices #  Click on the Select Comparison Index button."><meta name=theme-color content="#FFFFFF"><meta property="og:title" content="Data Comparison"><meta property="og:description" content="Data Comparison #  Create a Comparison Task #  Click on Data Tools in the left menu of the INFINI Console, then click on the New button to create a comparison task, as shown in the following image:
 Configure Comparison Clusters #  Next, select the cluster opensearch-v1.0 from the source cluster list, and select the cluster sy_cluster from the target cluster list:
 Configure Comparison Indices #  Click on the Select Comparison Index button."><meta property="og:type" content="article"><meta property="og:url" content="/console/main/docs/reference/migration/comparison/"><title>Data Comparison | INFINI Console</title><link rel=manifest href=/console/main/manifest.json><link rel=icon href=/console/main/favicon.png type=image/x-icon><link rel=alternate hreflang=zh href=/console/main/zh/docs/reference/migration/comparison/ title=数据比对><link rel=stylesheet href=/console/main/book.min.d80e87b12a4b49d9913d0bdd98bd83b7a44988be784760ba15522b377313dcf9.css integrity="sha256-2A6HsSpLSdmRPQvdmL2Dt6RJiL54R2C6FVIrN3MT3Pk="><link rel=stylesheet type=text/css href=/console/main/css/asciinema-player.css><script defer src=/console/main/js/jquery-2.x.min.js></script><script defer src=/console/main/js/doc.js></script></head><body><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><nav><h2 class=book-brand><a href=/console/main><img src=/console/main/img/logo-en.svg alt=Logo></a></h2><div class=heading><select class=version-selector>
<option value>main (latest)</option>
<option value=v1.27.0>v1.27.x</option>
<option value=v1.26.1>v1.26.x</option></select></div><ul><li><input type=checkbox id=section-f1b7c1b2e5dd43526e77637c475d35b8 class=toggle>
<label for=section-f1b7c1b2e5dd43526e77637c475d35b8 class="flex justify-between"><a>Getting Started</a>
<span>▾</span></label><ul><li><a href=/console/main/docs/getting-started/install/>Installation</a></li><li><a href=/console/main/docs/getting-started/docker/>Docker</a></li><li><a href=/console/main/docs/getting-started/helm/>Kubernetes</a></li></ul></li><li><input type=checkbox id=section-084ba1dbb512652712ad881ff8045610 class=toggle checked>
<label for=section-084ba1dbb512652712ad881ff8045610 class="flex justify-between"><a>References</a>
<span>▾</span></label><ul><li><a href=/console/main/docs/reference/setup/>Setup wizard</a><ul></ul></li><li><a href=/console/main/docs/reference/overview/>Overview</a><ul></ul></li><li><input type=checkbox id=section-dc19493497a0afff7833e4e9dc3568aa class=toggle>
<label for=section-dc19493497a0afff7833e4e9dc3568aa class="flex justify-between"><a>Platform</a>
<span>▾</span></label><ul><li><a href=/console/main/docs/reference/platform/overview/>Platform Overview</a></li><li><a href=/console/main/docs/reference/platform/monitoring/>Cluster Monitoring</a></li><li><a href=/console/main/docs/reference/platform/activities/>Cluster Activities</a></li></ul></li><li><input type=checkbox id=section-77e7dc04d6c2293e5fe55f48c5b1a96d class=toggle>
<label for=section-77e7dc04d6c2293e5fe55f48c5b1a96d class="flex justify-between"><a href=/console/main/docs/reference/data/>Data Management</a>
<span>▾</span></label><ul><li><a href=/console/main/docs/reference/data/indices/>Index Management</a></li><li><a href=/console/main/docs/reference/data/alias/>Alias Management</a></li><li><a href=/console/main/docs/reference/data/view/>Data View</a></li></ul></li><li><input type=checkbox id=section-1f2a999bd81c4d3893f4d18a1b6bee8a class=toggle>
<label for=section-1f2a999bd81c4d3893f4d18a1b6bee8a class="flex justify-between"><a>Data Insight</a>
<span>▾</span></label><ul><li><a href=/console/main/docs/reference/data-insight/dashboard/>Dashboard</a></li><li><a href=/console/main/docs/reference/data-insight/discover/>Discover</a></li></ul></li><li><input type=checkbox id=section-5e5111152017c79ed39a34209990dab7 class=toggle>
<label for=section-5e5111152017c79ed39a34209990dab7 class="flex justify-between"><a>Alerting</a>
<span>▾</span></label><ul><li><a href=/console/main/docs/reference/alerting/message/>Alerting Center</a></li><li><a href=/console/main/docs/reference/alerting/rule/>Alerting Rules</a></li><li><a href=/console/main/docs/reference/alerting/channel/>Alerting Channels</a></li><li><a href=/console/main/docs/reference/alerting/variables/>Template variables</a></li></ul></li><li><input type=checkbox id=section-9d29fb1eabf25b6edd736a2b92f0b4fe class=toggle>
<label for=section-9d29fb1eabf25b6edd736a2b92f0b4fe class="flex justify-between"><a>Dev Tools</a>
<span>▾</span></label><ul><li><a href=/console/main/docs/reference/dev-tools/dev-tools/>Dev Tools</a></li><li><a href=/console/main/docs/reference/dev-tools/command/>Common Commands</a></li></ul></li><li><input type=checkbox id=section-9b62d84ee4a467c77c95c7cc15b0a09e class=toggle checked>
<label for=section-9b62d84ee4a467c77c95c7cc15b0a09e class="flex justify-between"><a>Data Tools</a>
<span>▾</span></label><ul><li><a href=/console/main/docs/reference/migration/comparison/ class=active>Data Comparison</a></li><li><a href=/console/main/docs/reference/migration/migration/>Data Migration</a></li></ul></li><li><input type=checkbox id=section-9a37092c3581f4c91275ae58f0fb21f2 class=toggle>
<label for=section-9a37092c3581f4c91275ae58f0fb21f2 class="flex justify-between"><a>Inventory</a>
<span>▾</span></label><ul><li><a href=/console/main/docs/reference/resource/gateway/>Gateway Management</a></li><li><a href=/console/main/docs/reference/resource/cluster/>Cluster Management</a></li></ul></li><li><input type=checkbox id=section-4d372e275e589511fb7282b1f9f3f20f class=toggle>
<label for=section-4d372e275e589511fb7282b1f9f3f20f class="flex justify-between"><a>System</a>
<span>▾</span></label><ul><li><a href=/console/main/docs/reference/system/credential/>Credential Management</a><ul></ul></li><li><input type=checkbox id=section-89e2a3b5192ba2e5bd11dc7aab78be3d class=toggle>
<label for=section-89e2a3b5192ba2e5bd11dc7aab78be3d class="flex justify-between"><a href=/console/main/docs/reference/system/security/>Security</a>
<span>▾</span></label><ul><li><a href=/console/main/docs/reference/system/security/role/>Role</a></li><li><a href=/console/main/docs/reference/system/security/user/>User</a></li></ul></li></ul></li><li><input type=checkbox id=section-5860fb455fea11f0ed079673fd767cda class=toggle>
<label for=section-5860fb455fea11f0ed079673fd767cda class="flex justify-between"><a>Agent</a>
<span>▾</span></label><ul><li><a href=/console/main/docs/reference/agent/manage/manage/>Overview</a></li><li><a href=/console/main/docs/reference/agent/install/>Installing Agent</a></li><li><a href=/console/main/docs/reference/agent/docker/>Container Deployment</a></li></ul></li></ul></li><li><input type=checkbox id=section-7dd85575c84e6825eb9419e748eb5977 class=toggle>
<label for=section-7dd85575c84e6825eb9419e748eb5977 class="flex justify-between"><a>Tutorials</a>
<span>▾</span></label><ul><li><a href=/console/main/docs/tutorials/create_readonly_account/>How to easily create an Elasticsearch "guest" user</a></li><li><a href=/console/main/docs/tutorials/role_with_different_rights/>How to assign different Elasticsearch cluster access permissions to different INFINI Console accounts</a></li><li><a href=/console/main/docs/tutorials/role_with_index_limit/>How to assign Elasticsearch index-level permissions to INFINI Console accounts</a></li><li><a href=/console/main/docs/tutorials/cluster_health_change/>How to Monitor Elasticsearch Cluster Health</a></li><li><a href=/console/main/docs/tutorials/cluster_node_disk_usage/>How to monitor Elasticsearch cluster node disk usage</a></li><li><a href=/console/main/docs/tutorials/cluster_slow_request/>How to monitor slow query requests in Elasticsearch</a></li><li><a href=/console/main/docs/tutorials/cluster_node_cpu_usage/>How to monitor the CPU usage of Elasticsearch cluster nodes</a></li><li><a href=/console/main/docs/tutorials/cluster_node_jvm_usage/>How to monitor JVM usage of Elasticsearch cluster nodes</a></li></ul></li><li><a href=/console/main/docs/user-cases/>User Cases</a><ul></ul></li><li><a href=/console/main/docs/screenshot/>Screenshots</a><ul></ul></li><li><a href=/console/main/docs/troubleshooting/>FAQs</a><ul></ul></li><li><a href=/console/main/docs/release-notes/>Release Notes</a><ul></ul></li></ul><ul><li><a href=https://github.com/infinilabs/console target=_blank rel=noopener>Github</a></li></ul><div class=book-languages tabindex=0 aria-haspopup=true><ul><li class="flex align-center"><img src=/console/main/svg/translate.svg class=book-icon alt=Languages>
English</li></ul><ul class=book-languages-list><li class=active><a href=/console/main/ class="flex align-center"><img src=/console/main/svg/translate.svg class=book-icon alt=Languages>
English</a></li><li><a href=/console/main/zh/docs/reference/migration/comparison/ class="flex align-center"><img src=/console/main/svg/translate.svg class=book-icon alt=Languages>
简体中文</a></li></ul></div></nav><script>(function(){var menu=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(event){localStorage.setItem("menu.scrollTop",menu.scrollTop);});menu.scrollTop=localStorage.getItem("menu.scrollTop");})();</script></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/console/main/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Data Comparison</strong>
<label for=toc-control><img src=/console/main/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#data-comparison>Data Comparison</a><ul><li><a href=#create-a-comparison-task>Create a Comparison Task</a><ul><li><a href=#configure-comparison-clusters>Configure Comparison Clusters</a></li><li><a href=#configure-comparison-indices>Configure Comparison Indices</a></li><li><a href=#configure-filter-conditions-and-partition-rules>Configure Filter Conditions and Partition Rules</a></li><li><a href=#runtime-settings>Runtime Settings</a></li><li><a href=#configure-incremental-data-comparison>Configure Incremental Data Comparison</a></li></ul></li><li><a href=#start-the-comparison-task>Start the Comparison Task</a></li></ul></li></ul></nav></aside></header><article class=markdown><h1 id=data-comparison>Data Comparison
<a class=anchor href=#data-comparison>#</a></h1><h2 id=create-a-comparison-task>Create a Comparison Task
<a class=anchor href=#create-a-comparison-task>#</a></h2><p>Click on <strong>Data Tools</strong> in the left menu of the INFINI Console, then click on the <strong>New</strong> button to create a comparison task, as shown in the following image:</p><p><img src=/img/reference/migration/comparison/1.png alt="Image 1"></p><h3 id=configure-comparison-clusters>Configure Comparison Clusters
<a class=anchor href=#configure-comparison-clusters>#</a></h3><p>Next, select the cluster <code>opensearch-v1.0</code> from the source cluster list, and select the cluster <code>sy_cluster</code> from the target cluster list:</p><p><img src=/img/reference/migration/comparison/2.png alt="Image 2"></p><h3 id=configure-comparison-indices>Configure Comparison Indices
<a class=anchor href=#configure-comparison-indices>#</a></h3><p>Click on the <strong>Select Comparison Index</strong> button. Here, we have chosen the index <code>tv6-migration</code> and click <strong>Confirm</strong>:</p><p><img src=/img/reference/migration/comparison/3.png alt="Image 3"></p><p>Then, we can select the target index to compare, <code>tv6-sy</code>:</p><p><img src=/img/reference/migration/comparison/4.png alt="Image 4"></p><p>Click <strong>Next</strong>.</p><h3 id=configure-filter-conditions-and-partition-rules>Configure Filter Conditions and Partition Rules
<a class=anchor href=#configure-filter-conditions-and-partition-rules>#</a></h3><p>If you need to filter data from both the source and target indices, you can set the data range filter conditions, which will be applied to both indices simultaneously:</p><p><img src=/img/reference/migration/comparison/5.png alt="Image 5"></p><p>You can configure partitioning of the data for comparison, which will help in identifying the source of the differing data. The partition rules also apply to both the source and target indices:</p><p><img src=/img/reference/migration/comparison/6.png alt="Image 6"></p><p>Click <strong>Next</strong>.</p><h3 id=runtime-settings>Runtime Settings
<a class=anchor href=#runtime-settings>#</a></h3><p>We can set the runtime parameters for the task, which usually do not need to be adjusted. Select the nodes for the task to run on, and then click <strong>Create Task</strong>:</p><p><img src=/img/reference/migration/comparison/7.png alt="Image 7"></p><h3 id=configure-incremental-data-comparison>Configure Incremental Data Comparison
<a class=anchor href=#configure-incremental-data-comparison>#</a></h3><p>If the data within the index is continuously being written (e.g., in a log scenario), you can configure an incremental comparison task to continuously detect the differences between the source and target clusters.</p><p>When configuring the index, specify the incremental fields (e.g., timestamp) and the data write delay (default: 15 minutes) for the index that receives incremental writes. The purpose of configuring the write delay is to prevent data discrepancies caused by some data not being persisted to disk when exporting:</p><p><img src=/img/reference/migration/comparison/incremental-1.png alt="Image Incremental 1"></p><p>When creating the task, select <strong>Detect Incremental Data</strong> and set the detection interval (default: 15 minutes):</p><p><img src=/img/reference/migration/comparison/incremental-2.png alt="Image Incremental 2"></p><p>Once the task starts, it will continuously compare the incremental data between the source and target clusters. If you want to pause the data comparison, click the <strong>Pause</strong> button to pause the incremental task. After clicking <strong>Resume</strong>, the data written during the pause will be verified as usual:</p><p><img src=/img/reference/migration/comparison/incremental-3.png alt="Image Incremental 3"></p><h2 id=start-the-comparison-task>Start the Comparison Task
<a class=anchor href=#start-the-comparison-task>#</a></h2><p>After successfully creating the comparison task, you will see the task list. You can select <strong>Start</strong> on the right-hand side to launch the newly created task:</p><p><img src=/img/reference/migration/comparison/8.png alt="Image 8"></p><p>Click the <strong>Detail</strong> button to view the detailed information about the task:</p><p><img src=/img/reference/migration/comparison/9.png alt="Image 9"></p><p>You can click the refresh button at the top right of the index</p><p>list to continuously update the progress information:</p><p><img src=/img/reference/migration/comparison/10.png alt="Image 10"></p><p>If the data comparison is successful, the corresponding partition block will be displayed in green; otherwise, it will be displayed in red:</p><p><img src=/img/reference/migration/comparison/11.png alt="Image 11"></p><p>If a block turns red during the comparison process, it indicates a failure. You can click on the <strong>View Log</strong> in the progress information of the task block to view the error log and locate the specific cause of the error.</p></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div class=book-languages tabindex=0 aria-haspopup=true><ul><li class="flex align-center"><img src=/console/main/svg/translate.svg class=book-icon alt=Languages>
English</li></ul><ul class=book-languages-list><li class=active><a href=/console/main/ class="flex align-center"><img src=/console/main/svg/translate.svg class=book-icon alt=Languages>
English</a></li><li><a href=/console/main/zh/docs/reference/migration/comparison/ class="flex align-center"><img src=/console/main/svg/translate.svg class=book-icon alt=Languages>
简体中文</a></li></ul></div><div><a class="flex align-center" href=https://github.com/infinilabs/console/edit/main/docs/content.en/docs/reference/migration/comparison.md target=_blank rel=noopener><img src=/console/main/svg/edit.svg class=book-icon alt=Edit>
<span>Edit this page</span></a></div><div class="flex align-center footer">©INFINI.LTD, All Rights Reserved.</div><script>(function(h,o,t,j,a,r){h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};h._hjSettings={hjid:2567416,hjsv:6};a=o.getElementsByTagName('head')[0];r=o.createElement('script');r.async=1;r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;a.appendChild(r);})(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-RJPTVP614C"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}
gtag('js',new Date());gtag('config','G-RJPTVP614C');</script><script type=text/javascript>var _smartsupp=_smartsupp||{};_smartsupp.key='691ff544d18a237005a011a7290b839d8fe811a4';window.smartsupp||(function(d){var s,c,o=smartsupp=function(){o._.push(arguments)};o._=[];s=d.getElementsByTagName('script')[0];c=d.createElement('script');c.type='text/javascript';c.charset='utf-8';c.async=true;c.src='https://www.smartsuppchat.com/loader.js?';s.parentNode.insertBefore(c,s);})(document);</script></div></footer><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><nav id=TableOfContents><ul><li><a href=#data-comparison>Data Comparison</a><ul><li><a href=#create-a-comparison-task>Create a Comparison Task</a><ul><li><a href=#configure-comparison-clusters>Configure Comparison Clusters</a></li><li><a href=#configure-comparison-indices>Configure Comparison Indices</a></li><li><a href=#configure-filter-conditions-and-partition-rules>Configure Filter Conditions and Partition Rules</a></li><li><a href=#runtime-settings>Runtime Settings</a></li><li><a href=#configure-incremental-data-comparison>Configure Incremental Data Comparison</a></li></ul></li><li><a href=#start-the-comparison-task>Start the Comparison Task</a></li></ul></li></ul></nav></aside></main><script src=/console/main/js/asciinema-player.js></script></body></html>