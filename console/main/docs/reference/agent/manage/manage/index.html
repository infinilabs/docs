<!doctype html><html lang=en><head><meta name=generator content="Hugo 0.79.1"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Agent Overview #  Overview #  INFINI Agent is a submodule of INFINI Console, charge of data scraping and Elasticsearch instance manage. it&rsquo;s manage by INFINI Console. INFINI Agent supports mainstream operating systems and platforms. The program package is small, with no extra external dependency. So, the agent can be installed very rapidly.
Highlights of Agent:
 Collect cluster health/cluster stats/node stats/index stats from Elasticsearch Collect local JSON and text logs from Elasticsearch."><meta name=theme-color content="#FFFFFF"><meta property="og:title" content="Overview"><meta property="og:description" content="Agent Overview #  Overview #  INFINI Agent is a submodule of INFINI Console, charge of data scraping and Elasticsearch instance manage. it&rsquo;s manage by INFINI Console. INFINI Agent supports mainstream operating systems and platforms. The program package is small, with no extra external dependency. So, the agent can be installed very rapidly.
Highlights of Agent:
 Collect cluster health/cluster stats/node stats/index stats from Elasticsearch Collect local JSON and text logs from Elasticsearch."><meta property="og:type" content="article"><meta property="og:url" content="/console/main/docs/reference/agent/manage/manage/"><title>Overview | INFINI Console</title><link rel=manifest href=/console/main/manifest.json><link rel=icon href=/console/main/favicon.png type=image/x-icon><link rel=alternate hreflang=zh href=/console/main/zh/docs/reference/agent/manage/manage/ title=功能介绍><link rel=stylesheet href=/console/main/book.min.d80e87b12a4b49d9913d0bdd98bd83b7a44988be784760ba15522b377313dcf9.css integrity="sha256-2A6HsSpLSdmRPQvdmL2Dt6RJiL54R2C6FVIrN3MT3Pk="><script defer src=/console/main/js/jquery-2.x.min.js></script><script defer src=/console/main/js/doc.js></script></head><body><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><nav><h2 class=book-brand><a href=/console/main><img src=/console/main/img/logo-en.svg alt=Logo></a></h2><div id=searchbox style=margin-bottom:10px;outline:none></div><div class=heading><select class=version-selector>
<option value>main (latest)</option>
<option value=v1.30.1>v1.30.1</option>
<option value=v1.30.0>v1.30.0</option>
<option value=v1.29.8>v1.29.8</option>
<option value=v1.29.7>v1.29.7</option>
<option value=v1.29.6>v1.29.6</option>
<option value=v1.29.4>v1.29.4</option>
<option value=v1.29.3>v1.29.3</option>
<option value=v1.29.2>v1.29.2</option>
<option value=v1.29.1>v1.29.1</option>
<option value=v1.29.0>v1.29.0</option>
<option value=v1.28.2>v1.28.2</option>
<option value=v1.28.0>v1.28.0</option>
<option value=v1.27.0>v1.27.0</option>
<option value=v1.26.1>v1.26.1</option></select></div><ul><li><input type=checkbox id=section-f1b7c1b2e5dd43526e77637c475d35b8 class=toggle>
<label for=section-f1b7c1b2e5dd43526e77637c475d35b8 class="flex justify-between"><a>Getting Started</a>
<span>▾</span></label><ul><li><a href=/console/main/docs/getting-started/install/>Installation</a></li><li><a href=/console/main/docs/getting-started/docker/>Docker</a></li><li><a href=/console/main/docs/getting-started/dcoker-easysearch/>Deploying Console and Easysearch with Docker Compose</a></li><li><a href=/console/main/docs/getting-started/k8s-easysearch/>Deploying Console and Easysearch in a Kubernetes Cluster</a></li><li><a href=/console/main/docs/getting-started/helm/>Kubernetes</a></li></ul></li><li><input type=checkbox id=section-084ba1dbb512652712ad881ff8045610 class=toggle checked>
<label for=section-084ba1dbb512652712ad881ff8045610 class="flex justify-between"><a>References</a>
<span>▾</span></label><ul><li><a href=/console/main/docs/reference/setup/>Setup wizard</a><ul></ul></li><li><a href=/console/main/docs/reference/overview/>Overview</a><ul></ul></li><li><input type=checkbox id=section-dc19493497a0afff7833e4e9dc3568aa class=toggle>
<label for=section-dc19493497a0afff7833e4e9dc3568aa class="flex justify-between"><a>Platform</a>
<span>▾</span></label><ul><li><a href=/console/main/docs/reference/platform/overview/>Platform Overview</a></li><li><a href=/console/main/docs/reference/platform/monitoring/>Cluster Monitoring</a></li><li><a href=/console/main/docs/reference/platform/activities/>Cluster Activities</a></li></ul></li><li><input type=checkbox id=section-77e7dc04d6c2293e5fe55f48c5b1a96d class=toggle>
<label for=section-77e7dc04d6c2293e5fe55f48c5b1a96d class="flex justify-between"><a href=/console/main/docs/reference/data/>Data Management</a>
<span>▾</span></label><ul><li><a href=/console/main/docs/reference/data/indices/>Index</a></li><li><a href=/console/main/docs/reference/data/alias/>Alias</a></li><li><a href=/console/main/docs/reference/data/view/>Data View</a></li></ul></li><li><input type=checkbox id=section-1f2a999bd81c4d3893f4d18a1b6bee8a class=toggle>
<label for=section-1f2a999bd81c4d3893f4d18a1b6bee8a class="flex justify-between"><a>Data Insight</a>
<span>▾</span></label><ul><li><a href=/console/main/docs/reference/data-insight/discover/>Discover</a></li></ul></li><li><input type=checkbox id=section-5e5111152017c79ed39a34209990dab7 class=toggle>
<label for=section-5e5111152017c79ed39a34209990dab7 class="flex justify-between"><a>Alerting</a>
<span>▾</span></label><ul><li><a href=/console/main/docs/reference/alerting/message/>Messages</a></li><li><a href=/console/main/docs/reference/alerting/rule/>Rules</a></li><li><a href=/console/main/docs/reference/alerting/channel/>Channels</a></li><li><a href=/console/main/docs/reference/alerting/variables/>Template variables</a></li></ul></li><li><input type=checkbox id=section-9d29fb1eabf25b6edd736a2b92f0b4fe class=toggle>
<label for=section-9d29fb1eabf25b6edd736a2b92f0b4fe class="flex justify-between"><a>Dev Tools</a>
<span>▾</span></label><ul><li><a href=/console/main/docs/reference/dev-tools/dev-tools/>Dev Tools</a></li><li><a href=/console/main/docs/reference/dev-tools/command/>Common Commands</a></li></ul></li><li><input type=checkbox id=section-9a37092c3581f4c91275ae58f0fb21f2 class=toggle>
<label for=section-9a37092c3581f4c91275ae58f0fb21f2 class="flex justify-between"><a>Inventory</a>
<span>▾</span></label><ul><li><a href=/console/main/docs/reference/resource/runtime/>Runtime</a></li><li><a href=/console/main/docs/reference/resource/cluster/>Cluster</a></li><li><a href=/console/main/docs/reference/resource/cluster-agent/>Agent Metric Collect Mode Configuration</a></li></ul></li><li><input type=checkbox id=section-4d372e275e589511fb7282b1f9f3f20f class=toggle>
<label for=section-4d372e275e589511fb7282b1f9f3f20f class="flex justify-between"><a>System</a>
<span>▾</span></label><ul><li><a href=/console/main/docs/reference/system/credential/>Credential</a><ul></ul></li><li><input type=checkbox id=section-89e2a3b5192ba2e5bd11dc7aab78be3d class=toggle>
<label for=section-89e2a3b5192ba2e5bd11dc7aab78be3d class="flex justify-between"><a href=/console/main/docs/reference/system/security/>Security</a>
<span>▾</span></label><ul><li><a href=/console/main/docs/reference/system/security/role/>Role</a></li><li><a href=/console/main/docs/reference/system/security/user/>User</a></li></ul></li><li><a href=/console/main/docs/reference/system/audit/>Audit Logs</a></li></ul></li><li><input type=checkbox id=section-5860fb455fea11f0ed079673fd767cda class=toggle checked>
<label for=section-5860fb455fea11f0ed079673fd767cda class="flex justify-between"><a>Agent</a>
<span>▾</span></label><ul><li><a href=/console/main/docs/reference/agent/manage/manage/ class=active>Overview</a></li><li><a href=/console/main/docs/reference/agent/install/>Installing Agent</a></li><li><a href=/console/main/docs/reference/agent/docker/>Container Deployment</a></li></ul></li></ul></li><li><input type=checkbox id=section-7dd85575c84e6825eb9419e748eb5977 class=toggle>
<label for=section-7dd85575c84e6825eb9419e748eb5977 class="flex justify-between"><a>Tutorials</a>
<span>▾</span></label><ul><li><a href=/console/main/docs/tutorials/create_readonly_account/>How to easily create an Elasticsearch "guest" user</a></li><li><a href=/console/main/docs/tutorials/role_with_different_rights/>How to assign different Elasticsearch cluster access permissions to different INFINI Console accounts</a></li><li><a href=/console/main/docs/tutorials/role_with_index_limit/>How to assign Elasticsearch index-level permissions to INFINI Console accounts</a></li><li><a href=/console/main/docs/tutorials/cluster_health_change/>How to Monitor Elasticsearch Cluster Health</a></li><li><a href=/console/main/docs/tutorials/cluster_node_disk_usage/>How to monitor Elasticsearch cluster node disk usage</a></li><li><a href=/console/main/docs/tutorials/cluster_slow_request/>How to monitor slow query requests in Elasticsearch</a></li><li><a href=/console/main/docs/tutorials/cluster_node_cpu_usage/>How to monitor the CPU usage of Elasticsearch cluster nodes</a></li><li><a href=/console/main/docs/tutorials/cluster_node_jvm_usage/>How to monitor JVM usage of Elasticsearch cluster nodes</a></li><li><a href=/console/main/docs/tutorials/getting_started_with_the_TopN_metrics_feature/>Getting Started with the TopN Metrics Feature in INFINI Console</a></li></ul></li><li><a href=/console/main/docs/user-cases/>User Cases</a><ul></ul></li><li><a href=/console/main/docs/screenshot/>Screenshots</a><ul></ul></li><li><a href=/console/main/docs/troubleshooting/>FAQs</a><ul></ul></li><li><a href=/console/main/docs/release-notes/>Release Notes</a><ul></ul></li></ul><ul><li><a href=https://github.com/infinilabs/console target=_blank rel=noopener>Github</a></li></ul><div class=book-languages tabindex=0 aria-haspopup=true><ul><li class="flex align-center"><img src=/console/main/svg/translate.svg class=book-icon alt=Languages>
English</li></ul><ul class=book-languages-list><li class=active><a href=/console/main/ class="flex align-center"><img src=/console/main/svg/translate.svg class=book-icon alt=Languages>
English</a></li><li><a href=/console/main/zh/docs/reference/agent/manage/manage/ class="flex align-center"><img src=/console/main/svg/translate.svg class=book-icon alt=Languages>
简体中文</a></li></ul></div></nav><script>(function(){var menu=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(event){localStorage.setItem("menu.scrollTop",menu.scrollTop);});menu.scrollTop=localStorage.getItem("menu.scrollTop");})();</script></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/console/main/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Overview</strong>
<label for=toc-control><img src=/console/main/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#agent-overview>Agent Overview</a><ul><li><a href=#overview>Overview</a></li><li><a href=#quick-installation>Quick Installation</a></li><li><a href=#agent-instance-registration>Agent Instance Registration</a></li><li><a href=#agent-instance-list>Agent Instance List</a></li><li><a href=#associate-node-processes-with-registered-clusters-in-console>Associate Node Processes with Registered Clusters in Console</a></li><li><a href=#edit-agent-information>Edit Agent Information</a></li><li><a href=#delete-agent-instance>Delete Agent Instance</a></li></ul></li></ul></nav></aside></header><article class=markdown><h1 id=agent-overview>Agent Overview
<a class=anchor href=#agent-overview>#</a></h1><h2 id=overview>Overview
<a class=anchor href=#overview>#</a></h2><p><strong>INFINI Agent</strong> is a submodule of INFINI Console, charge of data scraping and Elasticsearch instance manage. it&rsquo;s manage by INFINI Console. <strong>INFINI Agent</strong> supports mainstream operating systems and platforms. The program package is small, with no extra external dependency. So, the agent can be installed very rapidly.</p><p>Highlights of Agent:</p><ul><li>Collect cluster health/cluster stats/node stats/index stats from Elasticsearch</li><li>Collect local JSON and text logs from Elasticsearch.</li><li>Collect host metrics.</li><li>Upload all metrics and logs to Elasticsearch.</li></ul><h2 id=quick-installation>Quick Installation
<a class=anchor href=#quick-installation>#</a></h2><p>Go to the menu <code>INVENTORY</code> > <code>AGENTS</code> and click the <code>Install Agent</code> button. You will see that the Console automatically generates an installation script. Simply click the copy icon in the top right corner of the script to copy it.</p><p><img src=/console/main/img/screenshot/v1.29/agent/agent-install.jpg alt></p><p>Paste the copied installation script into the target host to perform a one-click quick installation. The generated configuration file looks like the following:</p><pre><code class=language-aidl data-lang=aidl>path.configs: config
configs.auto_reload: true
env:
  API_BINDING: 0.0.0.0:8080

path.data: data
path.logs: log

api:
  enabled: true
  tls:
    enabled: true
    cert_file: config/client.crt
    key_file: config/client.key
    ca_file: config/ca.crt
    skip_insecure_verify: false
  network:
    binding: $[[env.API_BINDING]]

badger:
  value_log_max_entries: 1000000
  value_log_file_size: 104857600
  value_threshold: 1024

agent:
  major_ip_pattern: .*
</code></pre><p>The certificate used here is automatically generated by the Console during installation. Once the installation is successful, the agent instance will be automatically registered to the Console. The Console will then communicate with the agent using mTLS. The token used during installation is for quick installation purposes only and cannot be used for other APIs. The token is valid for <strong>one hour</strong>.</p><blockquote><p>Make sure that the Console host and the Agent host are network-accessible to each other.</p></blockquote><h2 id=agent-instance-registration>Agent Instance Registration
<a class=anchor href=#agent-instance-registration>#</a></h2><p><strong>Step 1:</strong> Enter the agent address, and optionally enable TLS and authentication (if authentication is enabled, a username and password are required).</p><p><img src=/console/main/img/screenshot/v1.29/agent/agent-register-step1.jpg alt></p><p><strong>Step 2:</strong> Confirm the information, and optionally modify the agent name, tags, and description.</p><p><img src=/console/main/img/screenshot/v1.29/agent/agent-register-step2.jpg alt></p><p>After completing the input, click <strong>Next</strong> to finish registration.</p><blockquote><p>Agents installed via the one-click installation script from INFINI Console are automatically registered to the Console, no manual registration is needed.</p></blockquote><h2 id=agent-instance-list>Agent Instance List
<a class=anchor href=#agent-instance-list>#</a></h2><p>In the agent instance list, you can view registered agent instances as shown below:</p><p><img src=/console/main/img/screenshot/v1.29/agent/agent-list.jpg alt></p><p>Expanding a table row displays all Elasticsearch, Easysearch, and Opensearch node process instances on the agent. Click the refresh icon in the upper right corner after expanding to refresh the process list.</p><h2 id=associate-node-processes-with-registered-clusters-in-console>Associate Node Processes with Registered Clusters in Console
<a class=anchor href=#associate-node-processes-with-registered-clusters-in-console>#</a></h2><p>To collect cluster metrics and node logs via the Agent, associate the automatically discovered Elasticsearch, Easysearch, and Opensearch node processes with already registered clusters in the Console. Once associated, the collected metrics can be directly used in the Console monitoring features. The association process is as follows:</p><p>Click <code>Associate</code> in the node process list to open the following dialog:</p><p><img src=/console/main/img/screenshot/v1.29/agent/agent-node-associate.jpg alt></p><ul><li>If the node’s cluster has already been registered in the Console, simply click <code>Associate</code> in the popup window to complete the operation. Once associated, the Agent will automatically collect cluster metrics and node logs.</li><li>If the node process requires authentication information, the association dialog will look like this:</li></ul><p><img src=/console/main/img/screenshot/v1.29/agent/agent-node-associate-auth.jpg alt></p><p>You need to enter the node address and authentication details, then attempt a connection to fetch the cluster info.</p><ul><li>If the cluster has not yet been registered in the Console, the dialog will look like this:</li></ul><p><img src=/console/main/img/screenshot/v1.29/agent/agent-node-associate-unregistration.jpg alt></p><p>Just follow the instructions and click <code>go to register</code> to register the cluster. Once registered, return to complete the association.</p><h2 id=edit-agent-information>Edit Agent Information
<a class=anchor href=#edit-agent-information>#</a></h2><p>Click the edit button in the agent list table to enter the update screen.</p><p><img src=/console/main/img/screenshot/v1.29/agent/agent-edit.jpg alt></p><p>Modify the configuration as needed, then click the save button to submit.</p><h2 id=delete-agent-instance>Delete Agent Instance
<a class=anchor href=#delete-agent-instance>#</a></h2><p>Go to the menu <code>INVENTORY</code> > <code>AGENTS</code> , then click <code>Delete</code> in the corresponding row. After confirmation, the agent will be deleted.</p><p><img src=/console/main/img/screenshot/v1.29/agent/agent-delete-instance.jpg alt></p></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div class=book-languages tabindex=0 aria-haspopup=true><ul><li class="flex align-center"><img src=/console/main/svg/translate.svg class=book-icon alt=Languages>
English</li></ul><ul class=book-languages-list><li class=active><a href=/console/main/ class="flex align-center"><img src=/console/main/svg/translate.svg class=book-icon alt=Languages>
English</a></li><li><a href=/console/main/zh/docs/reference/agent/manage/manage/ class="flex align-center"><img src=/console/main/svg/translate.svg class=book-icon alt=Languages>
简体中文</a></li></ul></div><div><a class="flex align-center" href=https://github.com/infinilabs/console/edit/main/docs/content.en/docs/reference/agent/manage/manage.md target=_blank rel=noopener><img src=/console/main/svg/edit.svg class=book-icon alt=Edit>
<span>Edit this page</span></a></div><div class="flex align-center footer">©INFINI.LTD, All Rights Reserved.</div><script async src="https://www.googletagmanager.com/gtag/js?id=G-RJPTVP614C"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}
gtag('js',new Date());gtag('config','G-RJPTVP614C');</script><script type=text/javascript>var _smartsupp=_smartsupp||{};_smartsupp.key='691ff544d18a237005a011a7290b839d8fe811a4';window.smartsupp||(function(d){var s,c,o=smartsupp=function(){o._.push(arguments)};o._=[];s=d.getElementsByTagName('script')[0];c=d.createElement('script');c.type='text/javascript';c.charset='utf-8';c.async=true;c.src='https://www.smartsuppchat.com/loader.js?';s.parentNode.insertBefore(c,s);})(document);</script></div><script type=module>
    import { searchbox } from "https://coco.infini.cloud/integration/cvn0g9ehpcehvsthrakg/widget";
    searchbox({container: "#searchbox"});
</script></footer><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><nav id=TableOfContents><ul><li><a href=#agent-overview>Agent Overview</a><ul><li><a href=#overview>Overview</a></li><li><a href=#quick-installation>Quick Installation</a></li><li><a href=#agent-instance-registration>Agent Instance Registration</a></li><li><a href=#agent-instance-list>Agent Instance List</a></li><li><a href=#associate-node-processes-with-registered-clusters-in-console>Associate Node Processes with Registered Clusters in Console</a></li><li><a href=#edit-agent-information>Edit Agent Information</a></li><li><a href=#delete-agent-instance>Delete Agent Instance</a></li></ul></li></ul></nav></aside></main></body></html>