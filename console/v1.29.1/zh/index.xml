<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>INFINI Console</title><link>/console/v1.29.1/zh/</link><description>Recent content on INFINI Console</description><generator>Hugo -- gohugo.io</generator><atom:link href="/console/v1.29.1/zh/index.xml" rel="self" type="application/rss+xml"/><item><title>告警中心</title><link>/console/v1.29.1/zh/docs/reference/alerting/message/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/console/v1.29.1/zh/docs/reference/alerting/message/</guid><description>告警中心 # 简介 # 消息中心默认展示的是当前系统内正在发生的告警事件，方便管理人员快速预览系统的执行状态。
事件消息列表 # 消息列表聚合了所有已触发的告警事件，如每个告警规则重复触发了多次告警消息，这里只会聚合显示一条，点击详情就可以去看更多的信息。
消息详情 # 点击消息列表行列中的详情按钮可以查看当前告警事件消息的详细内容，包含事件消息的基本信息，事件触发周期内的时序曲线图，规则执行检测历史记录等，如下图所示：
忽略告警消息 # 如认为告警事件不需要做处理或者不重要，可以进行忽略操作，忽略后告警消息将不默认展在消息列表中，不过可以通过状态筛选过滤进行查询。
操作步骤：点击消息列表表格中的忽略按钮，进行二次确认，填写忽略原因，提交后执行忽略操作。</description></item><item><title>平台概览</title><link>/console/v1.29.1/zh/docs/reference/platform/overview/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/console/v1.29.1/zh/docs/reference/platform/overview/</guid><description>平台概览 # 简介 # 在平台概览里，可以查看集群、节点、索引、主机层面的主要指标，了解各层面的运行状态。
集群 # 节点 # 索引 # 主机 # 主机数据来源于 INFINI Agent 数据上报和 Elasticsearch 节点发现。
发现主机 # 点击主机列表右侧的按钮&amp;quot;Discover host&amp;quot;，勾选后，点击按钮&amp;quot;add hosts&amp;quot;即可添加主机到主机列表。</description></item><item><title>开发工具</title><link>/console/v1.29.1/zh/docs/reference/dev-tools/dev-tools/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/console/v1.29.1/zh/docs/reference/dev-tools/dev-tools/</guid><description>开发工具 # 简介 # 使用开发工具可以快速地编写和执行 Elasticsearch 查询以及其他的 elasticsearch API。 当开启安装验证后，所有的请求都会经过 API 级别权限校验
打开开发工具 # 使用 Ctrl+Shift+O 快捷键打开或者在 console 右上角图标打开。
执行请求快捷键 # Command+Enter 或者 Ctrl+Enter
多集群多 Tab 页支持 # 开发工具支持使用 Tab 页同时打开多个集群，即使是同一个集群，也可以打开多个，Tab 页之间状态是独立的。 Tab 页默认使用集群名称作为标题，双击 Tab 页标题可以修改。 开发工具下方是一个状态栏，左侧是当前集群的健康状态、http 地址、版本信息， 右侧是 elasticsearch 接口请求的响应状态以及时长。
查看请求头信息 # 当使用开发工具执行 elasticsearch 请求之后，可以在右侧点击 headers Tab 页查看请求头信息。</description></item><item><title>数据比对</title><link>/console/v1.29.1/zh/docs/reference/migration/comparison/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/console/v1.29.1/zh/docs/reference/migration/comparison/</guid><description>数据比对 # 创建比对任务 # 点击 INFINI Console 中左侧菜单 数据工具 》数据比对，然后点击新建按钮创建比对任务，如下图所示：
配置比对集群 # 然后在源集群列表中选择集群 opensearch-v1.0, 在目标集群列表中选择集群 sy_cluster：
配置比对索引 # 点击选择比对索引按钮, 这里我们选择了索引 tv6-migration ,然后点击确认：
然后我们可以选择需要比对的目标索引 tv6-sy：
然后点击下一步。
配置过滤条件和分区规则 # 如果需要过滤源索引和目标索引的数据，可以进行数据范围的设置，过滤条件对源索引和目标索引同时生效：
我们可以对数据进行分区配置，分区比对可以方便我们后续定位差异数据的来源。分区规则也对源索引和目标索引同样生效：
然后点击下一步。
运行设置 # 我们设置任务运行的参数，通常情况下不需要调整。我们选择任务运行的节点，然后点击创建任务：
配置增量数据比对 # 如果索引内的数据是持续写入的（日志等场景），可以配置增量比对任务，持续检测源集群和目标集群的数据差异。
在配置索引时，对增量写入的索引配置增量字段（如 timestamp）和数据的写入延迟（默认 15 分钟）。配置写入延迟的目的是为了防止导出数据时有部分数据未落盘，导致数据比对异常：
创建任务时，勾选 Detect Incremental Data，并设置检测间隔（默认 15 分钟）：
任务开始后，会持续比对源集群和目标集群的增量数据。如果想要暂停数据比对，可以点击 Pause 按钮，暂停增量任务。点击 Resume 之后，任务暂停期间写入的数据会照常校验：
启动比对任务 # 创建比对任务成功后会看到任务列表，我们可以在右侧选择 Start，启动新创建的任务：
点击 Detail 按钮，我们可以查看任务的详细情况：
我们可以点击索引列表右上方的刷新按钮，这样可以持续更新进度信息：
如果数据比对成功，对应的分区方块会显示为绿色，否则为红色：
如果比对过程中有方块变成了红色，则表示比对失败，这时候可以点击任务方块进度信息里面的 View Log 查看错误日志，定位具体错误原因。</description></item><item><title>数据看板</title><link>/console/v1.29.1/zh/docs/reference/data-insight/dashboard/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/console/v1.29.1/zh/docs/reference/data-insight/dashboard/</guid><description>数据看板 # Workspace 列表 # 点击 标签页+，可查看已创建的 workspace 列表：
创建 Workspace # 点击 workspace 列表中的 Create New，进入创建界面：
设置 Wrokspace # 点击 Setting，进入配置抽屉框，可配置名称、描述、数据来源条件等信息：
删除 Workspace # 点击 workspace 列表中的删除图标，在弹出的确认框中点击 ok，即可删除 workspace
保存 Workspace # 点击 Save，即可保存当前 workspace 的所有配置信息
添加 Workspace 到标签栏 # 在 workspace 列表中，点击 workspace，即可添加到标签页
从标签栏移除 workspace # 点击标签栏最右侧的编辑按钮，进入编辑模式：
点击标签页上的 X 图标，即可移除该标签页
添加 Widget # 创建 widget 点击 Add Widget，在弹出的抽屉框中，选择 widget 类型，点击 add 即可创建对应类型的 widget：</description></item><item><title>数据迁移</title><link>/console/v1.29.1/zh/docs/reference/migration/migration/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/console/v1.29.1/zh/docs/reference/migration/migration/</guid><description>数据迁移 # 创建迁移任务 # 点击 INFINI Console 中左侧菜单 数据工具 》数据迁移，然后点击新建按钮创建迁移任务，如下图所示：
配置迁移集群 # 在源集群列表中选择集群 es-v5616, 在目标集群列表中选择集群 es-v710
配置迁移索引 # 点击选择迁移索引按钮, 如下图：
这里我们选择了索引 test ,然后点击确认
test 索引包含两个 type，系统自动按 type 拆分成两个索引
表格右方可以设置目标索引名称和文档 type，按需修改即可。 选择完索引之后，点击下一步，进行索引的初始化操作，如下图：
点击展开后，可以看到有 mappings 和 settings 设置，如图所示， mappings 设置左侧显示的是源集群索引的 mappings， 可以点击中间按钮复制到右侧， 然后点击 Auto Optimize 自动优化（兼容性优化）。设置完成后点击 Start 执行初始化 mappings 和 settings 操作，若没有设置，则自动跳过。
如果已通过其他方式初始化索引 settings 和 mappings， 这里可以直接点击下一步跳过
完成索引初始化之后，点击下一步，进行迁移任务的数据范围设置和分区设置，如下图：
配置数据范围 # 如果需要过滤数据迁移，可以进行数据范围的设置，这里我们进行全量的数据迁移，就不设置了
配置数据分区 # 如果一个索引数据量特别大，可以进行数据分区的设置。数据分区根据设置的字段，以及分区步长将数据拆成多段，系统最终会将一个分段的数据作为一个子任务去运行，迁移数据， 这样的话即使，一个分段迁移过程出现异常，只需要重跑这个子任务。</description></item><item><title>索引管理</title><link>/console/v1.29.1/zh/docs/reference/data/indices/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/console/v1.29.1/zh/docs/reference/data/indices/</guid><description>索引管理 # 索引列表 # 索引列表包括对索引的增删改查操作。
新建索引 # 输入新索引名称及索引设置即可完成添加。
索引详情 # 可以查看索引健康状态、分片数、文档数、存储大小等详情，以及 Mappings、Edit settings 的查看和修改。</description></item><item><title>网关管理</title><link>/console/v1.29.1/zh/docs/reference/resource/gateway/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/console/v1.29.1/zh/docs/reference/resource/gateway/</guid><description>网关管理 # 简介 # 网关管理可以快速方便地帮助我们纳管多个网关实例。
网关列表 # 在网关列表中可以查询创建的网关实例
创建网关 # 第一步填写网关地址，按需开启 TLS 和 身份验证（开启身份验证后需要输入用户名和密码）。
第二步，信息确认，按需修改网关名称，网关标签，网关描述。
更新网关配置 # 点击网关列表表格中的编辑按钮，进入更新界面
按需修改配置，然后点击保存按钮提交
删除网关 # 点击网关列表表格中的删除按钮，进行二次确认，确认删除后执行删除操作。</description></item><item><title>别名管理</title><link>/console/v1.29.1/zh/docs/reference/data/alias/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/console/v1.29.1/zh/docs/reference/data/alias/</guid><description>别名管理 # 别名列表 # 别名列表包括对别名的增删改查操作。
新建别名 # 别名：输入别名名称 索引：选择别名对应的目标索引，支持使用 (*) 来绑定多个索引。 是否为写索引：指定选择的索引是否可写，如果别名只绑定一个索引，则默认该索引可写；如果是通过 (*) 绑定多个索引，最需要指定其中一个索引为可写。 别名与索引关系列表 # 点开别名列表行首的+号按钮，会展开显示该别名对应绑定的索引列表，同时可以对索引进行关系绑定更新设置和删除。</description></item><item><title>告警规则</title><link>/console/v1.29.1/zh/docs/reference/alerting/rule/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/console/v1.29.1/zh/docs/reference/alerting/rule/</guid><description>告警规则 # 简介 # 告警规则包括数据源，指标定义，触发条件，消息通知四个部分的配置
告警规则列表 # 在告警规则列表中可以查询已经添加的告警规则
新建告警规则 # 在告警规则列表中点击 新建 按钮进入新建告警规则页面
配置数据源 # 选择集群（必选） 选择索引，支持输入索引 pattern （必填） 输入 elasticsearch query DSL 查询过滤条件（可选） 选择时间字段（必选） 选择统计周期（用于时间字段聚合，默认一分钟） 配置告警指标以及触发条件 # 输入规则名称 按需添加分组的字段以及分组大小，可以添加多个，用于 terms 聚合 选择指标聚合字段以及统计类型，可以配置多个，当配置多个时必须配置公式用于计算最终的指标 配置告警触发条件 选择指标数值 选择分桶对比 选择基于文档差异数或者内容差异数 文档差异数：相邻两个时间桶内命中文档数量的差值
内容差异数：相邻两个时间桶内某个分组是否有变化，差异值为 1 表示增加，-1 表示减少，0 表示无变化
选择执行检查周期 输入告警事件标题（模版，被模版变量中的 title 引用，点击这里了解 模版语法 ） 输入告警事件消息（模版，被模版变量中的 message 引用，点击这里了解 模版语法 ） 分桶对比是 INFINI Console 1.</description></item><item><title>常用命令</title><link>/console/v1.29.1/zh/docs/reference/dev-tools/command/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/console/v1.29.1/zh/docs/reference/dev-tools/command/</guid><description>常用命令 # 简介 # 常用命令用于在开发工具中将高频使用的 Elasticsearch 请求保存, 这样后续如果需要使用， 只需要在开发工具中使用 LOAD 命令加载，即可快速使用。
保存常用命令 # 打开 console 右上角的开发工具(Ctrl+shift+o)， 在开发工具中选择需要保存的 Elasticsearch 请求 （支持一次选中多个请求保存为常用命令），选中之后点击工具栏里面的 Save As Command 提交。
加载常用命令 # 在开发工具里，输入 LOAD + 保存的命令名称关键字 会自动提示相关已保存的常用命令， 选中要加载的命令后，按回车键即可自动加载相应的常用命令。
常用命令列表 # 在常用命令列表中可以查询已经保存的常用命令
点击在列表中常用命令名称一栏可以查看常用命令具体信息, 也可以修改名称和 tag 信息
删除常用命令 # 点击常用命令列表中的删除按钮，进行二次确认，确认之后执行删除操作。</description></item><item><title>数据探索</title><link>/console/v1.29.1/zh/docs/reference/data-insight/discover/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/console/v1.29.1/zh/docs/reference/data-insight/discover/</guid><description>数据探索 # 简介 # 在数据探索里，可以根据时间、字段等条件对索引或者视图下的数据进行搜索查询，数据展示方式有常规模式和 Insight 模式。
搜索工具栏 # 索引(视图) # 搜索语句 # 时间范围 # 字段过滤 # 保存搜索 # 保存的搜索列表 # Insight 模式 # Insight 配置 # 常规模式 # 常规模式下用多功能图表灵活地添加字段来展示数据
可对文档数据进行编辑、删除等操作
Insight 模式 # Insight 模式下会根据数据特征推送可视化图表来展示数据
可通过推送列表添加图表
可对图表进行编辑、删除</description></item><item><title>集群监控</title><link>/console/v1.29.1/zh/docs/reference/platform/monitoring/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/console/v1.29.1/zh/docs/reference/platform/monitoring/</guid><description>集群监控 # 简介 # 当注册的集群开启了监控之后，INFINI Console 会根据相应配置去目标集群定期采集数据， 包括集群、节点、索引层面的一些指标（ 指标字段说明介绍）。然后在集群监控里面可以观测到这些指标，从而了解目标集群的运行状态。
监控所需 Elasticsearch API 权限清单 # _cluster/health，_cluster/stats，_cat/shards, /_nodes/&amp;lt;node_id&amp;gt;/stats _cat/indices, _stats, _cluster/state, _nodes, _alias, _cluster/settings
开启集群监控 # 在集群注册或者修改集群配置的时候，可以看到如下界面
可以看到有一个 Monitored 的开关，当这个开关打开时，代表当前集群是开启监控的。 集群注册的时候，默认是开启监控的。监控配置里面包括集群健康指标、集群指标、节点指标和索引指标， 并且可以分别设置是否开启和采集时间间隔。
以上是对单个集群的设置，在配置文件console.yaml中可以设置对所有集群的监控启停，默认情况下可以看到配置文件中有如下配置：
metrics: enabled: true major_ip_pattern: &amp;quot;192.*&amp;quot; queue: metrics elasticsearch: enabled: true cluster_stats: true node_stats: true index_stats: true 如果 metrics&amp;gt;enable 设置为 false, 那么所有的集群监控都是没有开启的； 如果 metrics&amp;gt;elasticsearch&amp;gt;cluster_stats&amp;gt;enabled 设置为 false，那么所有的 集群就不会采集集群层面的相关指标。
查看集群指标监控 # 开启监控之后，在 INFINI Console 左侧菜单平台管理下面的监控报表里可以查看集群的监控信息，如下：</description></item><item><title>集群管理</title><link>/console/v1.29.1/zh/docs/reference/resource/cluster/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/console/v1.29.1/zh/docs/reference/resource/cluster/</guid><description>集群管理 # 简介 # 集群管理可以快速方便地帮助我们纳管跨版本的多个 Elasticsearch 集群。
集群列表 # 在集群列表中可以查询注册的 Elasticsearch 集群
集群注册 # 第一步填写集群地址，按需开启 TLS 和 身份验证（开启身份验证后需要输入用户名和密码）。
第二步，信息确认
按需修改集群名称，集群描述； 是否开启监控（默认开启），启用监控之后可以在 console 监控功能里面查看 Elasticsearch 集群的各种指标 是否开启 Discovery（推荐开启） , 启用之后 console 会自动发现集群所有节点，当配置的集群地址不可用时，console 会尝试使用自动发现的其他节点中可用的地址和 Elasticsearch 交互 更新集群配置 # 点击集群列表表格中的编辑按钮，进入更新界面
按需修改配置，然后点击保存按钮提交
删除集群 # 点击集群列表表格中的删除按钮，进行二次确认，确认删除后执行删除操作。</description></item><item><title>告警渠道</title><link>/console/v1.29.1/zh/docs/reference/alerting/channel/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/console/v1.29.1/zh/docs/reference/alerting/channel/</guid><description>告警渠道 # 简介 # 告警渠道用于当告警规则触发之后，发送通知消息的通道配置，目前支持 webhook。
渠道列表 # 在渠道列表中可以查询已经添加的渠道
新建告警渠道 # 在渠道列表页面中点击 新建 按钮进入新建告警渠道页面
输入渠道名称（必填） 选择渠道类型（当前仅支持 webhook ） 输入 webhook 地址 选择 HTTP 请求的方法，默认 POST 按需添加 HTTP 请求头 配置 webhook 请求体 点击保存按钮提交 更新渠道配置 # 在渠道列表中选择需要更新的渠道点击编辑按钮进入更新渠道配置页
操作参考新建告警渠道
删除告警渠道 # 点击告警渠道列表表格中的删除按钮，进行二次确认，确认删除后执行删除操作。</description></item><item><title>指标说明</title><link>/console/v1.29.1/zh/docs/reference/platform/infini-metrics-fields-description/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/console/v1.29.1/zh/docs/reference/platform/infini-metrics-fields-description/</guid><description>.infini_metrics 监控指标字段说明 # agent # 字段名 说明 agent.hostname 主机名称 agent.id 实例 ID agent.ips 主机 IP 列表 agent.major_ip 主 IP（配置文件 metrics.major_ip_pattern 指定） metadata # 字段名 说明 metadata.category 指标分类 metadata.datatype 指标数据类型 metadata.name 指标名称 metadata.version 指标所属实例的版本号 metadata.labels.cluster_id 集群 ID metadata.</description></item><item><title>数据视图</title><link>/console/v1.29.1/zh/docs/reference/data/view/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/console/v1.29.1/zh/docs/reference/data/view/</guid><description>数据视图 # 视图列表 # 创建和管理数据视图可以帮助您更好地从 Elasticsearch 获取数据。
创建视图 # 步骤 1 定义数据视图 # 输入数据视图名称 匹配规则：匹配相应索引，也可以使用 (*) 来匹配多个索引。 步骤 2 配置 # 为数据视图索引选择时间字段作为时间过滤
创建完成
编辑数据视图 # 页面列出匹配索引的所有字段，可以对字段的 Format、Popularity 等做相关设置。</description></item><item><title>模板变量</title><link>/console/v1.29.1/zh/docs/reference/alerting/variables/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/console/v1.29.1/zh/docs/reference/alerting/variables/</guid><description>模板变量 # 简介 # 自定义告警触发事件内容时，除了自己撰写的固定文案外，事件标题、事件内容等也支持模板语法。可以使用事件中的字段实现文案的渲染。
模板变量 # 用于渲染字段的语法为 {{ .字段名 }}，可用于模板内容渲染的变量字段如下：
变量字段名 字段类型 说明 示例 rule_id string rule uuid c9f663tath2e5a0vksjg rule_name string rule name High CPU usage resource_id string resource uuid c9f663tath2e5a0vksjg resource_name string resource name es-v716 event_id string identifier for check details c9f663tath2e5a0vksjx timestamp number Millisecond timestamp 1654595042399 trigger_at number Millisecond timestamp 1654595042399 duration string Alarm duration &amp;ldquo;2m10s&amp;rdquo; objects string array resource index name [&amp;quot;.</description></item><item><title>集群动态</title><link>/console/v1.29.1/zh/docs/reference/platform/activities/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/console/v1.29.1/zh/docs/reference/platform/activities/</guid><description>集群动态 # 简介 # 当注册的集群后，在集群动态里面可以观测到集群的动态。</description></item><item><title>下载安装</title><link>/console/v1.29.1/zh/docs/getting-started/install/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/console/v1.29.1/zh/docs/getting-started/install/</guid><description>安装 INFINI Console # INFINI Console 支持主流的操作系统和平台，程序包很小，没有任何额外的外部依赖，安装起来应该是很快的 :)
安装前准备 # 准备一个可以存储数据的 Elasticsearch 集群，要求为 5.3 及以上版本，用于 INFINI Console 存储相关数据。
推荐使用 INFINI Easysearch 来作存储，可通过配置开启 ZSTD 来节约存储空间。安装操作如如下
查看完整操作代码 # 使用 root 用户操作 whoami &amp;amp;&amp;amp; cat /etc/redhat-release &amp;amp;&amp;amp; uptime # 安装 jdk yum -y install java-11 # 创建 infini 用户 groupadd -g 602 infini useradd -u 602 -g infini -m -d /home/infini -c &amp;#39;infini&amp;#39; -s /bin/bash infini # 安装 Easysearch &amp;amp; Console curl -sSL http://get.</description></item><item><title>功能介绍</title><link>/console/v1.29.1/zh/docs/reference/agent/manage/manage/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/console/v1.29.1/zh/docs/reference/agent/manage/manage/</guid><description>功能介绍 # 简介 # INFINI Agent 是 INFINI Console 的一个可选组件，负责采集和上传 Elasticsearch, Easysearch, Opensearch 集群的日志和指标信息，通过 INFINI Console 管理。INFINI Agent 支持主流操作系统和平台，安装包轻量且无任何外部依赖，可以快速方便地安装。
Agent 功能特性：
采集上传 Elasticsearch 等集群健康信息/集群 stats/索引 stats/节点 stats 信息 采集上传 Elasticsearch 等实例节点日志 采集主机指标信息 快速安装探针 # 进入菜单 资源管理 &amp;gt; 探针管理 点击按钮 Install Agent。 可以看到 Console 会自动生成一段安装脚本，然后只需要点击脚本右上方的复制 Icon， 就可以复制安装脚本了。
将在 Console 中复制的安装脚本粘贴到目标主机上就可以实现一键快速安装了，生成的配置文件内容类似如下：
path.configs: config configs.auto_reload: true env: API_BINDING: 0.0.0.0:8080 path.data: data path.logs: log api: enabled: true tls: enabled: true cert_file: config/client.</description></item><item><title>用户管理</title><link>/console/v1.29.1/zh/docs/reference/system/security/user/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/console/v1.29.1/zh/docs/reference/system/security/user/</guid><description>用户管理 # 简介 # 用户管理包括对用户的增删改查操作以及重置用户密码.
创建用户 # 用户名是必填的并且需要唯一，作为登录账号名. 昵称, 手机号, 邮箱都是可选的. 给用户分配一个或者多个角色. 用户标签是可选的，可用于给用户分组. 查询用户 # 输入关键字，点击搜索按钮查询用户
更新用户 # 按需修改，点击保存按钮保存
重置用户密码 # 输入新密码点击保存按钮重置密码</description></item><item><title>下载安装</title><link>/console/v1.29.1/zh/docs/reference/agent/install/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/console/v1.29.1/zh/docs/reference/agent/install/</guid><description>安装探针 # 探针支持两种方式安装，一种是手动下载安装配置，还有一种是结合新版本的 Console (&amp;gt;=1.3.0)，生成一键安装脚本。 只要执行一键安装脚本即可在主机上完成探针的安装。我们推荐使用结合 Console 来安装探针，简单和方便管理。
一键安装 # 安装前准备 # 安装并运行 INFINI Console
复制一键安装脚本 # 在 INFINI Console 左侧菜单 资源管理&amp;gt;探针管理，进入页面之后点击 Install Agent 按钮，即可复制类似如下一键安装脚本：
curl -sSL http://localhost:9000/agent/install.sh?token=cjctdrms4us1c6fu04ag |sudo bash -s -- -u https://release.infinilabs.com/agent/stable -v 0.6.0-262 -t /opt/agent -u和-v参数表示从指定的 URL 下载指定版本的 Agent，-t参数表示安装的路径，在联网的环境中，&amp;ndash; 及后面的参数都可以忽略，默认情况下将从官网下载最新的 Agent 版本进行安装。
将一键安装脚本粘贴到终端执行即可完成安装，安装之后该探针实例会被自动注册到 INFINI Console。具体操作步骤参考 Agent 快速安装
下载安装 # 根据您所在的操作系统和平台选择下面相应的下载地址：
https://release.infinilabs.com/agent/
容器部署 # 探针(INFINI Agent) 也支持 Docker 容器方式部署。</description></item><item><title>容器部署</title><link>/console/v1.29.1/zh/docs/reference/agent/docker/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/console/v1.29.1/zh/docs/reference/agent/docker/</guid><description>容器部署 # 探针 (INFINI Agent) 支持容器方式部署。
下载镜像 # 探针(INFINI Agent) 的镜像发布在 Docker 的官方仓库，地址如下：
https://hub.docker.com/r/infinilabs/agent
使用下面的命令即可获取最新的容器镜像：
docker pull infinilabs/agent:1.29.1-2000 验证镜像 # 将镜像下载到本地之后，可以看到 探针 (INFINI Agent) 的容器镜像非常小，只有不到 20MB，所以下载是非常快的。
✗ docker images |grep &amp;quot;agent&amp;quot; |grep &amp;quot;1.29.1-2000&amp;quot; REPOSITORY TAG IMAGE ID CREATED SIZE infinilabs/agent latest 1.29.1-2000 4 days ago 13.8MB 创建配置 # 现在需要创建一个配置文件 agent.yml，来进行基本的配置，如下：
api: enabled: true network: binding: 0.0.0.0:8080 metrics: enabled: true queue: metrics network: enabled: true summary: true details: true memory: metrics: - swap - memory disk: metrics: - ioqs - usage cpu: metrics: - idle - system - user - iowait - load elasticsearch: enabled: true agent_mode: true node_stats: true index_stats: true cluster_stats: true elasticsearch: - name: default enabled: true endpoint: http://192.</description></item><item><title>如何轻松创建一个 Elasticsearch “游客” 用户</title><link>/console/v1.29.1/zh/docs/tutorials/create_readonly_account/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/console/v1.29.1/zh/docs/tutorials/create_readonly_account/</guid><description>如何轻松创建一个 Elasticsearch “游客” 用户 # 简介 # 有些情况下，我们想给客户分享一下某些功能或者数据，但是又不希望数据被修改。这个时候我们就需要创建一个“游客” 用户了。本文简单地介绍了如何使用 INFINI Console 创建&amp;quot;游客&amp;quot;用户。
准备 # 下载并安装最新版 INFINI Console 开启 INFINI Console 安全功能 创建角色 # 点击 INFINI Console 左侧菜单 系统管理 &amp;gt; 安全设置，选择角色 Tab 页进入角色管理页。
新建平台角色 readonly # 点击新建按钮，选择平台角色，新建一个平台角色 readonly，操作步骤如下：
输入角色名称 readonly 展开所有的功能权限 除了系统设置下面的安全功能，其他所有的功能都选择 Read 权限。 系统设置下面的安全功能 设置为 None 权限。 点击保存按钮提交 选择某个功能的 All 权限代表拥有这个功能的读和写的操作权限， Read 代表只拥有读的权限， None 代表没有该功能权限（用户登录之后菜单中没有该功能）
新建数据角色 es-v7171 # 点击新建按钮，选择数据角色，新建一个数据角色 es-v7171，操作步骤如下：</description></item><item><title>如何给不同 INFINI Console 账户分配不同 Elasticsearch 集群访问权限</title><link>/console/v1.29.1/zh/docs/tutorials/role_with_different_rights/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/console/v1.29.1/zh/docs/tutorials/role_with_different_rights/</guid><description>如何给不同 INFINI Console 账户分配不同 Elasticsearch 集群访问权限 # 简介 # 本文将介绍使用 INFINI Console 给两个不同账户分配两个不同的 Elasticsearch 集群管理权限
准备 # 下载并安装最新版 INFINI Console 开启 INFINI Console 安全功能 注册至少两个 Elasticsearch 集群到 INFINI Console 创建角色 # 点击 INFINI Console 左侧菜单 系统管理 &amp;gt; 安全设置，选择角色 Tab 页进入角色管理页。
新建平台角色 platform_role # 点击新建按钮，选择平台角色，新建一个平台角色 platform_role，操作步骤如下：
输入角色名称 platform_role 展开所有的功能权限 除了系统设置下面的安全功能，其他所有的功能都选择 All 权限。 系统设置下面的安全功能 设置为 None 权限。 点击保存按钮提交 选择某个功能的 All 权限代表拥有这个功能的读和写的操作权限， Read 代表只拥有读的权限， None 代表没有该功能权限（用户登录之后菜单中没有该功能）</description></item><item><title>如何给 INFINI Console 账户分配 Elasticsearch 索引级别权限</title><link>/console/v1.29.1/zh/docs/tutorials/role_with_index_limit/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/console/v1.29.1/zh/docs/tutorials/role_with_index_limit/</guid><description>如何给 INFINI Console 账户分配 Elasticsearch 索引级别权限 # 简介 # 本文将介绍使用 INFINI Console 限定某个账户只有 Elasticsearch 集群里面某些索引的管理权限
准备 # 下载并安装最新版 INFINI Console 开启 INFINI Console 安全功能 注册至少两个 Elasticsearch 集群到 INFINI Console 创建角色 # 点击 INFINI Console 左侧菜单 系统管理 &amp;gt; 安全设置，选择角色 Tab 页进入角色管理页。
新建平台角色 platform_role # 点击新建按钮，选择平台角色，新建一个平台角色 platform_role
新建数据角色 test_index_only # 点击新建按钮，选择数据角色，新建一个数据角色 test_index_only，然后做如下配置：
将集群只选择 es-v7140 （限制该角色只有 Elasticsearch 集群 es-v7140 的访问权限） 设置索引权限 索引只输入索引 pattern test* （限制该角色只有索引名称匹配 test* 的索引访问权限） 配置完成之后点击保存按钮提交。</description></item><item><title>Helm 部署</title><link>/console/v1.29.1/zh/docs/getting-started/helm/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/console/v1.29.1/zh/docs/getting-started/helm/</guid><description>Helm 部署 # INFINI Console 支持 Helm 方式部署。
添加仓库 # Chart 仓库地址在这里 https://helm.infinilabs.com。
使用下面的命令添加仓库：
helm repo add infinilabs https://helm.infinilabs.com 前提 # Chart 包中默认配置的 StorageClass 是 local-path，可参考 这里安装。
如果想使用其他已安装的 StorageClass, 可以创建一个 YAML 文件（例如：values.yaml），添加如下配置
storageClassName: \&amp;lt;storageClassName\&amp;gt; 创建的时候使用 -f 参数指定，替换默认值。
安装 # helm install console infinilabs/console -n &amp;lt;namespace&amp;gt; 卸载 # helm uninstall console -n &amp;lt;namespace&amp;gt; kubectl delete pvc console-data-console-0 console-config-console-0 -n &amp;lt;namespace&amp;gt;</description></item><item><title>容器部署</title><link>/console/v1.29.1/zh/docs/getting-started/docker/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/console/v1.29.1/zh/docs/getting-started/docker/</guid><description>容器部署 # INFINI Console 支持容器方式部署。
下载镜像 # INFINI Console 的镜像发布在 Docker 的官方仓库，地址如下：
https://hub.docker.com/r/infinilabs/console
使用下面的命令即可获取最新的容器镜像：
docker pull infinilabs/console:1.29.1-2000 验证镜像 # 将镜像下载到本地之后，可以看到 INFINI Console 平台的容器镜像非常小，只有不到 30MB，所以下载的速度应该是非常快的。
➜ docker images |grep &amp;#34;console&amp;#34; |grep &amp;#34;1.29.1-2000&amp;#34; REPOSITORY TAG IMAGE ID CREATED SIZE infinilabs/console latest 8c27cd334e4c 47 minutes ago 26.4MB 启动平台 # 使用如下命令启动极限网关容器：
docker run -p 9000:9000 infinilabs/console:1.29.1-2000 Docker Compose # 还可以使用 docker compose 来管理容器实例，新建一个 docker-compose.yml 文件如下：
version: &amp;#34;3.5&amp;#34; services: infini-console: image: infinilabs/console:1.</description></item><item><title>角色管理</title><link>/console/v1.29.1/zh/docs/reference/system/security/role/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/console/v1.29.1/zh/docs/reference/system/security/role/</guid><description>角色管理 # 简介 # 角色管理包括对角色的增删改查操作。 INFINI Console 内置了一个管理员角色，角色名为 Administrator, 该角色拥有所有的操作权限, 包括所有的平台权限和数据权限。 数据角色用于控制 elasticsearch 集群的访问权限, 包括 elasticsearch API 的访问权限， elasticsearch API 的列表可以在安装目录下的 config/permission.json 文件中配置。
创建平台角色 # 输入唯一的角色名. 选择平台权限，不能为空. 按需输入角色描述 点击保存按钮保存 All 权限代表同时拥有读和写的权限, Read 代表只读权限, None 代表没有权限。
创建数据角色 # 输入唯一的角色名. 选择一个或者多个集群， * 代表选择所有集群. 配置集群级别 API 权限, * 代表所有集群级别 API 权限. 配置索引级别 API 权限, * 代表所有索引级别 API 权限. 按需输入角色描述 点击保存按钮保存 查询角色 # 输入关键字点击搜索按钮查询角色。
更新平台角色 # 按需修改角色，然后点击保存按钮保存。</description></item><item><title>如何监控 Elasticsearch 里面的慢查询请求</title><link>/console/v1.29.1/zh/docs/tutorials/cluster_slow_request/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/console/v1.29.1/zh/docs/tutorials/cluster_slow_request/</guid><description>如何监控 Elasticsearch 里面的慢查询请求 # 简介 # 很多时候，Elasticsearch 集群会出现数据写入或者查询流量高峰期的情况，这个时候 Elasticsearch 集群压力会很大，通过对 Elasticsearch 索引查询的延迟的监控告警。可以让我们定位 Elasticsearch 集群的压力主要集中在哪些索引。本文将介绍如何使用 INFINI Console 告警功能监控 Elasticsearch 里面的慢查询请求索引。
准备 # 下载并安装最新版 INFINI Console 使用 INFINI Console 注册 Elasticsearch 集群 创建告警规则 # 在浏览器中打开 INFINI Console，点击左侧菜单 告警管理 &amp;gt; 规则管理 进入告警管理页，然后点击 新建 按钮进入创建告警规则页。按以下步骤创建告警规则：
选择集群（这里需要选择 INFINI Console 存储数据的 Elasticsearch 集群，也就是在配置文件 console.yml 配置的 Elasticsearch 集群，如果没有注册到 INFINI Console，请先注册） 输入告警对象 .infini_metrics*（选择 Elasticsearch 集群下的索引，或者输入索引 pattern，这里因为 INFINI Console 采集的监控数据存放在索引 .infini_metrics 里面） 输入筛选条件（Elasticsearch 查询 DSL）这里我们需要过滤监控指标类别为 index_stats，并且索引名称不能为 _all，DSL 如下： { &amp;#34;bool&amp;#34;: { &amp;#34;must&amp;#34;: [ { &amp;#34;term&amp;#34;: { &amp;#34;metadata.</description></item><item><title>如何监控 Elasticsearch 集群健康状态</title><link>/console/v1.29.1/zh/docs/tutorials/cluster_health_change/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/console/v1.29.1/zh/docs/tutorials/cluster_health_change/</guid><description>如何监控 Elasticsearch 集群健康状态 # 简介 # 很多时候 Elasticsearch 集群会因为某些原因，集群健康状态会变为红色，这个时候 Elasticsearch 集群至少存在一个主分片未分配或者丢失。所以监控 Elasticsearch 集群健康状态是很有必要的。本文将介绍如何使用 INFINI Console 告警功能监控 Elasticsearch 集群健康状态。
准备 # 下载并安装最新版 INFINI Console 使用 INFINI Console 注册 Elasticsearch 集群 创建告警规则 # 在浏览器中打开 INFINI Console, 点击左侧菜单 告警管理 &amp;gt; 规则管理 进入告警管理页，然后点击 新建 按钮进入创建告警规则页。按以下步骤创建告警规则：
选择集群（这里需要选择 INFINI Console 存储数据的 Elasticsearch 集群，也就是在配置文件 console.yml 配置的 Elasticsearch 集群，如果没有注册到 INFINI Console , 请先注册） 选择告警对象 .infini_metrics（选择 Elasticsearch 集群下的索引，或者输入索引 pattern, 这里因为 INFINI Console 采集的监控数据存放在索引 .</description></item><item><title>如何监控 Elasticsearch 集群节点磁盘使用率</title><link>/console/v1.29.1/zh/docs/tutorials/cluster_node_disk_usage/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/console/v1.29.1/zh/docs/tutorials/cluster_node_disk_usage/</guid><description>如何监控 Elasticsearch 集群节点磁盘使用率 # 简介 # 当系统磁盘使用率过高时，Elasticsearch 集群会出现数据写入不进去的情况，这样很可能导致数据丢失，所以监控 Elasticsearch 集群节点磁盘使用率是很有必要的。本文将介绍如何使用 INFINI Console 告警功能监控 Elasticsearch 集群节点磁盘的使用率。
准备 # 下载并安装最新版 INFINI Console 使用 INFINI Console 注册 Elasticsearch 集群 创建告警规则 # 在浏览器中打开 INFINI Console，点击左侧菜单 告警管理 &amp;gt; 规则管理 进入告警管理页，然后点击 新建 按钮进入创建告警规则页。按以下步骤创建告警规则：
选择集群（这里需要选择 INFINI Console 存储数据的 Elasticsearch 集群，也就是在配置文件 console.yml 配置的 Elasticsearch 集群，如果没有注册到 INFINI Console，请先注册） 输入告警对象 .infini_metrics*（选择 Elasticsearch 集群下的索引，或者输入索引 pattern，这里因为 INFINI Console 采集的监控数据存放在索引 .infini_metrics 里面） 输入筛选条件（Elasticsearch 查询 DSL）这里我们需要过滤监控指标类别为 node_stats，DSL 如下： { &amp;#34;bool&amp;#34;: { &amp;#34;must&amp;#34;: [ { &amp;#34;term&amp;#34;: { &amp;#34;metadata.</description></item><item><title>如何监控 Elasticsearch 集群节点的 CPU 使用率</title><link>/console/v1.29.1/zh/docs/tutorials/cluster_node_cpu_usage/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/console/v1.29.1/zh/docs/tutorials/cluster_node_cpu_usage/</guid><description>如何监控 Elasticsearch 集群节点的 CPU 使用率 # 简介 # 本文将介绍如何使用 INFINI Console 监控 Elasticsearch 集群节点磁盘的使用率，并进行告警。
准备 # 下载并安装最新版 INFINI Console 使用 INFINI Console 注册 Elasticsearch 集群 创建告警规则 # 在浏览器中打开 INFINI Console，点击左侧菜单 告警管理 &amp;gt; 规则管理 进入告警管理页，然后点击 新建 按钮进入创建告警规则页。按以下步骤创建告警规则：
选择集群（这里需要选择 INFINI Console 存储数据的 Elasticsearch 集群，也就是在配置文件 console.yml 配置的 Elasticsearch 集群，如果没有注册到 INFINI Console，请先注册） 输入告警对象 .infini_metrics*（选择 Elasticsearch 集群下的索引，或者输入索引 pattern，这里因为 INFINI Console 采集的监控数据存放在索引 .infini_metrics 里面） 输入筛选条件（Elasticsearch 查询 DSL）这里我们需要过滤监控指标类别为 node_stats 及元数据分类为 elasticsearch，DSL 如下： { &amp;#34;bool&amp;#34;: { &amp;#34;must&amp;#34;: [ { &amp;#34;term&amp;#34;: { &amp;#34;metadata.</description></item><item><title>如何监控 Elasticsearch 集群节点的 JVM 使用率</title><link>/console/v1.29.1/zh/docs/tutorials/cluster_node_jvm_usage/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/console/v1.29.1/zh/docs/tutorials/cluster_node_jvm_usage/</guid><description>如何监控 Elasticsearch 集群节点的 JVM 使用率 # 简介 # 本文将介绍如何使用 INFINI Console 监控 Elasticsearch 集群节点 JVM 的使用率，并进行告警。
准备 # 下载并安装最新版 INFINI Console 使用 INFINI Console 注册 Elasticsearch 集群 创建告警规则 # 在浏览器中打开 INFINI Console，点击左侧菜单 告警管理 &amp;gt; 规则管理 进入告警管理页，然后点击 新建 按钮进入创建告警规则页。按以下步骤创建告警规则：
选择集群（这里需要选择 INFINI Console 存储数据的 Elasticsearch 集群，也就是在配置文件 console.yml 配置的 Elasticsearch 集群，如果没有注册到 INFINI Console，请先注册） 输入告警对象 .infini_metrics*（选择 Elasticsearch 集群下的索引，或者输入索引 pattern，这里因为 INFINI Console 采集的监控数据存放在索引 .infini_metrics 里面） 输入筛选条件（Elasticsearch 查询 DSL）这里我们需要过滤监控指标类别为 node_stats 及元数据分类为 elasticsearch，DSL 如下： { &amp;#34;bool&amp;#34;: { &amp;#34;must&amp;#34;: [ { &amp;#34;term&amp;#34;: { &amp;#34;metadata.</description></item><item><title>如何使用 INFINI 迁移功能</title><link>/console/v1.29.1/zh/docs/tutorials/data_migration/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/console/v1.29.1/zh/docs/tutorials/data_migration/</guid><description>如何使用 INFINI 迁移功能 # 简介 # 本文将介绍如何使用 INFINI Console 和 INFINI Gateway 来迁移 Elasticsearch 索引数据。
准备 # 下载并安装最新版 INFINI Console (版本要求 0.9.0-1036 及以上) 下载并安装最新版的 INFINI Gateway (版本要求 1.12.0-915 及以上) 两个 Elasticsearch 集群 Gateway 迁移配置 # 下载解压之后默认配置文件名为 gateway.yml，内容如下：
#the env section used for setup default settings，it can be overwritten by system environments. #eg: PROD_ES_ENDPOINT=http://192.168.3.185:9200 LOGGING_ES_ENDPOINT=http://192.168.3.185:9201 ./bin/gateway env: #use $[[env.LOGGING_ES_ENDPOINT]] in config instead LOGGING_ES_ENDPOINT: https://localhost:9200 LOGGING_ES_USER: admin LOGGING_ES_PASS: admin PROD_ES_ENDPOINT: https://localhost:9200 PROD_ES_USER: admin PROD_ES_PASS: admin GW_BINDING: &amp;#34;0.</description></item><item><title>为 Console 集成 Github 单点登录</title><link>/console/v1.29.1/zh/docs/tutorials/integrate-sso-login-with-github-users/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/console/v1.29.1/zh/docs/tutorials/integrate-sso-login-with-github-users/</guid><description>为 Console 集成 Github 单点登录 # 简介 # 使用用户名和密码来登录 Console 后台有时候确实很麻烦，密码修改几次自己都忘求了。如果能够通过单点登录那多方便，今天给大家介绍一下具体怎么操作。
准备 # 首先在 Github 里面的个人设置里面或者组织设置里面，找到开发者设置，如下图：
选择 OAuth Apps，点击 New OAuth App 按钮，申请一个 OAuth 应用的账号，如下图：
注意，上面标红的地址换成你部署的 Console 正常访问的地址，Github 登录之后会通过这个地址进行信息的回调，/sso/callback 是 Console 固定的用于单点登录的路径，不要修改。
如果不出任何意外的话，应该可以跳转到创建成功的页面，在这里可以看到这个 OAuth 应用的 Client ID，另外，我们点击 Generate a new client secret 来创建一个 Client secrets，并复制保存，待会配置的时候会用到。
创建角色 # 不同的用户登录之后可能需要分配不同的角色，比如我们为登录成功的用户默认分配只读角色，包括平台功能角色和集群权限，如下图：
设置角色 ReadonlyUI 如下：
设置角色 AllClusters 如下：
修改配置 # 进入 Console 配置所在的目录，新增一个配置文件 oauth.yml，添加如下配置信息：
security: oauth: enabled: true client_id: &amp;#34;替换为你的 client_id&amp;#34; client_secret: &amp;#34;替换为你的 client_secret&amp;#34; default_roles: [&amp;#34;ReadonlyUI&amp;#34;, &amp;#34;AllClusters&amp;#34;] #default for all sso users if no specify roles was defined role_mapping: Github用户名: [&amp;#34;Administrator&amp;#34;] authorize_url: &amp;#34;https://github.</description></item><item><title>如何使用 Console 查看 INFINI 组件实时日志</title><link>/console/v1.29.1/zh/docs/tutorials/view-real-time-logs/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/console/v1.29.1/zh/docs/tutorials/view-real-time-logs/</guid><description>如何使用 Console 查看 INFINI 组件实时日志 # 简介 # 如果你安装了几十个 INFINI Gateway 实例，现在有个需求是查看 gateway 的日志，怎么办呢？登录服务器，然后用 tail -f gateway.log 去查看日志。这样操作是可以，但是有没有更高端的操作呢？肯定是有的，下面我们就以查看 INFINI Gateway 实时日志为例详细介绍 如何使用 Console 查看 INFINI 组件实时日志
准备 # 下载并安装最新版 INFINI Console (版本要求 1.1.0 及以上) 下载并安装最新版的 INFINI Gateway (版本要求 1.13.0 及以上) 配置说明 # api: enabled: true network: binding: &amp;quot;localhost:2900&amp;quot; websocket: enabled: true #忽略客户端 host 检查 skip_host_verify: true #设置允许连接的客户端 host 列表，skip_host_verify 为 false 时生效 permitted_hosts: [&amp;quot;localhost:2900&amp;quot;] 以 INFINI Gateway v1.</description></item><item><title>如何在 Console 告警功能中使用环境变量</title><link>/console/v1.29.1/zh/docs/tutorials/use-env-variable-in-alert-template/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/console/v1.29.1/zh/docs/tutorials/use-env-variable-in-alert-template/</guid><description>如何在 Console 告警功能中使用环境变量 # 简介 # 在 Console 中配置告警规则的时候，经常可能会遇到这样一个情况，在设置模版的时候，有些内容都是复制粘贴的。 当这部分内容需要修改时，就需要一个个规则去修改，相当的麻烦。这时候您可能会想到能不能使用一个自定义全局变量来 定义这部分内容，这样在模版中使用的地方直接引用就可以了。如果您有这种需求，那么使用 Console 1.2.0 版本就可以了。
准备 # 下载并安装最新版 INFINI Console (版本要求 1.2.0 及以上) 告警模版中使用环境变量 # 以下是 INFINI Conosle 内置的一个告警规则 Shard Storage &amp;gt;= 55G 配置的告警内容模版，如下图：
模版配置文本内容如下：
Timestamp:{{.timestamp | datetime}} RuleID:{{.rule_id}} EventID:{{.event_id}} {{range .results}} ClusterID:{{index .group_values 0}}; ClusterName:{{lookup &amp;quot;category=metadata，object=cluster，property=name，default=N/A&amp;quot; (index .group_values 0) }}; Index: [{{index .group_values 1}}]({{$.env.INFINI_CONSOLE_ENDPOINT}}/#/cluster/overview/{{ index .group_values 0}}/indices/{{ index .group_values 1}}?_g={%22cluster_name%22:%22{{ index .group_values 0}}%22}); Max Shard Storage：{{.</description></item></channel></rss>