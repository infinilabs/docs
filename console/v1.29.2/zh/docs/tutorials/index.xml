<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>动手教程 on INFINI Console</title><link>/console/v1.29.2/zh/docs/tutorials/</link><description>Recent content in 动手教程 on INFINI Console</description><generator>Hugo -- gohugo.io</generator><atom:link href="/console/v1.29.2/zh/docs/tutorials/index.xml" rel="self" type="application/rss+xml"/><item><title>如何轻松创建一个 Elasticsearch “游客” 用户</title><link>/console/v1.29.2/zh/docs/tutorials/create_readonly_account/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/console/v1.29.2/zh/docs/tutorials/create_readonly_account/</guid><description>如何轻松创建一个 Elasticsearch “游客” 用户 # 简介 # 有些情况下，我们想给客户分享一下某些功能或者数据，但是又不希望数据被修改。这个时候我们就需要创建一个“游客” 用户了。本文简单地介绍了如何使用 INFINI Console 创建&amp;quot;游客&amp;quot;用户。
准备 # 下载并安装最新版 INFINI Console 开启 INFINI Console 安全功能 创建角色 # 点击 INFINI Console 左侧菜单 系统管理 &amp;gt; 安全设置，选择角色 Tab 页进入角色管理页。
新建平台角色 readonly # 点击新建按钮，选择平台角色，新建一个平台角色 readonly，操作步骤如下：
输入角色名称 readonly 展开所有的功能权限 除了系统设置下面的安全功能，其他所有的功能都选择 Read 权限。 系统设置下面的安全功能 设置为 None 权限。 点击保存按钮提交 选择某个功能的 All 权限代表拥有这个功能的读和写的操作权限， Read 代表只拥有读的权限， None 代表没有该功能权限（用户登录之后菜单中没有该功能）
新建数据角色 es-v7171 # 点击新建按钮，选择数据角色，新建一个数据角色 es-v7171，操作步骤如下：</description></item><item><title>如何给不同 INFINI Console 账户分配不同 Elasticsearch 集群访问权限</title><link>/console/v1.29.2/zh/docs/tutorials/role_with_different_rights/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/console/v1.29.2/zh/docs/tutorials/role_with_different_rights/</guid><description>如何给不同 INFINI Console 账户分配不同 Elasticsearch 集群访问权限 # 简介 # 本文将介绍使用 INFINI Console 给两个不同账户分配两个不同的 Elasticsearch 集群管理权限
准备 # 下载并安装最新版 INFINI Console 开启 INFINI Console 安全功能 注册至少两个 Elasticsearch 集群到 INFINI Console 创建角色 # 点击 INFINI Console 左侧菜单 系统管理 &amp;gt; 安全设置，选择角色 Tab 页进入角色管理页。
新建平台角色 platform_role # 点击新建按钮，选择平台角色，新建一个平台角色 platform_role，操作步骤如下：
输入角色名称 platform_role 展开所有的功能权限 除了系统设置下面的安全功能，其他所有的功能都选择 All 权限。 系统设置下面的安全功能 设置为 None 权限。 点击保存按钮提交 选择某个功能的 All 权限代表拥有这个功能的读和写的操作权限， Read 代表只拥有读的权限， None 代表没有该功能权限（用户登录之后菜单中没有该功能）</description></item><item><title>如何给 INFINI Console 账户分配 Elasticsearch 索引级别权限</title><link>/console/v1.29.2/zh/docs/tutorials/role_with_index_limit/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/console/v1.29.2/zh/docs/tutorials/role_with_index_limit/</guid><description>如何给 INFINI Console 账户分配 Elasticsearch 索引级别权限 # 简介 # 本文将介绍使用 INFINI Console 限定某个账户只有 Elasticsearch 集群里面某些索引的管理权限
准备 # 下载并安装最新版 INFINI Console 开启 INFINI Console 安全功能 注册至少两个 Elasticsearch 集群到 INFINI Console 创建角色 # 点击 INFINI Console 左侧菜单 系统管理 &amp;gt; 安全设置，选择角色 Tab 页进入角色管理页。
新建平台角色 platform_role # 点击新建按钮，选择平台角色，新建一个平台角色 platform_role
新建数据角色 test_index_only # 点击新建按钮，选择数据角色，新建一个数据角色 test_index_only，然后做如下配置：
将集群只选择 es-v7140 （限制该角色只有 Elasticsearch 集群 es-v7140 的访问权限） 设置索引权限 索引只输入索引 pattern test* （限制该角色只有索引名称匹配 test* 的索引访问权限） 配置完成之后点击保存按钮提交。</description></item><item><title>如何监控 Elasticsearch 里面的慢查询请求</title><link>/console/v1.29.2/zh/docs/tutorials/cluster_slow_request/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/console/v1.29.2/zh/docs/tutorials/cluster_slow_request/</guid><description>如何监控 Elasticsearch 里面的慢查询请求 # 简介 # 很多时候，Elasticsearch 集群会出现数据写入或者查询流量高峰期的情况，这个时候 Elasticsearch 集群压力会很大，通过对 Elasticsearch 索引查询的延迟的监控告警。可以让我们定位 Elasticsearch 集群的压力主要集中在哪些索引。本文将介绍如何使用 INFINI Console 告警功能监控 Elasticsearch 里面的慢查询请求索引。
准备 # 下载并安装最新版 INFINI Console 使用 INFINI Console 注册 Elasticsearch 集群 创建告警规则 # 在浏览器中打开 INFINI Console，点击左侧菜单 告警管理 &amp;gt; 规则管理 进入告警管理页，然后点击 新建 按钮进入创建告警规则页。按以下步骤创建告警规则：
选择集群（这里需要选择 INFINI Console 存储数据的 Elasticsearch 集群，也就是在配置文件 console.yml 配置的 Elasticsearch 集群，如果没有注册到 INFINI Console，请先注册） 输入告警对象 .infini_metrics*（选择 Elasticsearch 集群下的索引，或者输入索引 pattern，这里因为 INFINI Console 采集的监控数据存放在索引 .infini_metrics 里面） 输入筛选条件（Elasticsearch 查询 DSL）这里我们需要过滤监控指标类别为 index_stats，并且索引名称不能为 _all，DSL 如下： { &amp;#34;bool&amp;#34;: { &amp;#34;must&amp;#34;: [ { &amp;#34;term&amp;#34;: { &amp;#34;metadata.</description></item><item><title>如何监控 Elasticsearch 集群健康状态</title><link>/console/v1.29.2/zh/docs/tutorials/cluster_health_change/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/console/v1.29.2/zh/docs/tutorials/cluster_health_change/</guid><description>如何监控 Elasticsearch 集群健康状态 # 简介 # 很多时候 Elasticsearch 集群会因为某些原因，集群健康状态会变为红色，这个时候 Elasticsearch 集群至少存在一个主分片未分配或者丢失。所以监控 Elasticsearch 集群健康状态是很有必要的。本文将介绍如何使用 INFINI Console 告警功能监控 Elasticsearch 集群健康状态。
准备 # 下载并安装最新版 INFINI Console 使用 INFINI Console 注册 Elasticsearch 集群 创建告警规则 # 在浏览器中打开 INFINI Console, 点击左侧菜单 告警管理 &amp;gt; 规则管理 进入告警管理页，然后点击 新建 按钮进入创建告警规则页。按以下步骤创建告警规则：
选择集群（这里需要选择 INFINI Console 存储数据的 Elasticsearch 集群，也就是在配置文件 console.yml 配置的 Elasticsearch 集群，如果没有注册到 INFINI Console , 请先注册） 选择告警对象 .infini_metrics（选择 Elasticsearch 集群下的索引，或者输入索引 pattern, 这里因为 INFINI Console 采集的监控数据存放在索引 .</description></item><item><title>如何监控 Elasticsearch 集群节点磁盘使用率</title><link>/console/v1.29.2/zh/docs/tutorials/cluster_node_disk_usage/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/console/v1.29.2/zh/docs/tutorials/cluster_node_disk_usage/</guid><description>如何监控 Elasticsearch 集群节点磁盘使用率 # 简介 # 当系统磁盘使用率过高时，Elasticsearch 集群会出现数据写入不进去的情况，这样很可能导致数据丢失，所以监控 Elasticsearch 集群节点磁盘使用率是很有必要的。本文将介绍如何使用 INFINI Console 告警功能监控 Elasticsearch 集群节点磁盘的使用率。
准备 # 下载并安装最新版 INFINI Console 使用 INFINI Console 注册 Elasticsearch 集群 创建告警规则 # 在浏览器中打开 INFINI Console，点击左侧菜单 告警管理 &amp;gt; 规则管理 进入告警管理页，然后点击 新建 按钮进入创建告警规则页。按以下步骤创建告警规则：
选择集群（这里需要选择 INFINI Console 存储数据的 Elasticsearch 集群，也就是在配置文件 console.yml 配置的 Elasticsearch 集群，如果没有注册到 INFINI Console，请先注册） 输入告警对象 .infini_metrics*（选择 Elasticsearch 集群下的索引，或者输入索引 pattern，这里因为 INFINI Console 采集的监控数据存放在索引 .infini_metrics 里面） 输入筛选条件（Elasticsearch 查询 DSL）这里我们需要过滤监控指标类别为 node_stats，DSL 如下： { &amp;#34;bool&amp;#34;: { &amp;#34;must&amp;#34;: [ { &amp;#34;term&amp;#34;: { &amp;#34;metadata.</description></item><item><title>如何监控 Elasticsearch 集群节点的 CPU 使用率</title><link>/console/v1.29.2/zh/docs/tutorials/cluster_node_cpu_usage/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/console/v1.29.2/zh/docs/tutorials/cluster_node_cpu_usage/</guid><description>如何监控 Elasticsearch 集群节点的 CPU 使用率 # 简介 # 本文将介绍如何使用 INFINI Console 监控 Elasticsearch 集群节点磁盘的使用率，并进行告警。
准备 # 下载并安装最新版 INFINI Console 使用 INFINI Console 注册 Elasticsearch 集群 创建告警规则 # 在浏览器中打开 INFINI Console，点击左侧菜单 告警管理 &amp;gt; 规则管理 进入告警管理页，然后点击 新建 按钮进入创建告警规则页。按以下步骤创建告警规则：
选择集群（这里需要选择 INFINI Console 存储数据的 Elasticsearch 集群，也就是在配置文件 console.yml 配置的 Elasticsearch 集群，如果没有注册到 INFINI Console，请先注册） 输入告警对象 .infini_metrics*（选择 Elasticsearch 集群下的索引，或者输入索引 pattern，这里因为 INFINI Console 采集的监控数据存放在索引 .infini_metrics 里面） 输入筛选条件（Elasticsearch 查询 DSL）这里我们需要过滤监控指标类别为 node_stats 及元数据分类为 elasticsearch，DSL 如下： { &amp;#34;bool&amp;#34;: { &amp;#34;must&amp;#34;: [ { &amp;#34;term&amp;#34;: { &amp;#34;metadata.</description></item><item><title>如何监控 Elasticsearch 集群节点的 JVM 使用率</title><link>/console/v1.29.2/zh/docs/tutorials/cluster_node_jvm_usage/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/console/v1.29.2/zh/docs/tutorials/cluster_node_jvm_usage/</guid><description>如何监控 Elasticsearch 集群节点的 JVM 使用率 # 简介 # 本文将介绍如何使用 INFINI Console 监控 Elasticsearch 集群节点 JVM 的使用率，并进行告警。
准备 # 下载并安装最新版 INFINI Console 使用 INFINI Console 注册 Elasticsearch 集群 创建告警规则 # 在浏览器中打开 INFINI Console，点击左侧菜单 告警管理 &amp;gt; 规则管理 进入告警管理页，然后点击 新建 按钮进入创建告警规则页。按以下步骤创建告警规则：
选择集群（这里需要选择 INFINI Console 存储数据的 Elasticsearch 集群，也就是在配置文件 console.yml 配置的 Elasticsearch 集群，如果没有注册到 INFINI Console，请先注册） 输入告警对象 .infini_metrics*（选择 Elasticsearch 集群下的索引，或者输入索引 pattern，这里因为 INFINI Console 采集的监控数据存放在索引 .infini_metrics 里面） 输入筛选条件（Elasticsearch 查询 DSL）这里我们需要过滤监控指标类别为 node_stats 及元数据分类为 elasticsearch，DSL 如下： { &amp;#34;bool&amp;#34;: { &amp;#34;must&amp;#34;: [ { &amp;#34;term&amp;#34;: { &amp;#34;metadata.</description></item><item><title>如何使用 INFINI 迁移功能</title><link>/console/v1.29.2/zh/docs/tutorials/data_migration/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/console/v1.29.2/zh/docs/tutorials/data_migration/</guid><description>如何使用 INFINI 迁移功能 # 简介 # 本文将介绍如何使用 INFINI Console 和 INFINI Gateway 来迁移 Elasticsearch 索引数据。
准备 # 下载并安装最新版 INFINI Console (版本要求 0.9.0-1036 及以上) 下载并安装最新版的 INFINI Gateway (版本要求 1.12.0-915 及以上) 两个 Elasticsearch 集群 Gateway 迁移配置 # 下载解压之后默认配置文件名为 gateway.yml，内容如下：
#the env section used for setup default settings，it can be overwritten by system environments. #eg: PROD_ES_ENDPOINT=http://192.168.3.185:9200 LOGGING_ES_ENDPOINT=http://192.168.3.185:9201 ./bin/gateway env: #use $[[env.LOGGING_ES_ENDPOINT]] in config instead LOGGING_ES_ENDPOINT: https://localhost:9200 LOGGING_ES_USER: admin LOGGING_ES_PASS: admin PROD_ES_ENDPOINT: https://localhost:9200 PROD_ES_USER: admin PROD_ES_PASS: admin GW_BINDING: &amp;#34;0.</description></item><item><title>为 Console 集成 Github 单点登录</title><link>/console/v1.29.2/zh/docs/tutorials/integrate-sso-login-with-github-users/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/console/v1.29.2/zh/docs/tutorials/integrate-sso-login-with-github-users/</guid><description>为 Console 集成 Github 单点登录 # 简介 # 使用用户名和密码来登录 Console 后台有时候确实很麻烦，密码修改几次自己都忘求了。如果能够通过单点登录那多方便，今天给大家介绍一下具体怎么操作。
准备 # 首先在 Github 里面的个人设置里面或者组织设置里面，找到开发者设置，如下图：
选择 OAuth Apps，点击 New OAuth App 按钮，申请一个 OAuth 应用的账号，如下图：
注意，上面标红的地址换成你部署的 Console 正常访问的地址，Github 登录之后会通过这个地址进行信息的回调，/sso/callback 是 Console 固定的用于单点登录的路径，不要修改。
如果不出任何意外的话，应该可以跳转到创建成功的页面，在这里可以看到这个 OAuth 应用的 Client ID，另外，我们点击 Generate a new client secret 来创建一个 Client secrets，并复制保存，待会配置的时候会用到。
创建角色 # 不同的用户登录之后可能需要分配不同的角色，比如我们为登录成功的用户默认分配只读角色，包括平台功能角色和集群权限，如下图：
设置角色 ReadonlyUI 如下：
设置角色 AllClusters 如下：
修改配置 # 进入 Console 配置所在的目录，新增一个配置文件 oauth.yml，添加如下配置信息：
security: oauth: enabled: true client_id: &amp;#34;替换为你的 client_id&amp;#34; client_secret: &amp;#34;替换为你的 client_secret&amp;#34; default_roles: [&amp;#34;ReadonlyUI&amp;#34;, &amp;#34;AllClusters&amp;#34;] #default for all sso users if no specify roles was defined role_mapping: Github用户名: [&amp;#34;Administrator&amp;#34;] authorize_url: &amp;#34;https://github.</description></item><item><title>如何使用 Console 查看 INFINI 组件实时日志</title><link>/console/v1.29.2/zh/docs/tutorials/view-real-time-logs/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/console/v1.29.2/zh/docs/tutorials/view-real-time-logs/</guid><description>如何使用 Console 查看 INFINI 组件实时日志 # 简介 # 如果你安装了几十个 INFINI Gateway 实例，现在有个需求是查看 gateway 的日志，怎么办呢？登录服务器，然后用 tail -f gateway.log 去查看日志。这样操作是可以，但是有没有更高端的操作呢？肯定是有的，下面我们就以查看 INFINI Gateway 实时日志为例详细介绍 如何使用 Console 查看 INFINI 组件实时日志
准备 # 下载并安装最新版 INFINI Console (版本要求 1.1.0 及以上) 下载并安装最新版的 INFINI Gateway (版本要求 1.13.0 及以上) 配置说明 # api: enabled: true network: binding: &amp;quot;localhost:2900&amp;quot; websocket: enabled: true #忽略客户端 host 检查 skip_host_verify: true #设置允许连接的客户端 host 列表，skip_host_verify 为 false 时生效 permitted_hosts: [&amp;quot;localhost:2900&amp;quot;] 以 INFINI Gateway v1.</description></item><item><title>如何在 Console 告警功能中使用环境变量</title><link>/console/v1.29.2/zh/docs/tutorials/use-env-variable-in-alert-template/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/console/v1.29.2/zh/docs/tutorials/use-env-variable-in-alert-template/</guid><description>如何在 Console 告警功能中使用环境变量 # 简介 # 在 Console 中配置告警规则的时候，经常可能会遇到这样一个情况，在设置模版的时候，有些内容都是复制粘贴的。 当这部分内容需要修改时，就需要一个个规则去修改，相当的麻烦。这时候您可能会想到能不能使用一个自定义全局变量来 定义这部分内容，这样在模版中使用的地方直接引用就可以了。如果您有这种需求，那么使用 Console 1.2.0 版本就可以了。
准备 # 下载并安装最新版 INFINI Console (版本要求 1.2.0 及以上) 告警模版中使用环境变量 # 以下是 INFINI Conosle 内置的一个告警规则 Shard Storage &amp;gt;= 55G 配置的告警内容模版，如下图：
模版配置文本内容如下：
Timestamp:{{.timestamp | datetime}} RuleID:{{.rule_id}} EventID:{{.event_id}} {{range .results}} ClusterID:{{index .group_values 0}}; ClusterName:{{lookup &amp;quot;category=metadata，object=cluster，property=name，default=N/A&amp;quot; (index .group_values 0) }}; Index: [{{index .group_values 1}}]({{$.env.INFINI_CONSOLE_ENDPOINT}}/#/cluster/overview/{{ index .group_values 0}}/indices/{{ index .group_values 1}}?_g={%22cluster_name%22:%22{{ index .group_values 0}}%22}); Max Shard Storage：{{.</description></item></channel></rss>